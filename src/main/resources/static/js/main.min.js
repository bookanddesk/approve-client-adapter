/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */

//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.

define("md5",["require"],function(e){var t=function(e,t){return e<<t|e>>>32-t},i=function(e,t){var i,s,a,n,o;return a=2147483648&e,n=2147483648&t,i=1073741824&e,s=1073741824&t,o=(1073741823&e)+(1073741823&t),i&s?2147483648^o^a^n:i|s?1073741824&o?3221225472^o^a^n:1073741824^o^a^n:o^a^n},s=function(e,t,i){return e&t|~e&i},a=function(e,t,i){return e&i|t&~i},n=function(e,t,i){return e^t^i},o=function(e,t,i){return t^(e|~i)},r=function(e,a,n,o,r,l,p){return e=i(e,i(i(s(a,n,o),r),p)),i(t(e,l),a)},l=function(e,s,n,o,r,l,p){return e=i(e,i(i(a(s,n,o),r),p)),i(t(e,l),s)},p=function(e,s,a,o,r,l,p){return e=i(e,i(i(n(s,a,o),r),p)),i(t(e,l),s)},c=function(e,s,a,n,r,l,p){return e=i(e,i(i(o(s,a,n),r),p)),i(t(e,l),s)},h=function(e){for(var t,i=e.length,s=i+8,a=(s-s%64)/64,n=16*(a+1),o=Array(n-1),r=0,l=0;l<i;)t=(l-l%4)/4,r=l%4*8,o[t]=o[t]|e.charCodeAt(l)<<r,l++;return t=(l-l%4)/4,r=l%4*8,o[t]=o[t]|128<<r,o[n-2]=i<<3,o[n-1]=i>>>29,o},d=function(e){var t,i,s="",a="";for(i=0;i<=3;i++)t=e>>>8*i&255,a="0"+t.toString(16),s+=a.substr(a.length-2,2);return s},u=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t};return function(e){var t,s,a,n,o,g,f,y,m,v=Array();for(e=u(e),v=h(e),g=1732584193,f=4023233417,y=2562383102,m=271733878,t=0;t<v.length;t+=16)s=g,a=f,n=y,o=m,g=r(g,f,y,m,v[t+0],7,3614090360),m=r(m,g,f,y,v[t+1],12,3905402710),y=r(y,m,g,f,v[t+2],17,606105819),f=r(f,y,m,g,v[t+3],22,3250441966),g=r(g,f,y,m,v[t+4],7,4118548399),m=r(m,g,f,y,v[t+5],12,1200080426),y=r(y,m,g,f,v[t+6],17,2821735955),f=r(f,y,m,g,v[t+7],22,4249261313),g=r(g,f,y,m,v[t+8],7,1770035416),m=r(m,g,f,y,v[t+9],12,2336552879),y=r(y,m,g,f,v[t+10],17,4294925233),f=r(f,y,m,g,v[t+11],22,2304563134),g=r(g,f,y,m,v[t+12],7,1804603682),m=r(m,g,f,y,v[t+13],12,4254626195),y=r(y,m,g,f,v[t+14],17,2792965006),f=r(f,y,m,g,v[t+15],22,1236535329),g=l(g,f,y,m,v[t+1],5,4129170786),m=l(m,g,f,y,v[t+6],9,3225465664),y=l(y,m,g,f,v[t+11],14,643717713),f=l(f,y,m,g,v[t+0],20,3921069994),g=l(g,f,y,m,v[t+5],5,3593408605),m=l(m,g,f,y,v[t+10],9,38016083),y=l(y,m,g,f,v[t+15],14,3634488961),f=l(f,y,m,g,v[t+4],20,3889429448),g=l(g,f,y,m,v[t+9],5,568446438),m=l(m,g,f,y,v[t+14],9,3275163606),y=l(y,m,g,f,v[t+3],14,4107603335),f=l(f,y,m,g,v[t+8],20,1163531501),g=l(g,f,y,m,v[t+13],5,2850285829),m=l(m,g,f,y,v[t+2],9,4243563512),y=l(y,m,g,f,v[t+7],14,1735328473),f=l(f,y,m,g,v[t+12],20,2368359562),g=p(g,f,y,m,v[t+5],4,4294588738),m=p(m,g,f,y,v[t+8],11,2272392833),y=p(y,m,g,f,v[t+11],16,1839030562),f=p(f,y,m,g,v[t+14],23,4259657740),g=p(g,f,y,m,v[t+1],4,2763975236),m=p(m,g,f,y,v[t+4],11,1272893353),y=p(y,m,g,f,v[t+7],16,4139469664),f=p(f,y,m,g,v[t+10],23,3200236656),g=p(g,f,y,m,v[t+13],4,681279174),m=p(m,g,f,y,v[t+0],11,3936430074),y=p(y,m,g,f,v[t+3],16,3572445317),f=p(f,y,m,g,v[t+6],23,76029189),g=p(g,f,y,m,v[t+9],4,3654602809),m=p(m,g,f,y,v[t+12],11,3873151461),y=p(y,m,g,f,v[t+15],16,530742520),f=p(f,y,m,g,v[t+2],23,3299628645),g=c(g,f,y,m,v[t+0],6,4096336452),m=c(m,g,f,y,v[t+7],10,1126891415),y=c(y,m,g,f,v[t+14],15,2878612391),f=c(f,y,m,g,v[t+5],21,4237533241),g=c(g,f,y,m,v[t+12],6,1700485571),m=c(m,g,f,y,v[t+3],10,2399980690),y=c(y,m,g,f,v[t+10],15,4293915773),f=c(f,y,m,g,v[t+1],21,2240044497),g=c(g,f,y,m,v[t+8],6,1873313359),m=c(m,g,f,y,v[t+15],10,4264355552),y=c(y,m,g,f,v[t+6],15,2734768916),f=c(f,y,m,g,v[t+13],21,1309151649),g=c(g,f,y,m,v[t+4],6,4149444226),m=c(m,g,f,y,v[t+11],10,3174756917),y=c(y,m,g,f,v[t+2],15,718787259),f=c(f,y,m,g,v[t+9],21,3951481745),g=i(g,s),f=i(f,a),y=i(y,n),m=i(m,o);return(d(g)+d(f)+d(y)+d(m)).toLowerCase()}}),define("utils",["md5"],function(e){function t(e){return"%"==e.substring(e.length-1)||"auto"==e}function i(e,t){e=parseInt(e);var i=t.width/w.baseSize.width;return i=i>1.5?1.5:i,t.width>1e3&&(i=1),parseInt(i*e)}function s(e,t){e=parseInt(e);var i=t.height/w.baseSize.height;return i=i>1.5?1.5:i,parseInt(i*e)}function a(e,t,a,n,o,r){if(1===n){if("fontSize"==e||"font-size"==e||"line-height"==e||"lineHeight"==e){t=parseInt(t);var l=o.width/w.baseSize.width;return l=l>1.5?1.5:l,o.width>1e3&&(l=1),l=l<1?1:l,parseInt(l*t)}return"width"==e||"left"==e||"right"==e||"maxWidth"==e||"marginLeft"==e||"marginRight"==e||"max-width"==e||"minWidth"==e||"min-width"==e?i(t,o):"top"==e||"marginBottom"==e||"marginTop"==e||"bottom"==e||"maxHeight"==e||"max-height"==e||"minHeight"==e||"min-height"==e?s(t,o):i(t,o)}return 0===a||2===a?s(t,o):i(t,o)}function n(e,i,s,n){var o=[];if(i.length>1&&i.length<4||"padding"==e||"margin"==e)if(1==i.length){var r=i[0];i=[r,r,r,r]}else i[2]?i[3]||(i[3]=i[1]):(i[2]=i[0],i[3]=i[1]);for(var l=0,p=i.length;l<p;l++){var c=i[l];t(c)||(c=a(e,c,l,p,s,n)+"px"),o.push(c)}return o.join(" ")}var o,r,l,p,c,h={},d={},u={},g={w:!0,borderRadius:!0,maxHeight:!0,lineHeight:!0,"line-height":!0,"max-height":!0,maxWidth:!0,"max-width":!0,minWidth:!0,"min-width":!0,minHeight:!0,"min-height":!0,fs:!0,top:!0,left:!0,right:!0,bottom:!0,fontSize:!0,"font-size":!0,width:!0,height:!0,padding:!0,paddingTop:!0,paddingRight:!0,paddingLeft:!0,paddingBottom:!0,"padding-bottom":!0,"padding-top":!0,"padding-left":!0,"padding-right":!0,margin:!0,marginTop:!0,marginRight:!0,marginLeft:!0,marginBottom:!0,"margin-bottom":!0,"margin-top":!0,"margin-left":!0,"margin-right":!0},f={flexShrink:"yy-fs-",flexDirection:"yy-fd-","flex-direction":"yy-fd-","flex-shrink":"yy-fs-",justifyContent:"yy-jc-","justify-content":"yy-jc-","align-items":"yy-ai-",alignItems:"yy-ai-",alignContent:"yy-ac-","align-content":"yy-ac-",alignSelf:"yy-as-","align-self":"yy-as-","flex-wrap":"yy-fw-",flexWrap:"yy-fw-",flex:"yy-flex-"},y=null,m=null,v={},w={isSupportFlexWrap:function(){return p||(p=document.createElement("p"),c=p.style.flexWrap||p.style.webkitFlexWrap,c=""===c),c},fontSize:function(e){return v[e.toString()]||(v[e.toString()]=this.getRealWidth(e)),v[e.toString()]},fontSize12:function(){return m||(m=this.getRealWidth(12)),m},fontSize13:function(){return o||(o=this.getRealWidth(13)),o},fontSize14:function(){return r||(r=this.getRealWidth(14)),r},fontSize15:function(){return l||(l=this.getRealWidth(15)),l},AutoResizeImage:function(e,t,i,s){var a=new Image;a.src=i.src,a.onload=function(){var n,o,r=1,l=a.width,p=a.height;if(o=e/l,n=t/p,0===e&&0===t?r=1:0===e?n<1&&(r=n):0===t?o<1&&(r=o):(o<1||n<1)&&(r=o<=n?o:n),"1"===s){r<1&&(l>=p?(l="auto",p="100%"):(l="100%",p="auto"));var c={w:"100%"===l||"auto"===l?l:l+"px",h:"100%"===p||"auto"===p?p:p+"px"};i.style.width=c.w,i.style.height=c.h}else r<1&&(l*=r,p*=r),i.height=p,i.width=l}},getImgBg:function(t){if((t=t||"")in u)return u[t];var i=e(t).charAt(0).toLowerCase(),s=["#29d4ff","#1594ff","#ffa92f","#b587fa","#06cf86","#fa6771","#73d51c","#8991ff"],a=s["abcdefghijklmnopqrstuvwxyz0123456789".indexOf(i)%s.length];return u[t]=a,a},getImgTitle:function(e){try{return e=e||"",/[\u4e00-\u9fa5]/.test(e)?e.substr(-2):e.substr(0,2)}catch(t){return e}},deviceInfo:function(){if(void 0!==this._deviceInfo)return this._deviceInfo;var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,i=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return this._deviceInfo={isAndroid:t,isIOS:i},this._deviceInfo},getPicSize:function(e,t,i,s){var a,n,o=1;return n=e/i,a=t/s,0===e&&0===t?o=1:0===e?a<1&&(o=a):0===t?n<1&&(o=n):(n<1||a<1)&&(o=n<=a?n:a),o<1&&(i>=s?(i="auto",s="100%"):(i="100%",s="auto")),{w:"100%"===i||"auto"===i?i:i+"px",h:"100%"===s||"auto"===s?s:s+"px"}},convertStrToDate:function(e){if(!e)return new Date;var t=e.split(" "),i=t[0],s=t[1]||"",a=s.split(":"),n=i.split("-");return 3!=n.length&&(n=i.split("/")),3!=n.length?new Date:s?new Date(n[0],parseInt(n[1])-1,n[2],a[0]||0,a[1]||0,a[2]||0):new Date(n[0],parseInt(n[1])-1,n[2])},getPreMonth:function(e){var t=this.getDateInfo(e);return new Date(t.year,t.month-1,0)},getCurMonthFirstDay:function(e){e=this.convertToDate(e);var t=this.getDateInfo(e);return new Date(t.year,t.month-1,1)},getPreYear:function(e){var t=this.getDateInfo(e);return new Date(t.year-1,t.month-1,1)},setDateToYear:function(e,t){var i=this.getDateInfo(e);return new Date(t,i.month-1,1)},setMonthToDate:function(e,t){t=parseInt(t);var i=this.getDateInfo(e);return new Date(i.year,t-1,1)},getNextYear:function(e){var t=this.getDateInfo(e);return new Date(t.year+1,t.month-1,1)},getNextMonth:function(e){var t=this.getDateInfo(e);return new Date(t.year,t.month+1,0)},getMonthFirstDayWhicDayInWeek:function(e){return e=this.convertToDate(e),new Date(e.getFullYear(),e.getMonth(),1).getDay()},getDateWhichDayInWeek:function(e){return e=this.convertToDate(e),e.getDay()},timestampToDate:function(e){return e?(10===e.length&&(e*=1e3),new Date(parseInt(e))):new Date},ConvertDateToStr:function(e,t){e=this.convertToDate(e);var i=this.getDateInfo(e);return i.month=i.month<10?"0"+i.month:i.month,i.day=i.day<10?"0"+i.day:i.day,i.min=i.min<10?"0"+i.min:i.min,i.second=i.second<10?"0"+i.second:i.second,i.hour=i.hour<10?"0"+i.hour:i.hour,"yyyy-MM-dd"==t?i.year+"-"+i.month+"-"+i.day:"yyyy-MM"==t?i.year+"-"+i.month:"yyyy-mm"==t?i.year+"-"+i.month:"yyyy-MM-dd hh:mm:ss"==t?i.year+"-"+i.month+"-"+i.day+" "+i.hour+":"+i.min+":"+i.second:"yyyy-mm-dd hh:mm"==t?i.year+"-"+i.month+"-"+i.day+" "+i.hour+":"+i.min:"MM-dd hh:mm"==t?i.month+"-"+i.day+" "+i.hour+":"+i.min:"hh:mm"==t?i.hour+":"+i.min:"hh:mm:ss"==t?i.hour+":"+i.min+":"+i.second:"MM-dd week"==t?i.month+"-"+i.day+" "+i.week:"yyyy-MM-dd weekFullStr"==t?i.year+"-"+i.month+"-"+i.day+" "+i.weekFullStr:"yyyy-MM-dd week"==t?i.year+"-"+i.month+"-"+i.day+" "+i.week:"yyyy-MM-dd hh:mm"==t?i.year+"-"+i.month+"-"+i.day+" "+i.hour+":"+i.min:"yyyy年MM月dd日"==t?("0"===i.month[0]&&(i.month=i.month[1]),"0"===i.day[0]&&(i.day=i.day[1]),i.year+"年"+i.month+"月"+i.day+"日"):"yyyy-mm-dd(c)"==t?("0"===i.month[0]&&(i.month=i.month[1]),"0"===i.day[0]&&(i.day=i.day[1]),i.year+"年"+i.month+"月"+i.day+"日"):"all"===t?{"yyyy-MM-dd":i.year+"-"+i.month+"-"+i.day,"yyyy年MM月dd日":i.year+"年"+i.month+"月"+i.day+"日"}:i.year+"-"+i.month+"-"+i.day},getMonthDayCount:function(e){return e=this.convertToDate(e),new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},convertToDate:function(e){try{if(e instanceof Date)return e;if(!isNaN(e))return this.timestampToDate(e);if("string"==typeof e)return this.convertStrToDate(e)}catch(e){return new Date}return new Date},_processtime:function(e){return e<10?"0"+e:e},weekArr:["日","一","二","三","四","五","六"],getDateInfo:function(e){e=this.convertToDate(e);var t=e.getMonth()+1,i=e.getDate(),s=e.getHours(),a=e.getMinutes(),n=e.getSeconds(),o=e.getDay(),r=e.getTime();return{year:e.getFullYear(),month:t,weekStr:this.weekArr[o],week:this.weekArr[o],weekFullStr:"星期"+this.weekArr[o],monthStr:this._processtime(t),day:i,dayStr:this._processtime(i),hour:s,hourStr:this._processtime(s),min:a,minStr:this._processtime(a),second:n,secondStr:this._processtime(n),timestamp:r}},viewport:{width:null,height:null},getUrl:function(e){if(e.indexOf("http")>=0||e.indexOf("https")>=0)return e;var t=this.appConfig.host;return t||console.error("请在app.js中指定host属性"),t=$.trim(t),e=$.trim(e),"/"==t.substring(t.length-1)&&(t=t.substring(0,t.length-1)),"/"==e.substring(0,1)&&(e=e.substring(1)),t+"/"+e},createStyleSheet:function(e,t){if(!document.getElementById(e)){var i=document.createElement("style");i.type="text/css",i.id=e,i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i)}},timestampToDateInfo:function(e){var t;try{e=parseFloat(e),t=new Date(e)}catch(e){t=new Date}return this.getDateInfo(t)},timestampToTimeStr:function(e,t){e=+new Date(e);var i="";try{e=parseFloat(e);var s=new Date(e),a=new Date,n=a.getTime(),o=this.getDateInfo(s),r=this.getDateInfo(a);n=parseInt((n-e)/1e3);var l;n<10?i=this.getLanguageText("justNow"):10<n&&n<60?i=n+this.getLanguageText("fewSec"):n<3600&&n>=60?(l=Math.floor(n/60),i=l+this.getLanguageText("fewMin")):i=r.year===o.year&&r.day===o.day&&r.month===o.month?this.getLanguageText("today")+o.hourStr+":"+o.minStr:t?r.year===o.year?o.monthStr+"."+o.dayStr:o.year+"."+o.monthStr+"."+o.dayStr:r.year===o.year?o.monthStr+"-"+o.dayStr+" "+o.hourStr+":"+o.minStr:o.year+"-"+o.monthStr+"-"+o.dayStr+" "+o.hourStr+":"+o.minStr}catch(e){}return i},getLanguageText:function(e){for(var t,i=window.navigator.userAgent.split(" "),s=navigator.language||"zh-CN",a=0;a<i.length;a++)i[a].indexOf("youZoneLanguage=")>-1&&(s=i[a].split("=")[1]);return"tw"==s.toLowerCase()&&(s="zh-CN"),s=/^zh/.test(s)?"zh-CN":/^en/.test(s)?"en":/^es/.test(s)?"es":s,t="zh-CN"===s?{justNow:"刚刚",today:"今天",fewSec:"秒前",fewMin:"分钟前",example:"例：情况属实，予以同意",cancel:"取消",confirm:"确定",reset:"重置",searchTitle:"搜索标题",search:"搜索",pullToRefresh:"下拉刷新",releaseToUpdate:"释放更新",loading:"正在加载",showDone:"已显示所有数据",NetworkError:"网络异常",reLoading:"重新加载",networkerrorLoading:"网络异常,尝试再次下拉刷新",type:"  类型  ",button:"按钮",pleaseSelect:"请选择",Monday:"一",TuesDay:"二",Wednesday:"三",Thursday:"四",Friday:"五",Saturday:"六",Sunday:"日",Month:"月"}:{justNow:"Now",today:"Today",fewSec:" Secs ago",fewMin:" Mins ago",example:"For example: I agree with it,please execute!",cancel:"Cancel",confirm:"Confirm",reset:"Reset",searchTitle:"Title Searching",search:"Search",pullToRefresh:"Pull to Refresh",releaseToUpdate:"Release to Update",loading:"Loading",showDone:"All Data Displayed",NetworkError:"Network error",reLoading:"ReLoading",networkerrorLoading:"Network exception, try to pull down again refresh",type:"  Type  ",button:"Button",pleaseSelect:"Select",Monday:"Mon",TuesDay:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun",Month:"Month"},t[e]},_isBadAndroid:null,isBadAndroid:function(){if(null!==this._isBadAndroid)return this._isBadAndroid;var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);t&&"object"==typeof t&&t.length>=2?this._isBadAndroid=parseFloat(t[1])<535.19:this._isBadAndroid=!0}else this._isBadAndroid=!1;return this._isBadAndroid},processHTMLMethod2:function(e){var t=$("<div></div>");t.html(e);var i=t.find("img"),s=t.html();return i.replaceWith(""),{originalText:s,imageDoms:i,curText:t.text()}},processHTML:function(e,t){var i=$("<div></div>");i.html(e);var s=i.find("img"),a=$("<div></div>");a.html(e);var n=a.find("img");return t&&(t(n),t(s)),s.replaceWith(""),{dom:a,originalTextDom:i,imageDoms:s,curText:i.text()}},ajax:function(e){var t=this,i=(e.pageviewInstance,t.appConfig.beforeSendAjax);i&&i(e);var s={type:e.type,url:this.getUrl(e.url),data:e.data,success:function(i){var s=t.appConfig.onAjaxResponse;s&&s({isSuccess:!0,data:i,config:e}),e.success&&e.success(i)},error:function(i){var s=t.appConfig.onAjaxResponse;s&&s({isSuccess:!1,e:i,config:e,data:{code:-1e3,msg:"服务器错误"}}),e.error&&e.error(i)}};e.contentType?(s.contentType=e.contentType,s.dataType="json"):s.contentType="application/x-www-form-urlencoded",e.xhrFields,$.ajax(s)},concat:function(e,t,i){i||console.error("合并页面配置的时候没有指定namespace"),e.components=e.components||{};for(var s in t){var a=i+s;e.components[a]&&console.error(a+" 已经存在原有的页面中 请不要重复控件的Key");var n=t[s],o=n.root;if(o)for(var r=0,l=o.length;r<l;r++)o[r]=i+o[r];e.components[a]=t[s]}return e},getTransitionKeys:function(){if(y)return y;var e=document.createElement("DIV").style,t={};return"-webkit-transform"in e?(t.transitionend="webkitTransitionEnd",t.transform="-webkit-transform",t.transition="-webkit-transition"):(t.transitionend="transitionend",t.transform="transform",t.transition="transition"),y=t,t},baseSize:{width:375,height:667},getRealWidth:function(e){e=parseInt(e);var t=this.viewport.width/this.baseSize.width;return t=t>1.5?1.5:t,this.viewport.width>1e3&&(t=1),parseInt(t*e)},getRealHeight:function(e){e=parseInt(e);var t=this.viewport.height/this.baseSize.height;return t=t<1?1:t,t=t>1.5?1.5:t,parseInt(t*e)},_initScrennSize:function(){this.viewport.width||(this.viewport.width=window.screen.width>700?document.body.offsetWidth:window.screen.width,window.screen.width>700?this.viewport.height=document.body.offsetHeight:this.viewport.height=window.screen.height)},processStyle:function(e,t){e=this.clone(e),this._initScrennSize(),t||(t=this.viewport),e=e||{};for(var s in e){var a=e[s].toString();if(g[s]){var o=a.split(" ");"fs"==s?(e.fontSize=parseInt(a)+"px",delete e.fs):"w"==s?(delete e.width,delete e.height,e.height=e.width=i(e.w,t)+"px",delete e.w):e[s]=n(s,o,t,e)}}return e},processPageConfig:function(e){var t;if(this.viewport.width||this._initScrennSize(),e.showPageStyle){var i=e.showPageStyle.width||"100%",s=e.showPageStyle.height||"100%";i=i.toString(),s=s.toString(),i="%"==i.substring(i.length-1)?parseInt(i)/100*this.viewport.width:parseInt(i)*this.viewport.width,s="%"==s.substring(s.length-1)?parseInt(s)/100*this.viewport.height:parseInt(s)*this.viewport.height,t={width:i,height:s}}else t=this.viewport;if(e.style&&(e.style=this.processStyle(e.style,t)),e.components)for(var a in e.components){var n=this.clone(e.components[a]);for(var o in n)o.length>=5&&"STYLE"==o.substring(o.length-5).toUpperCase()&&(n[o]=this.processStyle(n[o],t));e.components[a]=n}return e},setPageConfigByPagePath:function(e,t){return t.isNoAdaptScreen||(t=this.processPageConfig(t)),d[e]=t,t},getPageConfigByPagePath:function(e){return d[e]},getComponentInstance:function(e){return h[e]},customerComponents:{},getComponentClass:function(e,t,i){var s=e.type,a=h[s];if(a)return void t(a);var n=w.customerComponents[s];n||(n="../../components/"+s.toLowerCase()),require([n],function(e){h[s]=e,t(e)},function(){i(e)})},clone:function(e){var t=JSON.stringify(e);return JSON.parse(t)},getClassByStyle:function(e){var t=[];for(var i in e){var s=f[i];if(s){var a=e[i];t.push(s+a)}}return t},css:function(e,t,i){if(t){var s=this.getClassByStyle(t);s.length>0&&e.addClass(s.join(" ")),i&&(t=this.processStyle(t)),e.css(t)}},simpleExtendObj:function(e,t){e=e||{},t=t||{};for(var i in t)e[i]=t[i];return e},processTransitionStyle:function(e){return{transition:e,"-webkit-transition":e}},processTransformStyle:function(e){return{transform:e,"-webkit-transform":e}},processTransitionTanformStyle:function(e,t){return{"-webkit-transition":e,"-webkit-transform":t}},addDay:function(e,t){return e=this.convertToDate(e),new Date(e.setDate(e.getDate()+t))},compareDate:function(e,t,i){return i=i||"yyyy-MM-dd",e=this.ConvertDateToStr(e,i),t=this.ConvertDateToStr(t,i),this.compareTime(e,t)},compareTime:function(e,t){return e=this.convertToDate(e),t=this.convertToDate(t),e>t?1:e-t==0?0:-1},deleteEmoji:function(e){return e.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,"")},copy:function(e,t){if(null===e||void 0===e||"object"!=typeof e)return e;if(e.constructor!=Object&&e.constructor!=Array)return e;if(e.constructor==Date||e.constructor==RegExp||e.constructor==Function||e.constructor==String||e.constructor==Number||e.constructor==Boolean)return new e.constructor(e);t=t||new e.constructor;for(var i in e)t[i]=void 0===t[i]?this.copy(e[i],null):t[i];return t},extends:function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.baseConstructor=t,e.superClass=t.prototype},isEmail:function(e){return!!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)},isMobile:function(e){if(!e)return"请输入座机号";var t=/^0\d{2,3}-?[2-9]\d{6,7}$/,i=/^0\d{2,3}-?[2-9]\d{6,7}-?\d{1,4}$/,s=/^\d{7,8}$/;return!!(t.test(e)||s.test(e)||i.test(e))},isPhone:function(e){return e?!!/(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/.test(e):"请输入手机号"},isRealURL:function(e){return!!/(^(https?:\/\/)?(\w+\.)+[a-zA-Z])/.test(e)},addMonth:function(e,t){var i=t||new Date,s=i.getMonth(),a=i.getDate(),n=[31,28,31,30,31,30,31,31,30,31,30,31],o=i.getFullYear();(o%4==0&&o%100!=0||o%400==0)&&(n[1]=29),i.setMonth(s+e);var r=i.getDate();a===n[s]&&(r!==a?i.setDate(0):(i.setDate(1),i.setMonth(i.getMonth()+1),i.setDate(0)));var l=i.getFullYear(),p=i.getMonth()+1,c=i.getDate();return p<10&&(p="0"+p),c<10&&(c="0"+c),l+"-"+p+"-"+c},dateCalculate:function(e,t,i,s){switch(e){case"d ":"add"===s?i+=24*t*60*60*1e3:i-=24*t*60*60*1e3;break;case"h ":"add"===s?i+=60*t*60*1e3:i-=60*t*60*1e3;break;case"m ":"add"===s?i+=60*t*1e3:i-=60*t*1e3}return i},getQueryStringByName:function(e,t){var i=e.match(new RegExp("[?&]"+t+"=([^&]+)","i"));return null===i||i.length<1?"":i[1]}};return w}),define("app",["utils"],function(e){var t="http://114.113.234.244:8095/approve-client-adapter";return t="http://114.113.234.244:8095/approve-client-adapter",{init:function(e){e.start({host:t,version:"1.2.0",versionkey:"approveversionkey",feature:"<div style='text-align:left'>审批</div>",customerComponents:{ApproveSearchView:"./components/ApproveSearchView"},root:"waitmeapprove",baseSize:{width:375,height:667},beforeSendAjax:function(e){var t=e.pageviewInstance;e.data=e.data||{},e.data.token=t.params.token,e.xhrFields=!0},beforeGo:function(e){var t=e.pageviewInstance;e.params.token=t.params.token||""},onAjaxResponse:function(t){if(t.isSuccess&&t.data){var i=t.data.success;if(t.data.code=!0===i?0:500,"100010008"===t.data.code.toString()){e.showTip({text:"操作过期,两秒后会自动退出",duration:3500,clickNoHide:!0});try{window.setTimeout(function(){window.history.back(-1)},3500)}catch(e){}}}}})}}}),define("tip",["utils"],function(e){var t=function(e,t){var i=this;e=e||$(document.body),this.tipWrapper=t?$("<div class='yy-tip displayflex jc-center ai-center displaynone' style='position:absolute;left: 80px;transform: rotate(90deg)'></div>"):$("<div class='yy-tip displayflex jc-center ai-center displaynone'></div>"),this.textDom=$('<div class="yy-tip-text displaynone"></div>'),this.backCover=$('<div class="yy-tip-backcover displaynone"></div>'),this.backCover.bind("click",function(){i.clickBackCover()}),this.tipWrapper.append(this.textDom),e.append(this.tipWrapper).append(this.backCover),this.hideTimeoutId=null};return t.prototype={show:function(t){var i=this;this.textPos=t.textPos||"bottom","left"==this.textPos||"right"==this.textPos?this.tipWrapper.addClass("flex-h"):this.tipWrapper.addClass("flex-v");var s=t.pos||"center";this.config=t,this.hideTimeoutId&&window.clearTimeout(this.hideTimeoutId),t=t||{};var a=t.style;a&&this.tipWrapper.css(e.processStyle(a)),this._setText(t.text,t.textStyle),this._setIcon(t.font,t.iconStyle),this.config.withoutBackCover||this.backCover.removeClass("displaynone"),this.startClass="yy-tip-ani-"+s+"-start",this.tipWrapper.removeClass("displaynone").addClass(this.startClass),window.setTimeout(function(){i.endClass="yy-tip-ani-"+s+"-end",i.tipWrapper.addClass(i.endClass)},3),t.duration&&!isNaN(t.duration)&&(this.hideTimeoutId=window.setTimeout(function(){i.hide()},parseInt(t.duration)))},_setText:function(t,i){t?(this.textDom.removeClass("displaynone"),i&&this.textDom.css(e.processStyle(i)),this.textDom.html(t)):this.textDom.addClass("displaynone")},_setIcon:function(t,i){this.iconDom&&this.iconDom.remove();var s,a;t=t||"";var n=t.split("_");2==n.length?(s=n[0],a=n[1],this.iconDom=$('<i class="yy-tip-icon displayflex jc-center ai-center yy-icon-code displaynone" data-icon="&#x'+a+';"></i>'),i&&this.iconDom.css(e.processStyle(i)),this.iconDom.removeClass("displaynone"),this.iconDom.css({"font-family":s}),"top"==this.textPos||"left"==this.textPos?this.iconDom.appendTo(this.tipWrapper):this.iconDom.insertBefore(this.textDom)):this.icomDom&&this.iconDom.addClass("displaynone")},clickBackCover:function(){this.config.clickNoHide||(this.hideTimeoutId&&window.clearTimeout(this.hideTimeoutId),this.hide())},hide:function(){var e=this;this.tipWrapper.removeClass(this.endClass),window.setTimeout(function(){e.tipWrapper.addClass("displaynone").removeClass(e.startClass),e.tipWrapper.remove(),e.backCover.remove()},300),e.backCover.addClass("displaynone")}},t}),define("base",["utils","tip"],function(e,t){function i(e,t){if(!e)return null;for(var i=e,s=0,a=t.length;s<a;s++){if(!(i=i[t[s]])&&0!=i){i=null;break}}return i}var s=function(t){var i=this;this.pageview=t.$$pageview||this,this.loaderHtml="<div class='spinner center'><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div></div>",this.disabled=!1,this.parent=t.$$parent,this.datasource=t.$$datasource||[],this.rowInstance=t.$$rowInstance,t.ref&&(this.rowInstance?(this.rowInstance.refs=this.rowInstance.refs||{},this.rowInstance.refs[t.comKey]=this):this.pageview.refs[t.comKey]=this);var s=t.className||"";this.selectedClassName=t.selectedClassName,t.tagName=t.tagName||"DIV";var a=t.activeClassName?"data-activecn='"+t.activeClassName+"'":"";this.$el=$("<"+t.tagName+" "+a+" data-comname='"+t.comKey+"' class='"+s+"'></"+t.tagName+">"),t=this._processConfig(t),this.config=t,this.components={},"repeat"!=t.type&&"listview"!=t.type||(this.components=[]),t.comKey&&this.$el.addClass(t.comKey);var n=this.config.comKey+"_init";if("repeatitem"===t.type?n=this.parent.config.comKey+"_iteminit":"listrow"===t.type&&(n=this.parent.config.comKey+"_rowinit"),"pageview"===this.config.type){var o=this.config.children;if(o&&o instanceof Array)for(var r=0,l=o.length;r<l;r++){var p=o[r].components;if(p)for(var c in p){var h=e.copy(p[c]);for(var d in h)d.length>=5&&"STYLE"==d.substring(d.length-5).toUpperCase()&&(h[d]=this.processStyle(h[d],BaseSize));this.config.components[c]=h}}}if(this.pageview.plugin&&this.pageview.plugin[n]){var u=this.pageview.plugin[n];u&&u.call(this.pageview.plugin,this)}var g=t.style;if(t.noNeedSetStyle||g&&"pageview"!=t.type&&"segment"!=t.type&&e.css(this.$el,g),this.disabledClassName=t.disabledClassName||"yy-disabled",this.disabled&&this.setDisabled(!0),t.comKey){var f=t.comKey+"_click",y=i.pageview.plugin[f];y&&this.$el.bind("click",function(e){e.preventDefault(),e.stopPropagation(),!i.disabled&&y&&y.call(i.pageview.plugin,i,{e:e})});var m=t.comKey+"_tap",v=i.pageview.plugin[m];v&&this.$el.bind("singleTap",function(e){e.preventDefault(),e.stopPropagation(),!i.disabled&&v&&v.call(i.pageview.plugin,i,{e:e})})}};return s.prototype.setDisabled=function(e){this.disabled=e,this.disabled?this.$el.addClass(this.disabledClassName):this.$el.removeClass(this.disabledClassName)},s.prototype._processConfig=function(e){for(var t in e){var s=t.split("_");if(2==s.length&&"bind"==s[1]){var a=e[t],n=s[0],o=typeof a;if("string"==o)e[n]=i(this.datasource,a.split("."));else if("object"==o)for(var r in a){var l=r,p=i(this.datasource,a[r].split("."));e[n]=e[n]||{},e[n][l]=p}}}return e},s.prototype.selected=function(e){if(!e||!this.config.disableParentSelect){this.isSelected=!0,this.selectedClassName&&""!==this.selectedClassName&&this.$el.addClass(this.selectedClassName);for(var t in this.components)this.components[t].selected(!0)}},s.prototype.unSelected=function(e){if(!e||!this.config.disableParentSelect){this.isSelected=!1,this.selectedClassName&&""!==this.selectedClassName&&this.$el.removeClass(this.selectedClassName);for(var t in this.components)this.components[t].unSelected(!0)}},s.prototype.getUniqueKey=function(){return this.pageview.config.pageKey+""+this.config.comKey},s.prototype.showTip=function(e){e.horizontal?this.Tip=new t(this.$el,e.horizontal):this.Tip=new t(this.$el),this.Tip.show(e)},s.prototype._prepareComponent=function(t,i,s){var a=e.clone(this.pageview.config.components[t]),n=a.type,o=e.getComponentInstance(n);a.$$pageview=this.pageview,a.$$rowInstance=s,a.$$parent=this,a.comKey=t,a.$$datasource=i;var r=null;try{r=new o(a,null)}catch(e){console.log(e),console.log(a)}var l=t+"_didmount";if(this.pageview.plugin){var p=this.pageview.plugin[l];p&&p.call(this.pageview.plugin,r)}return this.pageview.componentsInitActions[t]&&(this.pageview.componentsInitActions[t](r),delete this.pageview.componentsInitActions[t]),r},s.prototype._initComponents=function(e,t,i,s){for(var a=0,n=e.root.length;a<n;a++){var o=e.root[a],r=this._prepareComponent(o,t,s);e.isContainer||"repeat"==e.type?(this.components.push=r,i(r)):"tabbarview"==e.type?(this.components[o]=r,i(r)):this.components[o]=r}return this.components},s.prototype.getClientRect=function(){return this.$el[0].getBoundingClientRect()},s.prototype.getComponentInstanceByComKey=function(e,t,i,s,a){var n=this;this.loadFiles([e],this.pageview||this,function(){var a=n._prepareComponent(e,t,i);s(a)},function(){a&&a()})},s.prototype.initLayout=function(t,i,s,a){var n=this;this.config.root&&this.config.root.length>0&&this.loadFiles(this.config.root,this.pageview||this,function(){if(i)n._initComponents(n.config,t,i,s);else{n._initComponents(n.config,t,null,s);for(var o=0,r=n.config.root.length;o<r;o++){var l=n.components[n.config.root[o]],p=n.$$childrenWrapper||n.$el;null===l&&(console.log(n.config.root[o]),console.log(n.config.root),console.log(n.components)),l&&("checklist"===l.config.type||"radiolist"===l.config.type?n.pageview.$el.append(l.$el):p.append(l.$el));var c;n.config.splitStyle&&n.config.root.length>1&&o!=n.config.root.length-1&&(c=$("<div></div>"),l.splitLine=c,e.css(c,n.config.splitStyle,!0),p.append(c))}}if(a&&a(),"pageview"==n.config.type){var h=n.plugin.onPageLoad;h&&h.call(n.plugin,n)}},function(){})},s.prototype.setBadge=function(t,i){if(!this.$$badge){this.$$badge=$("<div class='displayflex jc-center ai-center yy-badge displaynone'></div>"),i=i||{};var s=i.width||i.height||16;i["min-width"]=i.height=s,delete i.width,i=e.processStyle(i),i["border-radius"]=parseInt(i.height)/2+"px",e.css(this.$$badge,i),this.$el.append(this.$$badge)}t?this.$$badge.html(t).removeClass("displaynone"):this.$$badge.addClass("displaynone")},s.prototype.showLoading=function(t){if(t=t||{},this.loadingConfig=t,!this.$$loadingWrapper){t.timeout&&!isNaN(t.timeout)||(t.timeout=7e3),this.loadingtimeout=parseInt(t.timeout)||7e3;var i="displaynone yy-loading-bk displayflex yy-jc-center yy-ai-center ";t.style&&(t.style.alignItems||t.style["align-items"]||(i+="yy-ai-center")),this.$$loadingWrapper=$("<div class='"+i+"'></div>"),t.style&&e.css(this.$$loadingWrapper,t.style);var s=$("<div class='yy-loading-wrapper yy-fd-column displayflex yy-jc-center yy-ai-center'>"+this.loaderHtml+"</div>");t.horizontal&&(s=$("<div class='yy-loading-wrapper yy-fd-column displayflex yy-jc-center yy-ai-center yy-horizontal-loading'>"+this.loaderHtml+"</div>")),this.loadingText=$("<span class='yy-loading-text'></span>"),s.append(this.loadingText),this.$$loadingWrapper.append(s),this.$el.append(this.$$loadingWrapper)}this.loadingText.html(t.text||"正在努力加载"),this.startLoadingTimeout(t),this.$$loadingWrapper.removeClass("displaynone")},s.prototype.showLoadingError=function(){var e=this;if(this.$$loadingWrapper){if(this.loadingTimeId&&window.clearTimeout(this.loadingTimeId),!e.loadingConfig.reLoadCallBack)return void e.hideLoading(!0);e.loadingErrorWrapper||(e.loadingErrorWrapper=e._createErrorDom(function(){e.$$loadingWrapper.removeClass("yy-loading-wrapper-error"),e.loadingErrorWrapper.addClass("displaynone"),e.loadingTimeId=null,e.startLoadingTimeout(e.loadingConfig),e.loadingConfig.reLoadCallBack&&e.loadingConfig.reLoadCallBack()}),e.loadingErrorWrapper.appendTo(e.$$loadingWrapper)),e.$$loadingWrapper.addClass("yy-loading-wrapper-error"),e.loadingErrorWrapper.removeClass("displaynone")}},s.prototype.startLoadingTimeout=function(e){var t=this;this.loadingTimeId||(this.loadingTimeId=window.setTimeout(function(){t.hideLoading()},this.loadingtimeout))},s.prototype._createErrorDom=function(t){var i=e.getRealWidth(11),s=e.getRealWidth(20),a=$("<div style='height:100px' class='yy-loadmore-wrapper displayflex jc-center ai-center flex-h displaynone'></div>"),n=$("<i style='font-size:"+s+"px' class='yy-icommon yy-loadmore-erroricon'></i>"),o=$("<span style='font-size:"+i+"px' class='yy-pull-meslabel'>网络异常,点击</span>"),r=$("<span style='font-size:"+i+"px' class='yy-loadmore-reload-babel'>重新加载</span>")
;return r.bind("click",function(){t()}),a.append(n).append(o).append(r),a},s.prototype.hideLoading=function(e){if(!1===e)return void this.showLoadingError();this.loadingTimeId&&(window.clearTimeout(this.loadingTimeId),this.loadingTimeId=null),this.$$loadingWrapper&&this.$$loadingWrapper.addClass("displaynone")},s.prototype.loadFiles=function(t,i,s,a){for(var n=t.length,o=0,r=0;r<n;r++)!function(t,n,r){var l=i.config.components[r];e.getComponentClass(l,function(e){(o+=1)==t&&s()},function(){a()})}(n,0,t[r])},s}),define("pageview",["utils","base"],function(e,t){function i(e){var t=this;if(this.refs={},this.dialogsBks={},this.dialogs={},this.componentsInitActions={},i.baseConstructor.call(this,e),this.viewpagerParams=e.viewpagerParams,e.root=e.root||[],this.params=e.$$params,this.showPageParams=e.showPageParams||{},this.prePageView=e.prePageView,this.pageManager=e.$$pageManager,this.config=e,this.innerPages={},this.innerPagesWrappers={},e.pluginClass)try{this._preparePlugin(e.pluginClass)}catch(e){console.log(e)}this.components={};var s=e.style;this.$el.addClass("yy-pageview displayflex"),this.showPageBackCover=$("<div role='showPageBackCover' class='yy-backcover displaynone'></div>"),this.innerWrapper=$("<div class='displayflex yy-page-inner'></div>"),this.$$childrenWrapper=this.innerWrapper,this.$el.append(this.innerWrapper).append(this.showPageBackCover),s&&this.innerWrapper.css(s),this.showPageBackCover.bind("click",function(){t.hideCurShowPage()}),this.initLayout()}var s={fromLeft1:{zIndex:5,left:"0",top:0,transform:"translate3d(-100%,0,0)","-webkit-transform":"translate3d(-100%,0,0)"},fromLeft2:{zIndex:101,left:"0",top:0,transform:"translate3d(-100%,0,0)","-webkit-transform":"translate3d(-100%,0,0)"},fromLeft3:{left:0,top:0,zIndex:5,transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"},fromRight1:{zIndex:5,right:"0",top:0,transform:"translate3d(100%,0,0)","-webkit-transform":"translate3d(100%,0,0)"},fromRight2:{zIndex:101,right:"0",top:0,transform:"translate3d(100%,0,0)","-webkit-transform":"translate3d(100%,0,0)"},fromRight3:{zIndex:5,right:0,top:0,transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"},opacity:{left:"0",top:0},fromBottom:{zIndex:101,left:"0",bottom:"0",transform:"translate3d(0,100%,0)","-webkit-transform":"translate3d(0,100%,0)"}},a={fromLeft1:"yy-init-left",fromLeft2:"yy-init-left",fromLeft3:"yy-init-left",fromRight1:"yy-init-right",fromRight2:"yy-init-right",fromRight3:"yy-init-right",opacity:"yy-init-left",fromBottom:"yy-init-bottom"};return e.extends(i,t),i.prototype._preparePlugin=function(e){this.plugin=new e({pageview:this});var t=this.config.children;if(t&&t instanceof Array&&t.length>0)for(var i=0,s=t.length;i<s;i++){var a=t[i].pluginClass;if(a){var n=new a;this.plugin=$.extend(!0,this.plugin,n)}}},i.prototype.regeistPageDestory=function(){},i.prototype.destory=function(){this.$el.remove()},i.prototype.showDialog=function(e,t){var i=this;if(t=t||{},this.dialogs[e])return this.dialogs[e].addClass("yy-dialog-show"),this.dialogsBks[e].removeClass("displaynone"),void window.setTimeout(function(){i.dialogs[e].css({visibility:"visible"})},20);var s=t.datasource;this.getComponentInstanceByComKey(e,s,null,function(s){var a=$("<div style='visibility: hidden;' class='yy-dialog-out-wrap displayflex yy-ai-center yy-jc-center'></div>");t.zIndex&&a.css({zIndex:t.zIndex+1});var n=$("<div class='yy-dialog-inner-wrap'></div>");i.dialogs[e]=a,n.append(s.$el),a.append(n),a.appendTo(document.body);var o=$("<div class='yy-page-dialog-bk'></div>");t.zIndex&&o.css({zIndex:t.zIndex}),i.dialogsBks[e]=o,o.appendTo(document.body),window.setTimeout(function(){a.css({visibility:"visible"}),a.addClass("yy-dialog-show")},20)},function(e){})},i.prototype.hideDialog=function(e){var t=this;this.dialogsBks[e].addClass("displaynone"),this.dialogs[e].removeClass("yy-dialog-show"),window.setTimeout(function(){t.dialogs[e].css({visibility:"hidden"})},200)},i.prototype.ajax=function(t){t.pageviewInstance=this,e.ajax(t)},i.prototype.Enter=function(e,t){var i=this;if(this.$el[0].className=e,t){if(i.pageManager.getPageNameFromUrl()===i.config.pageKey){var s=i.plugin.onPageEnter;s&&s.call(i.plugin)}}else this.$el[0].addEventListener("webkitAnimationEnd",function(){if(i.pageManager.getPageNameFromUrl()===i.config.pageKey){var e=i.plugin.onPageEnter;e&&e.call(i.plugin)}})},i.prototype.bindShowPageEnterEvent=function(){var e=this;this.$el[0].parentNode.addEventListener("webkitTransitionEnd",function(){if(e.$$isshow){var t=e.plugin.onPageEnter;t&&t.call(e.plugin)}})},i.prototype.hideCurShowPage=function(){var t=this;if(this.pageManager.blur(),this.showpageInstance.showpageInstance)return this.showpageInstance.hideCurShowPage(),!0;if(this.showpage_wrapper){var i=this.showpageInstance.plugin.onPageBeforeLeave||this.showpageInstance.plugin.onPageClose;if(i){if(!1===i.call(this.showpageInstance.plugin))return!0}this.showpageInstance.$$isshow=!1;var n=this.showpage_wrapper.attr("data-mode");if(this.showPageBackCover.addClass("displaynone"),this.innerWrapper[0].className="displayflex yy-page-inner "+a[n]+"-im ",window.setTimeout(function(){t.innerWrapper.css(e.processTransitionTanformStyle("none","translate3d(0,0,0)"))},300),"fromLeft1"==n||"fromLeft2"==n)this.showpage_wrapper.css(e.processTransformStyle("translate3d(-100%,0,0)"));else if("fromRight1"==n||"fromRight2"==n)this.showpage_wrapper.css(e.processTransformStyle("translate3d(100%,0,0)"));else{var o=s[n]||{};"fromRight3"!=n&&"fromLeft3"!=n||(o.display="none"),this.showpage_wrapper.css(o)}}var r=this.plugin.onPageResume;return r&&r.call(this.plugin),this.showpage_wrapper=null,this.showpageInstance=null,!1},i.prototype.do=function(e,t){var i=this.refs[e];if(i)t(i);else{try{this.config.components[e].ref||console.error("请务必在"+e+"控件上设置ref:true")}catch(e){console.error(e)}this.componentsInitActions[e]=t}},i.prototype.delegate=function(e,t){this.do(e,t)},i.prototype.showLoadingProgressbar=function(){var e=this;this.loadingProgreessbar||(this.loadingProgreessbarWrapper=$("<div class='yy-loading-pbw displaynone'></div>"),this.loadingProgreessbar=$("<div class='yy-loading-pb'></div>"),this.loadingProgreessbarWrapper.append(this.loadingProgreessbar),this.loadingProgreessbarWrapper.appendTo(this.$el)),this.loadingProgreessbarWrapper.removeClass("displaynone"),window.setTimeout(function(){e.loadingProgreessbar.css({width:"90%"})},6)},i.prototype.hideLoadingProgressbar=function(){this.loadingProgreessbar&&(this.loadingProgreessbar.css({width:"0%"}),this.loadingProgreessbarWrapper.addClass("displaynone"))},i.prototype.close=function(){this.ownerPage&&this.ownerPage.hideCurShowPage()},i.prototype.showPage=function(t){if(t&&t.pageKey){this.pageManager.blur(),!1!==t.inRouter&&this.pageManager.regeistShowPageInRouter(this.config.pageKey);var i=this,a=t.mode||"fromLeft1";this.showpage_wrapper=this.innerPagesWrappers[t.pageKey],this.showpageInstance=this.innerPages[t.pageKey],this.showLoadingProgressbar(),!this.showpage_wrapper||void 0!==t.nocache&&t.nocache?this.pageview.pageManager.getPageConfigByPageKey(t.pageKey,function(n){var o=t.params||{};n.showPageParams=o;var r=i.pageview.pageManager.createPageView(n);r.$el.addClass("yy-pageview-show"),r.ownerPage=i,i.hideLoadingProgressbar(),i.showpageInstance=r,i.innerPages[t.pageKey]=r,i.showpage_wrapper=$("<div class='yy-showpage'></div>");var l=n.showPageStyle||{width:"100%",height:"100%"};l&&(delete l.top,delete l.right,delete l.left,delete l.bottom),i.showpage_wrapper.attr("data-mode",a);var p=l.width||"100%",c=l.height||"100%";l=l||{};var h=s[a]||s.fromLeft1;h=e.clone(h),i.showpage_wrapper.attr("data-width",p),i.showpage_wrapper.attr("data-height",c);var d=e.simpleExtendObj(l,h)||{};"fromLeft3"!==a&&"fromRight3"!==a||(d.display="block"),i.showpage_wrapper.css(d),i.innerPagesWrappers[t.pageKey]=i.showpage_wrapper,i.showpage_wrapper.append(r.$el),i.$el.append(i.showpage_wrapper),r.bindShowPageEnterEvent(),i._showpageAnimate(t,i.showpage_wrapper,r)},function(){}):(this.hideLoadingProgressbar(),"fromLeft3"!==a&&"fromRight3"!==a||this.showpage_wrapper.css({display:"block"}),this._showpageAnimate(t,this.showpage_wrapper,this.showpageInstance))}},i.prototype.goBack=function(e){this.pageManager.goBack(e)},i.prototype.go=function(e,t){t=t||{};var i=this.pageManager.appConfig.beforeGo;i&&i({params:t,pageviewInstance:this}),this.pageManager.go(e,t)},i.prototype.replaceGo=function(e,t){t=t||{};var i=this.pageManager.appConfig.beforeGo;i&&i({params:t,pageviewInstance:this}),this.pageManager.replaceGo(e,t)},i.prototype._showpageAnimate=function(t,i,s){var n=this;s.$$isshow=!0;var o=i.attr("data-width"),r=i.attr("data-mode");if(this.innerWrapper[0].className="displayflex yy-page-inner "+a[r],"fromLeft1"!=r&&"fromLeft2"!=r||(this.showPageBackCover.removeClass("displaynone").css({left:o,right:0}),window.setTimeout(function(){if("fromLeft1"==r){var t=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d("+o+",0,0)");t["box-shadow"]="0px 0px 13px 1px #929292",n.innerWrapper.css(t)}i.css(e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(0,0,0)"))},12)),"fromLeft3"==r){this.showPageBackCover.removeClass("displaynone").css({left:o,right:0});var l=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d("+o+",0,0)");l["box-shadow"]="0px 0px 13px 1px #929292",window.setTimeout(function(){n.innerWrapper.css(l)},12)}if("fromRight1"!=r&&"fromRight2"!=r||(this.showPageBackCover.removeClass("displaynone").css({right:o,left:0}),window.setTimeout(function(){var t=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(-"+o+",0,0)");t["box-shadow"]="0px 0px 13px 1px #929292","fromRight1"==r&&n.innerWrapper.css(t),i.css(e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(0,0,0)"))},12)),"fromRight3"==r){this.showPageBackCover.removeClass("displaynone").css({right:o,left:0});var l=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(-"+o+",0,0)");l["box-shadow"]="0px 0px 13px 1px #929292",window.setTimeout(function(){n.innerWrapper.css(l)},12)}if("fromBottom"==r){i.attr("data-height");this.showPageBackCover.removeClass("displaynone").css({left:"0",top:"0"}),window.setTimeout(function(){i.css(e.processTransitionTanformStyle("transform .2s cubic-bezier(.05, .69, .14, 1)","translate3d(0,0,0)"))},12)}},i}),function(e,t){"function"==typeof define&&define.amd?define("$",[],function(){return t(e)}):t(e)}(this,function(e){var t=function(){function t(e){return null==e?String(e):X[q.call(e)]||"object"}function i(e){return"function"==t(e)}function s(e){return null!=e&&e==e.window}function a(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function n(e){return"object"==t(e)}function o(e){return n(e)&&!s(e)&&Object.getPrototypeOf(e)==Object.prototype}function r(e){var t=!!e&&"length"in e&&e.length,i=I.type(e);return"function"!=i&&!s(e)&&("array"==i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e){return P.call(e,function(e){return null!=e})}function p(e){return e.length>0?I.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(e){return e in R?R[e]:R[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function d(e,t){return"number"!=typeof t||B[c(e)]?t:t+"px"}function u(e){var t,i;return N[e]||(t=M.createElement(e),M.body.appendChild(t),i=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==i&&(i="block"),N[e]=i),N[e]}function g(e){return"children"in e?L.call(e.children):I.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function f(e,t){var i,s=e?e.length:0;for(i=0;i<s;i++)this[i]=e[i];this.length=s,this.selector=t||""}function y(e,t,i){for(S in t)i&&(o(t[S])||ee(t[S]))?(o(t[S])&&!o(e[S])&&(e[S]={}),ee(t[S])&&!ee(e[S])&&(e[S]=[]),y(e[S],t[S],i)):t[S]!==$&&(e[S]=t[S])}function m(e,t){return null==t?I(e):I(e).filter(t)}function v(e,t,s,a){return i(t)?t.call(e,s,a):t}function w(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}function x(e,t){var i=e.className||"",s=i&&i.baseVal!==$;if(t===$)return s?i.baseVal:i;s?i.baseVal=t:e.className=t}function b(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?I.parseJSON(e):e):e}catch(t){return e}}function C(e,t){t(e);for(var i=0,s=e.childNodes.length;i<s;i++)C(e.childNodes[i],t)}var $,S,I,D,k,T,_=[],W=_.concat,P=_.filter,L=_.slice,M=e.document,N={},R={},B={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+|!)[^>]*>/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,j=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,F=/^(?:body|html)$/i,z=/([A-Z])/g,K=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],O=M.createElement("table"),V=M.createElement("tr"),Y={tr:M.createElement("tbody"),tbody:O,thead:O,tfoot:O,td:V,th:V,"*":M.createElement("div")},G=/complete|loaded|interactive/,U=/^[\w-]*$/,X={},q=X.toString,J={},Z=M.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ee=Array.isArray||function(e){return e instanceof Array};return J.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(i)return i.call(e,t);var s,a=e.parentNode,n=!a;return n&&(a=Z).appendChild(e),s=~J.qsa(a,t).indexOf(e),n&&Z.removeChild(e),s},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(e){return P.call(e,function(t,i){return e.indexOf(t)==i})},J.fragment=function(e,t,i){var s,a,n;return E.test(e)&&(s=I(M.createElement(RegExp.$1))),s||(e.replace&&(e=e.replace(j,"<$1></$2>")),t===$&&(t=A.test(e)&&RegExp.$1),t in Y||(t="*"),n=Y[t],n.innerHTML=""+e,s=I.each(L.call(n.childNodes),function(){n.removeChild(this)})),o(i)&&(a=I(s),I.each(i,function(e,t){K.indexOf(e)>-1?a[e](t):a.attr(e,t)})),s},J.Z=function(e,t){return new f(e,t)},J.isZ=function(e){return e instanceof J.Z},J.init=function(e,t){var s;if(!e)return J.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&A.test(e))s=J.fragment(e,RegExp.$1,t),e=null;else{if(t!==$)return I(t).find(e);s=J.qsa(M,e)}else{if(i(e))return I(M).ready(e);if(J.isZ(e))return e;if(ee(e))s=l(e);else if(n(e))s=[e],e=null;else if(A.test(e))s=J.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==$)return I(t).find(e);s=J.qsa(M,e)}}return J.Z(s,e)},I=function(e,t){return J.init(e,t)},I.extend=function(e){var t,i=L.call(arguments,1);return"boolean"==typeof e&&(t=e,e=i.shift()),i.forEach(function(i){y(e,i,t)}),e},J.qsa=function(e,t){var i,s="#"==t[0],a=!s&&"."==t[0],n=s||a?t.slice(1):t,o=U.test(n);return e.getElementById&&o&&s?(i=e.getElementById(n))?[i]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:L.call(o&&!s&&e.getElementsByClassName?a?e.getElementsByClassName(n):e.getElementsByTagName(t):e.querySelectorAll(t))},I.contains=M.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},I.type=t,I.isFunction=i,I.isWindow=s,I.isArray=ee,I.isPlainObject=o,I.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},I.isNumeric=function(e){var t=Number(e),i=typeof e;return null!=e&&"boolean"!=i&&("string"!=i||e.length)&&!isNaN(t)&&isFinite(t)||!1},I.inArray=function(e,t,i){return _.indexOf.call(t,e,i)},I.camelCase=k,I.trim=function(e){return null==e?"":String.prototype.trim.call(e)},I.uuid=0,I.support={},I.expr={},I.noop=function(){},I.map=function(e,t){var i,s,a,n=[];if(r(e))for(s=0;s<e.length;s++)null!=(i=t(e[s],s))&&n.push(i);else for(a in e)null!=(i=t(e[a],a))&&n.push(i);return p(n)},I.each=function(e,t){var i,s;if(r(e)){for(i=0;i<e.length;i++)if(!1===t.call(e[i],i,e[i]))return e}else for(s in e)if(!1===t.call(e[s],s,e[s]))return e;return e},I.grep=function(e,t){return P.call(e,t)},e.JSON&&(I.parseJSON=JSON.parse),I.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),I.fn={constructor:J.Z,length:0,forEach:_.forEach,reduce:_.reduce,push:_.push,sort:_.sort,splice:_.splice,indexOf:_.indexOf,concat:function(){var e,t,i=[];for(e=0;e<arguments.length;e++)t=arguments[e],i[e]=J.isZ(t)?t.toArray():t;return W.apply(J.isZ(this)?this.toArray():this,i)},map:function(e){return I(I.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return I(L.apply(this,arguments))},ready:function(e){return G.test(M.readyState)&&M.body?e(I):M.addEventListener("DOMContentLoaded",function(){e(I)},!1),this},get:function(e){return e===$?L.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return _.every.call(this,function(t,i){return!1!==e.call(t,i,t)}),this},filter:function(e){return i(e)?this.not(this.not(e)):I(P.call(this,function(t){return J.matches(t,e)}))},add:function(e,t){return I(T(this.concat(I(e,t))))},is:function(e){return this.length>0&&J.matches(this[0],e)},not:function(e){var t=[];if(i(e)&&e.call!==$)this.each(function(i){e.call(this,i)||t.push(this)});else{var s="string"==typeof e?this.filter(e):r(e)&&i(e.item)?L.call(e):I(e);this.forEach(function(e){s.indexOf(e)<0&&t.push(e)})}return I(t)},has:function(e){return this.filter(function(){return n(e)?I.contains(this,e):I(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!n(e)?e:I(e)},last:function(){var e=this[this.length-1];return e&&!n(e)?e:I(e)},find:function(e){var t=this;return e?"object"==typeof e?I(e).filter(function(){var e=this;return _.some.call(t,function(t){return I.contains(t,e)})}):1==this.length?I(J.qsa(this[0],e)):this.map(function(){return J.qsa(this,e)}):I()},closest:function(e,t){var i=[],s="object"==typeof e&&I(e);return this.each(function(n,o){for(;o&&!(s?s.indexOf(o)>=0:J.matches(o,e));)o=o!==t&&!a(o)&&o.parentNode;o&&i.indexOf(o)<0&&i.push(o)}),I(i)},parents:function(e){for(var t=[],i=this;i.length>0;)i=I.map(i,function(e){if((e=e.parentNode)&&!a(e)&&t.indexOf(e)<0)return t.push(e),e});return m(t,e)},parent:function(e){return m(T(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return g(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||L.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return P.call(g(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return I.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=u(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=i(e);if(this[0]&&!t)var s=I(e).get(0),a=s.parentNode||this.length>1;return this.each(function(i){I(this).wrapAll(t?e.call(this,i):a?s.cloneNode(!0):s)})},wrapAll:function(e){if(this[0]){I(this[0]).before(e=I(e));for(var t;(t=e.children()).length;)e=t.first();I(e).append(this)}return this},wrapInner:function(e){var t=i(e);return this.each(function(i){var s=I(this),a=s.contents(),n=t?e.call(this,i):e;a.length?a.wrapAll(n):s.append(n)})},unwrap:function(){return this.parent().each(function(){I(this).replaceWith(I(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=I(this);(e===$?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return I(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return I(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var i=this.innerHTML;I(this).empty().append(v(this,e,t,i))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var i=v(this,e,t,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var i;return"string"!=typeof e||1 in arguments?this.each(function(i){if(1===this.nodeType)if(n(e))for(S in e)w(this,S,e[S]);else w(this,e,v(this,t,i,this.getAttribute(e)))}):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(e))?i:$},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){w(this,e)},this)})},prop:function(e,t){return e=Q[e]||e,1 in arguments?this.each(function(i){this[e]=v(this,t,i,this[e])}):this[0]&&this[0][e]},removeProp:function(e){return e=Q[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var i="data-"+e.replace(z,"-$1").toLowerCase(),s=1 in arguments?this.attr(i,t):this.attr(i);return null!==s?b(s):$},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=v(this,e,t,this.value)})):this[0]&&(this[0].multiple?I(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=I(this),s=v(this,t,e,i.offset()),a=i.offsetParent().offset(),n={top:s.top-a.top,left:s.left-a.left};"static"==i.css("position")&&(n.position="relative"),i.css(n)});if(!this.length)return null;if(M.documentElement!==this[0]&&!I.contains(M.documentElement,this[0]))return{top:0,left:0};var i=this[0].getBoundingClientRect();return{left:i.left+e.pageXOffset,top:i.top+e.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}},css:function(e,i){if(arguments.length<2){var s=this[0];if("string"==typeof e){if(!s)return;return s.style[k(e)]||getComputedStyle(s,"").getPropertyValue(e)}if(ee(e)){if(!s)return;var a={},n=getComputedStyle(s,"");return I.each(e,function(e,t){a[t]=s.style[k(t)]||n.getPropertyValue(t)}),a}}var o="";if("string"==t(e))i||0===i?o=c(e)+":"+d(e,i):this.each(function(){this.style.removeProperty(c(e))});else for(S in e)e[S]||0===e[S]?o+=c(S)+":"+d(S,e[S])+";":this.each(function(){this.style.removeProperty(c(S))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(I(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&_.some.call(this,function(e){return this.test(x(e))},h(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){D=[];var i=x(this);v(this,e,t,i).split(/\s+/g).forEach(function(e){I(this).hasClass(e)||D.push(e)},this),D.length&&x(this,i+(i?" ":"")+D.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===$)return x(this,"");D=x(this),v(this,e,t,D).split(/\s+/g).forEach(function(e){D=D.replace(h(e)," ")}),x(this,D.trim())}})},toggleClass:function(e,t){return e?this.each(function(i){var s=I(this);v(this,e,i,x(this)).split(/\s+/g).forEach(function(e){(t===$?!s.hasClass(e):t)?s.addClass(e):s.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===$?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===$?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),i=this.offset(),s=F.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(I(e).css("margin-top"))||0,i.left-=parseFloat(I(e).css("margin-left"))||0,s.top+=parseFloat(I(t[0]).css("border-top-width"))||0,s.left+=parseFloat(I(t[0]).css("border-left-width"))||0,{top:i.top-s.top,left:i.left-s.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!F.test(e.nodeName)&&"static"==I(e).css("position");)e=e.offsetParent;return e})}},I.fn.detach=I.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});I.fn[e]=function(i){var n,o=this[0];return i===$?s(o)?o["inner"+t]:a(o)?o.documentElement["scroll"+t]:(n=this.offset())&&n[e]:this.each(function(t){o=I(this),o.css(e,v(this,i,t,o[e]()))})}}),H.forEach(function(i,s){var a=s%2;I.fn[i]=function(){var i,n,o=I.map(arguments,function(e){var s=[];return i=t(e),"array"==i?(e.forEach(function(e){return e.nodeType!==$?s.push(e):I.zepto.isZ(e)?s=s.concat(e.get()):void(s=s.concat(J.fragment(e)))}),s):"object"==i||null==e?e:J.fragment(e)}),r=this.length>1;return o.length<1?this:this.each(function(t,i){n=a?i:i.parentNode,i=0==s?i.nextSibling:1==s?i.firstChild:2==s?i:null;var l=I.contains(M.documentElement,n);o.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!n)return I(t).remove();n.insertBefore(t,i),l&&C(t,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var i=t.ownerDocument?t.ownerDocument.defaultView:e;i.eval.call(i,t.innerHTML)}})})})},I.fn[a?i+"To":"insert"+(s?"Before":"After")]=function(e){return I(e)[i](this),this}}),J.Z.prototype=f.prototype=I.fn,J.uniq=T,J.deserializeValue=b,I.zepto=J,I}();return e.Zepto=t,void 0===e.$&&(e.$=t),function(t){function i(e){return e._zid||(e._zid=u++)}function s(e,t,s,o){if(t=a(t),t.ns)var r=n(t.ns);return(m[i(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!s||i(e.fn)===i(s))&&(!o||e.sel==o)})}function a(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!w&&e.e in x||!!t}function r(e){return b[e]||w&&x[e]||e}function l(e,s,n,l,p,h,u){var g=i(e),f=m[g]||(m[g]=[]);s.split(/\s/).forEach(function(i){if("ready"==i)return t(document).ready(n);var s=a(i);s.fn=n,s.sel=p,s.e in b&&(n=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return s.fn.apply(this,arguments)}),s.del=h;var g=h||n;s.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=l;var i=g.apply(e,t._args==d?[t]:[t].concat(t._args));return!1===i&&(t.preventDefault(),t.stopPropagation()),i}},s.i=f.length,f.push(s),"addEventListener"in e&&e.addEventListener(r(s.e),s.proxy,o(s,u))})}function p(e,t,a,n,l){var p=i(e);(t||"").split(/\s/).forEach(function(t){s(e,t,a,n).forEach(function(t){delete m[p][t.i],"removeEventListener"in e&&e.removeEventListener(r(t.e),t.proxy,o(t,l))})})}function c(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(I,function(t,s){var a=i[t];e[t]=function(){return this[s]=C,a&&a.apply(i,arguments)},e[s]=$}),e.timeStamp||(e.timeStamp=Date.now()),(i.defaultPrevented!==d?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=C)),e}function h(e){var t,i={originalEvent:e};for(t in e)S.test(t)||e[t]===d||(i[t]=e[t]);return c(i,e)}var d,u=1,g=Array.prototype.slice,f=t.isFunction,y=function(e){return"string"==typeof e},m={},v={},w="onfocusin"in e,x={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:l,remove:p},t.proxy=function(e,s){var a=2 in arguments&&g.call(arguments,2);if(f(e)){var n=function(){return e.apply(s,a?a.concat(g.call(arguments)):arguments)};return n._zid=i(e),n}if(y(s))return a?(a.unshift(e[s],e),t.proxy.apply(null,a)):t.proxy(e[s],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,i){return this.on(e,t,i)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,i,s){return this.on(e,t,i,s,1)};var C=function(){return!0},$=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,I={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,i){return this.on(t,e,i)},t.fn.undelegate=function(e,t,i){return this.off(t,e,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,s,a,n){var o,r,c=this;return e&&!y(e)?(t.each(e,function(e,t){c.on(e,i,s,t,n)}),c):(y(i)||f(a)||!1===a||(a=s,s=i,i=d),a!==d&&!1!==s||(a=s,s=d),!1===a&&(a=$),c.each(function(c,d){n&&(o=function(e){return p(d,e.type,a),a.apply(this,arguments)}),i&&(r=function(e){var s,n=t(e.target).closest(i,d).get(0);if(n&&n!==d)return s=t.extend(h(e),{currentTarget:n,liveFired:d}),(o||a).apply(n,[s].concat(g.call(arguments,1)))}),l(d,e,a,s,i,r||o)}))},t.fn.off=function(e,i,s){var a=this;return e&&!y(e)?(t.each(e,function(e,t){a.off(e,i,t)}),a):(y(i)||f(s)||!1===s||(s=i,i=d),!1===s&&(s=$),a.each(function(){p(this,e,s,i)}))},t.fn.trigger=function(e,i){return e=y(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=i,this.each(function(){e.type in x&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,i){var a,n;return this.each(function(o,r){a=h(y(e)?t.Event(e):e),a._args=i,a.target=r,t.each(s(r,e.type||e),function(e,t){if(n=t.proxy(a),a.isImmediatePropagationStopped())return!1})}),n},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(e,t){y(e)||(t=e,e=t.type);var i=document.createEvent(v[e]||"Events"),s=!0;if(t)for(var a in t)"bubbles"==a?s=!!t[a]:i[a]=t[a];return i.initEvent(e,s,!0),c(i)}}(t),function(t){function i(e,i,s){var a=t.Event(i);return t(e).trigger(a,s),!a.isDefaultPrevented()}function s(e,t,s,a){if(e.global)return i(t||x,s,a)}function a(e){e.global&&0==t.active++&&s(e,null,"ajaxStart")}function n(e){e.global&&!--t.active&&s(e,null,"ajaxStop")}function o(e,t){var i=t.context;if(!1===t.beforeSend.call(i,e,t)||!1===s(t,i,"ajaxBeforeSend",[e,t]))return!1;s(t,i,"ajaxSend",[e,t])}function r(e,t,i,a){var n=i.context;i.success.call(n,e,"success",t),a&&a.resolveWith(n,[e,"success",t]),s(i,n,"ajaxSuccess",[t,i,e]),p("success",t,i)}function l(e,t,i,a,n){var o=a.context;a.error.call(o,i,t,e),n&&n.rejectWith(o,[i,t,e]),s(a,o,"ajaxError",[i,a,e||t]),p(t,i,a)}function p(e,t,i){var a=i.context;i.complete.call(a,t,e),s(i,a,"ajaxComplete",[t,i]),n(i)}function c(e,t,i){if(i.dataFilter==h)return e;var s=i.context;return i.dataFilter.call(s,e,t)}function h(){}function d(e){return e&&(e=e.split(";",2)[0]),e&&(e==I?"html":e==S?"json":C.test(e)?"script":$.test(e)&&"xml")||"text"}function u(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function g(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=u(e.url,e.data),e.data=void 0)}function f(e,i,s,a){return t.isFunction(i)&&(a=s,s=i,i=void 0),t.isFunction(s)||(a=s,s=void 0),{url:e,data:i,success:s,dataType:a}}function y(e,i,s,a){var n,o=t.isArray(i),r=t.isPlainObject(i);t.each(i,function(i,l){n=t.type(l),a&&(i=s?a:a+"["+(r||"object"==n||"array"==n?i:"")+"]"),!a&&o?e.add(l.name,l.value):"array"==n||!s&&"object"==n?y(e,l,s,i):e.add(i,l)})}
var m,v,w=+new Date,x=e.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,C=/^(?:text|application)\/javascript/i,$=/^(?:text|application)\/xml/i,S="application/json",I="text/html",D=/^\s*$/,k=x.createElement("a");k.href=e.location.href,t.active=0,t.ajaxJSONP=function(i,s){if(!("type"in i))return t.ajax(i);var a,n,p=i.jsonpCallback,c=(t.isFunction(p)?p():p)||"Zepto"+w++,h=x.createElement("script"),d=e[c],u=function(e){t(h).triggerHandler("error",e||"abort")},g={abort:u};return s&&s.promise(g),t(h).on("load error",function(o,p){clearTimeout(n),t(h).off().remove(),"error"!=o.type&&a?r(a[0],g,i,s):l(null,p||"error",g,i,s),e[c]=d,a&&t.isFunction(d)&&d(a[0]),d=a=void 0}),!1===o(g,i)?(u("abort"),g):(e[c]=function(){a=arguments},h.src=i.url.replace(/\?(.+)=\?/,"?$1="+c),x.head.appendChild(h),i.timeout>0&&(n=setTimeout(function(){u("timeout")},i.timeout)),g)},t.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:null,global:!0,xhr:function(){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:I,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:h},t.ajax=function(i){var s,n,p=t.extend({},i||{}),f=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===p[m]&&(p[m]=t.ajaxSettings[m]);a(p),p.crossDomain||(s=x.createElement("a"),s.href=p.url,s.href=s.href,p.crossDomain=k.protocol+"//"+k.host!=s.protocol+"//"+s.host),p.url||(p.url=e.location.toString()),(n=p.url.indexOf("#"))>-1&&(p.url=p.url.slice(0,n)),g(p);var y=p.dataType,w=/\?.+=\?/.test(p.url);if(w&&(y="jsonp"),!1!==p.cache&&(i&&!0===i.cache||"script"!=y&&"jsonp"!=y)||(p.url=u(p.url,"_="+Date.now())),"jsonp"==y)return w||(p.url=u(p.url,p.jsonp?p.jsonp+"=?":!1===p.jsonp?"":"callback=?")),t.ajaxJSONP(p,f);var b,C=p.accepts[y],$={},S=function(e,t){$[e.toLowerCase()]=[e,t]},I=/^([\w-]+:)\/\//.test(p.url)?RegExp.$1:e.location.protocol,T=p.xhr(),_=T.setRequestHeader;if(f&&f.promise(T),p.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",C||"*/*"),(C=p.mimeType||C)&&(C.indexOf(",")>-1&&(C=C.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(C)),(p.contentType||!1!==p.contentType&&p.data&&"GET"!=p.type.toUpperCase())&&S("Content-Type",p.contentType||"application/x-www-form-urlencoded"),p.language&&S("Accept-Language",p.language),p.headers)for(v in p.headers)S(v,p.headers[v]);if(T.setRequestHeader=S,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=h,clearTimeout(b);var e,i=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==I){if(y=y||d(p.mimeType||T.getResponseHeader("content-type")),"arraybuffer"==T.responseType||"blob"==T.responseType)e=T.response;else{e=T.responseText;try{e=c(e,y,p),"script"==y?(0,eval)(e):"xml"==y?e=T.responseXML:"json"==y&&(e=D.test(e)?null:t.parseJSON(e))}catch(e){i=e}if(i)return l(i,"parsererror",T,p,f)}r(e,T,p,f)}else l(T.statusText||null,T.status?"error":"abort",T,p,f)}},!1===o(T,p))return T.abort(),l(null,"abort",T,p,f),T;var W=!("async"in p)||p.async;if(T.open(p.type,p.url,W,p.username,p.password),p.xhrFields)for(v in p.xhrFields)T[v]=p.xhrFields[v];for(v in $)_.apply(T,$[v]);return p.timeout>0&&(b=setTimeout(function(){T.onreadystatechange=h,T.abort(),l(null,"timeout",T,p,f)},p.timeout)),T.send(p.data?p.data:null),T},t.get=function(){return t.ajax(f.apply(null,arguments))},t.post=function(){var e=f.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=f.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,s){if(!this.length)return this;var a,n=this,o=e.split(/\s/),r=f(e,i,s),l=r.success;return o.length>1&&(r.url=o[0],a=o[1]),r.success=function(e){n.html(a?t("<div>").html(e.replace(b,"")).find(a):e),l&&l.apply(n,arguments)},t.ajax(r),this};var T=encodeURIComponent;t.param=function(e,i){var s=[];return s.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(T(e)+"="+T(i))},y(s,e,i),s.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,i,s=[],a=function(e){if(e.forEach)return e.forEach(a);s.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(s,n){i=n.type,t=n.name,t&&"fieldset"!=n.nodeName.toLowerCase()&&!n.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||n.checked)&&a(e(n).val())}),s},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var i=e.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(i){var t=getComputedStyle;e.getComputedStyle=function(e,i){try{return t(e,i)}catch(e){return null}}}}(),function(t){function i(e,t,i,s){return Math.abs(e-t)>=Math.abs(i-s)?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){h=null,u.last&&(u.el.trigger("longTap"),u={})}function a(){h&&clearTimeout(h),h=null}function n(){l&&clearTimeout(l),p&&clearTimeout(p),c&&clearTimeout(c),h&&clearTimeout(h),l=p=c=h=null,u={}}function o(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function r(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var l,p,c,h,d,u={};t(document).ready(function(){var g,f,y,m,v=0,w=0;"MSGesture"in e&&(d=new MSGesture,d.target=document.body),t(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(u.el.trigger("swipe"),u.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(e){(m=r(e,"down"))&&!o(e)||(y=m?e:e.touches[0],e.touches&&1===e.touches.length&&u.x2&&(u.x2=void 0,u.y2=void 0),g=Date.now(),f=g-(u.last||g),u.el=t("tagName"in y.target?y.target:y.target.parentNode),l&&clearTimeout(l),u.x1=y.pageX,u.y1=y.pageY,f>0&&f<=250&&(u.isDoubleTap=!0),u.last=g,h=setTimeout(s,750),d&&m&&d.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(m=r(e,"move"))&&!o(e)||(y=m?e:e.touches[0],a(),u.x2=y.pageX,u.y2=y.pageY,v+=Math.abs(u.x1-u.x2),w+=Math.abs(u.y1-u.y2))}).on("touchend MSPointerUp pointerup",function(e){(m=r(e,"up"))&&!o(e)||(a(),u.x2&&Math.abs(u.x1-u.x2)>30||u.y2&&Math.abs(u.y1-u.y2)>30?c=setTimeout(function(){u.el&&(u.el.trigger("swipe"),u.el.trigger("swipe"+i(u.x1,u.x2,u.y1,u.y2))),u={}},0):"last"in u&&(v<30&&w<30?p=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=n,u.el&&u.el.trigger(e),u.isDoubleTap?(u.el&&u.el.trigger("doubleTap"),u={}):l=setTimeout(function(){l=null,u.el&&u.el.trigger("singleTap"),u={}},250)},0):u={}),v=w=0)}).on("touchcancel MSPointerCancel pointercancel",n),t(e).on("scroll",n)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(t),t}),define("pm",["utils","pageview","$","tip"],function(e,t,i,s){function a(){var e=this;this.pages={},this.isForward=!0,this.isInit=!0,this.pagekeySeed=0,this.isPrevent=!1,this.$el=i("<div class='yy-root-view'></div>"),/iphone/gi.test(navigator.userAgent)&&812===screen.height&&375===screen.width&&this.$el.addClass("yy-iosx-height"),this.$el.appendTo(document.body),window.onhashchange=function(){e.hashChange()};var t=null,s=null;i(document.body).bind("touchstart",function(e){for(t=e.target,s=t.getAttribute("data-activecn");t&&!s&&"BODY"!=t.tagName.toUpperCase()&&(t=t.parentNode,!(s=t.getAttribute("data-activecn"))););t&&s&&i(t).addClass(s)}),i(document.body).bind("touchend",function(){t&&s&&i(t).removeClass(s),t=null})}var n=!1,o=!1,r=!1;return a.prototype={blur:function(){document.activeElement&&document.activeElement.blur()},showTip:function(e){this.Tip=new s(this.$el),this.Tip.show(e)},start:function(t){e.appConfig=t,this.appConfig=t,e.customerComponents=t.customerComponents||{},t.baseSize=t.baseSize||{width:375,height:667},e.baseSize.width=t.baseSize.width,e.baseSize.height=t.baseSize.height,this.config=t;var i=this.getPageNameFromUrl();if(i){this.hashChange();var s=i.split("$$");2==s.length&&(this.pagekeySeed=parseInt(s[1]))}else this.go(t.root,this.getParamsFromUrl())},showPageKeyDict:{},regeistShowPageInRouter:function(e){this.showPageKeyDict[e]=!0},preventHasChange:function(){r=!0},hashChange:function(){var e=this.getPageNameFromUrl(),t=this.pages[this.fromPage],i=this;if(n)return n=!1,void(this.firstLoadToChangeHash=!1);if(!0===r)return void(r=!1);if(this.isInit&&e===this.appConfig.root&&(this.firstLoadToChangeHash=!0),!this.isForward&&t&&!0===this.showPageKeyDict[this.fromPage]&&t.showpage_wrapper){if(!t.hideCurShowPage()){delete this.showPageKeyDict[this.fromPage];var s=t.plugin.onPageResume;s&&s.call(t.plugin,t,{isForward:!1})}return n=!0,void window.history.go(1)}if(t){var a=t.plugin.onPageBeforeLeave;if(a){if(!1===a.call(t.plugin,t,{isForward:this.isForward}))return n=!0,void window.history.go(1)}}if(this.config.routerChange){if(!1===this.config.routerChange({fromPage:this.fromPage,toPage:e,isForward:this.isForward,params:this.getParamsFromUrl()}))return n=!0,void window.history.go(1)}var l=this.pages[e];if(t&&!l&&t.showLoadingProgressbar(),this.blur(),this._renderNextPage(e,this.fromPage,this.isForward,t,function(t,s,a){s?(o&&(o=!1,i.pages[t].destory(),delete i.pages[t]),i.fromPage=e):window.setTimeout(function(){t&&i.pages[t]&&(i.pages[t].destory(),delete i.pages[t]),i.fromPage=e},300)},function(e){n=!0,window.history.go(-1),e&&e.hideLoadingProgressbar()}),this.firstLoadToChangeHash){var p=this.getParamsFromUrl()||{};p._r=(new Date).valueOf(),this.go(this.appConfig.root,p),n=!0}},_renderNextPage:function(e,t,i,s,a,n){var o=this,r=this.pages[e],l="yy-pageview displayflex "+(i?"left-out":"right-out");if(s&&s.hideLoadingProgressbar(),r){if(!this.isForward){r.$el[0].className="yy-pageview displayflex left-in";var p=r.plugin.onPageResume;p&&p.call(r.plugin,r,{isForward:!1})}s&&(s.$el[0].className=l),a(t,i,s),this.isForward=!1}else o.getPageConfigByPageKey(e,function(n){n.prePageView=i?s:null;var r=o.createPageView(n);o.pages[e]=r,o.$el.append(r.$el),o.isInit?(o.isForward=!1,r.Enter("yy-pageview displayflex yy-pageview-show",o.isInit),o.isInit=!1):window.setTimeout(function(){r.Enter("yy-pageview displayflex "+(o.isForward?"right-in":"left-in"),o.isInit),s&&(s.$el[0].className=l),o.isForward=!1},40),a(t,i,s)},function(e){n&&n(s)})},createPageView:function(e){return new t(e)},getPageNameFromUrl:function(){var e=window.location.hash.split("#"),t=e[1];return t?t.split("?")[0]:this.rootPageKey},getParamsStrFromUrl:function(){var e=window.location.href.split("?"),t=e[e.length-1];return t?t.split("#")[0]:null},getParamsFromUrl:function(){var e=this.getParamsStrFromUrl();if(!e)return null;for(var t={},i=e.split("&"),s=0,a=i.length;s<a;s++){var n=i[s].split("=");if(2==n.length)t=t||{},t[n[0]]=n[1];else if(n.length>2){var o=n.shift();t[o]=n.join("=")}}return t},tabSeleced:function(e,t){t||(n=!0);var i=this.getParamsFromUrl()||{};i.$$pn=e;var s=[];for(var a in i)s.push(a+"="+i[a]);var o=this.getPageNameFromUrl();s.length>0?location.replace(location.href.split("#")[0]+"#"+o+"?"+s.join("&")):location.replace(location.href.split("#")[0]+"#"+o)},goBack:function(e){var t=e||-1;this.isForward=!1,window.history.go(t)},go:function(e,t){this.isForward=!0,n=!1,this.isInit&&(this.rootPageKey=e),t=t||{};var i=[];for(var s in t)i.push(s+"="+t[s]);e=this._getUniquePageKey(e),i.length>0?location.hash=e+"?"+i.join("&"):location.hash=e},replaceGo:function(e,t){this.isForward=!0,n=!1,this.isInit&&(this.rootPageKey=e),t=t||{};var i=[];for(var s in t)i.push(s+"="+t[s]);e=this._getUniquePageKey(e),o=!0,i.length>0?location.replace(location.href.split("#")[0]+"#"+e+"?"+i.join("&")):location.replace(location.href.split("#")[0]+"#"+e)},_getUniquePageKey:function(e){var t=!1;for(var i in this.pages){if(i.split("$$")[0]==e){this.pagekeySeed+=1,t=!0;break}}return t?e+"$$"+this.pagekeySeed:e},_getPageConfigSuccess:function(t,i,s){i=e.copy(i),i.type="pageview",i.pageKey=t,i.$$params=this.getParamsFromUrl(),i.$$pageManager=this,s(i)},getPageConfigByPageKey:function(t,i,s){var a=this,n="./pages/"+t.split("$$")[0],o=e.getPageConfigByPagePath(n);if(o)return void this._getPageConfigSuccess(t,o,i);require([n],function(s){s=e.setPageConfigByPagePath(n,s),a._getPageConfigSuccess(t,s,i)},function(e){console.error(e),s&&s(t)})}},new a}),require.config({waitSeconds:0,baseUrl:"./",shim:{$:{exports:"zepto"}},paths:{$:"../../libs/zepto",md5:"../../libs/md5",utils:"../../js/utils",base:"../../components/base",pageview:"../../components/pageview",pm:"../../js/pageViewManager",swiper:"../../components/swiper",calendar:"../../../components/calendar",calendarpicker:"../../../components/calendarpicker",tip:"../../components/tip"}}),require(["app","pm","$"],function(e,t,i){e.init||console.error("app.js 未提供init方法"),e.init(t)}),define("../../js/main",function(){}),define("../../components/base",["utils","tip"],function(e,t){function i(e,t){if(!e)return null;for(var i=e,s=0,a=t.length;s<a;s++){if(!(i=i[t[s]])&&0!=i){i=null;break}}return i}var s=function(t){var i=this;this.pageview=t.$$pageview||this,this.loaderHtml="<div class='spinner center'><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div><div class='spinner-blade'></div></div>",this.disabled=!1,this.parent=t.$$parent,this.datasource=t.$$datasource||[],this.rowInstance=t.$$rowInstance,t.ref&&(this.rowInstance?(this.rowInstance.refs=this.rowInstance.refs||{},this.rowInstance.refs[t.comKey]=this):this.pageview.refs[t.comKey]=this);var s=t.className||"";this.selectedClassName=t.selectedClassName,t.tagName=t.tagName||"DIV";var a=t.activeClassName?"data-activecn='"+t.activeClassName+"'":"";this.$el=$("<"+t.tagName+" "+a+" data-comname='"+t.comKey+"' class='"+s+"'></"+t.tagName+">"),t=this._processConfig(t),this.config=t,this.components={},"repeat"!=t.type&&"listview"!=t.type||(this.components=[]),t.comKey&&this.$el.addClass(t.comKey);var n=this.config.comKey+"_init";if("repeatitem"===t.type?n=this.parent.config.comKey+"_iteminit":"listrow"===t.type&&(n=this.parent.config.comKey+"_rowinit"),"pageview"===this.config.type){var o=this.config.children;if(o&&o instanceof Array)for(var r=0,l=o.length;r<l;r++){var p=o[r].components;if(p)for(var c in p){var h=e.copy(p[c]);for(var d in h)d.length>=5&&"STYLE"==d.substring(d.length-5).toUpperCase()&&(h[d]=this.processStyle(h[d],BaseSize));this.config.components[c]=h}}}if(this.pageview.plugin&&this.pageview.plugin[n]){var u=this.pageview.plugin[n];u&&u.call(this.pageview.plugin,this)}var g=t.style;if(t.noNeedSetStyle||g&&"pageview"!=t.type&&"segment"!=t.type&&e.css(this.$el,g),this.disabledClassName=t.disabledClassName||"yy-disabled",this.disabled&&this.setDisabled(!0),t.comKey){var f=t.comKey+"_click",y=i.pageview.plugin[f];y&&this.$el.bind("click",function(e){e.preventDefault(),e.stopPropagation(),!i.disabled&&y&&y.call(i.pageview.plugin,i,{e:e})});var m=t.comKey+"_tap",v=i.pageview.plugin[m];v&&this.$el.bind("singleTap",function(e){e.preventDefault(),e.stopPropagation(),!i.disabled&&v&&v.call(i.pageview.plugin,i,{e:e})})}};return s.prototype.setDisabled=function(e){this.disabled=e,this.disabled?this.$el.addClass(this.disabledClassName):this.$el.removeClass(this.disabledClassName)},s.prototype._processConfig=function(e){for(var t in e){var s=t.split("_");if(2==s.length&&"bind"==s[1]){var a=e[t],n=s[0],o=typeof a;if("string"==o)e[n]=i(this.datasource,a.split("."));else if("object"==o)for(var r in a){var l=r,p=i(this.datasource,a[r].split("."));e[n]=e[n]||{},e[n][l]=p}}}return e},s.prototype.selected=function(e){if(!e||!this.config.disableParentSelect){this.isSelected=!0,this.selectedClassName&&""!==this.selectedClassName&&this.$el.addClass(this.selectedClassName);for(var t in this.components)this.components[t].selected(!0)}},s.prototype.unSelected=function(e){if(!e||!this.config.disableParentSelect){this.isSelected=!1,this.selectedClassName&&""!==this.selectedClassName&&this.$el.removeClass(this.selectedClassName);for(var t in this.components)this.components[t].unSelected(!0)}},s.prototype.getUniqueKey=function(){return this.pageview.config.pageKey+""+this.config.comKey},s.prototype.showTip=function(e){e.horizontal?this.Tip=new t(this.$el,e.horizontal):this.Tip=new t(this.$el),this.Tip.show(e)},s.prototype._prepareComponent=function(t,i,s){var a=e.clone(this.pageview.config.components[t]),n=a.type,o=e.getComponentInstance(n);a.$$pageview=this.pageview,a.$$rowInstance=s,a.$$parent=this,a.comKey=t,a.$$datasource=i;var r=null;try{r=new o(a,null)}catch(e){console.log(e),console.log(a)}var l=t+"_didmount";if(this.pageview.plugin){var p=this.pageview.plugin[l];p&&p.call(this.pageview.plugin,r)}return this.pageview.componentsInitActions[t]&&(this.pageview.componentsInitActions[t](r),delete this.pageview.componentsInitActions[t]),r},s.prototype._initComponents=function(e,t,i,s){for(var a=0,n=e.root.length;a<n;a++){var o=e.root[a],r=this._prepareComponent(o,t,s);e.isContainer||"repeat"==e.type?(this.components.push=r,i(r)):"tabbarview"==e.type?(this.components[o]=r,i(r)):this.components[o]=r}return this.components},s.prototype.getClientRect=function(){return this.$el[0].getBoundingClientRect()},s.prototype.getComponentInstanceByComKey=function(e,t,i,s,a){var n=this;this.loadFiles([e],this.pageview||this,function(){var a=n._prepareComponent(e,t,i);s(a)},function(){a&&a()})},s.prototype.initLayout=function(t,i,s,a){var n=this;this.config.root&&this.config.root.length>0&&this.loadFiles(this.config.root,this.pageview||this,function(){if(i)n._initComponents(n.config,t,i,s);else{n._initComponents(n.config,t,null,s);for(var o=0,r=n.config.root.length;o<r;o++){var l=n.components[n.config.root[o]],p=n.$$childrenWrapper||n.$el;null===l&&(console.log(n.config.root[o]),console.log(n.config.root),console.log(n.components)),l&&("checklist"===l.config.type||"radiolist"===l.config.type?n.pageview.$el.append(l.$el):p.append(l.$el));var c;n.config.splitStyle&&n.config.root.length>1&&o!=n.config.root.length-1&&(c=$("<div></div>"),l.splitLine=c,e.css(c,n.config.splitStyle,!0),p.append(c))}}if(a&&a(),"pageview"==n.config.type){var h=n.plugin.onPageLoad;h&&h.call(n.plugin,n)}},function(){})},s.prototype.setBadge=function(t,i){if(!this.$$badge){this.$$badge=$("<div class='displayflex jc-center ai-center yy-badge displaynone'></div>"),i=i||{};var s=i.width||i.height||16;i["min-width"]=i.height=s,delete i.width,i=e.processStyle(i),i["border-radius"]=parseInt(i.height)/2+"px",e.css(this.$$badge,i),this.$el.append(this.$$badge)}t?this.$$badge.html(t).removeClass("displaynone"):this.$$badge.addClass("displaynone")},s.prototype.showLoading=function(t){if(t=t||{},this.loadingConfig=t,!this.$$loadingWrapper){t.timeout&&!isNaN(t.timeout)||(t.timeout=7e3),this.loadingtimeout=parseInt(t.timeout)||7e3;var i="displaynone yy-loading-bk displayflex yy-jc-center yy-ai-center ";t.style&&(t.style.alignItems||t.style["align-items"]||(i+="yy-ai-center")),this.$$loadingWrapper=$("<div class='"+i+"'></div>"),t.style&&e.css(this.$$loadingWrapper,t.style);var s=$("<div class='yy-loading-wrapper yy-fd-column displayflex yy-jc-center yy-ai-center'>"+this.loaderHtml+"</div>");t.horizontal&&(s=$("<div class='yy-loading-wrapper yy-fd-column displayflex yy-jc-center yy-ai-center yy-horizontal-loading'>"+this.loaderHtml+"</div>")),this.loadingText=$("<span class='yy-loading-text'></span>"),s.append(this.loadingText),this.$$loadingWrapper.append(s),this.$el.append(this.$$loadingWrapper)}this.loadingText.html(t.text||"正在努力加载"),this.startLoadingTimeout(t),this.$$loadingWrapper.removeClass("displaynone")},s.prototype.showLoadingError=function(){var e=this;if(this.$$loadingWrapper){if(this.loadingTimeId&&window.clearTimeout(this.loadingTimeId),!e.loadingConfig.reLoadCallBack)return void e.hideLoading(!0);e.loadingErrorWrapper||(e.loadingErrorWrapper=e._createErrorDom(function(){e.$$loadingWrapper.removeClass("yy-loading-wrapper-error"),e.loadingErrorWrapper.addClass("displaynone"),e.loadingTimeId=null,e.startLoadingTimeout(e.loadingConfig),e.loadingConfig.reLoadCallBack&&e.loadingConfig.reLoadCallBack()}),e.loadingErrorWrapper.appendTo(e.$$loadingWrapper)),e.$$loadingWrapper.addClass("yy-loading-wrapper-error"),e.loadingErrorWrapper.removeClass("displaynone")}},s.prototype.startLoadingTimeout=function(e){var t=this;this.loadingTimeId||(this.loadingTimeId=window.setTimeout(function(){t.hideLoading()},this.loadingtimeout))},s.prototype._createErrorDom=function(t){var i=e.getRealWidth(11),s=e.getRealWidth(20),a=$("<div style='height:100px' class='yy-loadmore-wrapper displayflex jc-center ai-center flex-h displaynone'></div>"),n=$("<i style='font-size:"+s+"px' class='yy-icommon yy-loadmore-erroricon'></i>"),o=$("<span style='font-size:"+i+"px' class='yy-pull-meslabel'>网络异常,点击</span>"),r=$("<span style='font-size:"+i+"px' class='yy-loadmore-reload-babel'>重新加载</span>");return r.bind("click",function(){t()}),a.append(n).append(o).append(r),a},s.prototype.hideLoading=function(e){if(!1===e)return void this.showLoadingError();this.loadingTimeId&&(window.clearTimeout(this.loadingTimeId),this.loadingTimeId=null),this.$$loadingWrapper&&this.$$loadingWrapper.addClass("displaynone")},s.prototype.loadFiles=function(t,i,s,a){for(var n=t.length,o=0,r=0;r<n;r++)!function(t,n,r){var l=i.config.components[r];e.getComponentClass(l,function(e){(o+=1)==t&&s()},function(){a()})}(n,0,t[r])},s}),define("../../components/button",["utils","base"],function(e,t){var i=function(e){i.baseConstructor.call(this,e);var t=e.text||e.title||"按钮",s=e.mode||"1",a="displayflex yy-btn yy-btn-"+s;this.$el.addClass(a),this.$el.html(t)};return e.extends(i,t),i}),define("swiper",["utils","base"],function(e,t){var i=function(e){this.config=e,this.$el=$("<div style='"+e.style+"' class='yy-swiper-item-wrapper'></div>")};i.prototype={css:function(t){e.css(this.$el,t)}};var s=function(t){this.config=t||{},this.$el=$("<div class='yy-swiper-wrapper flex-1'></div>"),this.itemWrappers=[],this.posArr=[0,1,2],this.limit=e.getRealWidth(90),this.minOffsetX=t.minOffsetX||0,this.tanKeys=e.getTransitionKeys(),this.initLayout(),this.direction="h",this.config.init&&this.config.init(this)};return s.prototype={_posArrGoNext:function(){var e=this.posArr[0];this.posArr[0]=this.posArr[1],this.posArr[1]=this.posArr[2],this.posArr[2]=e},_resetPosArr:function(){this.posArr=[0,1,2]},_posArrGoPre:function(){var e=this.posArr[2];this.posArr[2]=this.posArr[1],this.posArr[1]=this.posArr[0],this.posArr[0]=e},initLayout:function(){var t=this;this.initPos=[0-e.viewport.width,0,e.viewport.width];for(var s=0;s<3;s++){var a=this.tanKeys.transform+":translate3d("+this.initPos[s]+"px,0,0)",n=new i({style:a});this.itemWrappers.push(n),this.config.initItem&&this.config.initItem(n,s),this.$el.append(n.$el)}var o,r,l;t.isIntransition=!1,this.$el.bind("touchstart",function(e){l=t.isIntransition,t.isIntransition||(o=e.touches[0].pageX)}),this.$el.bind("touchmove",function(e){if(!t.isIntransition&&!l){var i=e.touches[0];r=i.pageX-o,"h"===t.direction&&Math.abs(r)>4&&(e.preventDefault(),e.stopPropagation()),t.setPos("move",r)}}),this.$el.bind("touchend",function(e){if(!t.isIntransition&&!l&&r&&0!=r){if(Math.abs(r)<t.limit)return t.setPos(),void(t.isIntransition=!1);r>0?t.goPre():t.goNext(),r=0}})},transitionEnd:function(e){this.isIntransition=!1},goPre:function(){if(this.config.beforeGoPre){if(!1===this.config.beforeGoPre())return this.setPos(),void(this.isIntransition=!1)}var e=this;this.isIntransition=!0,this._posArrGoPre(),this.setPos("gopre"),this.config.onChange&&this.config.onChange({swiper:this,action:"gopre",itemWrapper:this.itemWrappers[this.posArr[0]]}),window.setTimeout(function(){e.transitionEnd("gopre")},280)},goNext:function(){if(this.config.beforeGoNext){if(!1===this.config.beforeGoNext())return this.setPos(),void(this.isIntransition=!1)}var e=this;this.isIntransition=!0,this._posArrGoNext(),this.setPos("gonext"),this.config.onChange&&this.config.onChange({swiper:this,action:"gonext",itemWrapper:this.itemWrappers[this.posArr[2]]}),window.setTimeout(function(){e.transitionEnd("gonext")},280)},reset:function(){this._resetPosArr(),this.setPos("move",0)},getMidWrapper:function(){return this.itemWrappers[this.posArr[1]]},getPreWrapper:function(){return this.itemWrappers[this.posArr[0]]},getNextWrapper:function(){return this.itemWrappers[this.posArr[2]]},setPos:function(e,t){var i=this;t=t||0;for(var s=0;s<3;s++){var a=i.posArr[s],n=i.itemWrappers[a],o={};o[i.tanKeys.transition]="move"==e?"none":this.tanKeys.transform+" .35s ease","gopre"==e&&0==s&&(o[i.tanKeys.transition]="none"),"gonext"==e&&2==s&&(o[i.tanKeys.transition]="none"),o[i.tanKeys.transform]="translate3d("+(this.initPos[s]+t)+"px,0,0)",n.css(o)}}},s}),define("../../components/calendar",["utils","base","swiper"],function(e,t,i){function s(t,i,s,a){var n=this;n.dateInfo=t,this.calendar=a,this.$el=$("<div date-seed='"+t.dateStr+"' date-mark='"+t.mark+"' date-day='"+t.day+"'  date-month='"+t.month+"' date-year='"+t.year+"' class='yy-calendar-day-item displayflex jc-center ai-center yy-calendar-day-item-"+t.mark+"'></div>");var o=e.ConvertDateToStr(a.selectedTime)==n.dateInfo.dateStr;this.dayLabel=$("<div style='font-size:"+e.fontSize12()+"px;width:"+s+"px;height:"+s+"px;line-height:"+s+"px' class='yy-calendar-day'>"+t.day+"</div>"),o&&this.selected(),this.$el.append(this.dayLabel),e.css(this.$el,i)}function a(e){this.config=e,this.yearItems={},this.itemWrapper=e.itemWrapper,this.calendar=e.calendar}function n(t){this.config=t,this.itemWrapper=t.itemWrapper,this.calendar=t.calendar,this.SumDay=42,this.dayInnerWidth=e.getRealWidth(23),this.dayItems={}}s.prototype={selected:function(){this.dayLabel.addClass("yy-calendar-day-selected")},unSelected:function(){this.dayLabel.removeClass("yy-calendar-day-selected")}},a.prototype={createLaytout:function(e){this.yearItems={},this.itemWrapper.$el.empty();for(var t=0;t<12;t++){var i=e+t,s=new o({calendar:this.calendar,year:i,itemHeight:this.config.itemHeight});this.yearItems[i]=s,this.itemWrapper.$el.append(s.$el)}}};var o=function(t){this.config=t,this.calendar=t.calendar;var i=e.convertToDate(this.calendar.curDate),s=i.getFullYear()==this.config.year;this.$el=$("<div  date-year-seed='"+t.year+"' style='height:"+this.config.itemHeight+";line-height:"+this.config.itemHeight+"' class='yy-calendar-year-item'></div>"),this.innnerYear=$("<span style='font-size:"+e.fontSize15()+"px' class='yy-calendar-year'>"+this.config.year+"</span>"),s&&this.selected(),this.$el.append(this.innnerYear)};o.prototype={selected:function(){this.innnerYear.addClass("yy-calendar-year-selected")},unSelected:function(){this.innnerYear.removeClass("yy-calendar-year-selected")}},n.prototype={createLaytout:function(t){this.dayItems={},this.date=e.convertToDate(t),this.itemWrapper.$el.empty();for(var i=this.getDaysArr(),a={height:this.config.itemHeight+"px","font-size":e.getRealWidth(14)+"px"},n=document.createDocumentFragment(),o=0;o<this.SumDay;o++){var r=i[o],l=new s(r,a,this.dayInnerWidth,this.calendar);this.dayItems[r.dateStr]=l,n.appendChild(l.$el[0])}this.itemWrapper.$el[0].appendChild(n)},getDaysArr:function(){var t=[],i=e.getMonthDayCount(this.date),s=e.getDateInfo(this.date),a=e.getMonthFirstDayWhicDayInWeek(this.date),n=this.SumDay-a-i;if(a>0)for(var o=e.getPreMonth(this.date),r=e.getMonthDayCount(o),l=e.getDateInfo(o),p=0;p<a;p++){var c=r-a+p+1,h=new Date(l.year,l.month-1,c);t.push({date:h,dateStr:e.ConvertDateToStr(h),year:l.year,month:l.month,day:c,mark:"premonth"})}for(var p=1;p<=i;p++){var h=new Date(s.year,s.month-1,p);t.push({date:h,dateStr:e.ConvertDateToStr(h),year:s.year,month:s.month,day:p,mark:"curmonth"})}if(n>0)for(var d=e.getNextMonth(this.date),u=e.getDateInfo(d),p=1;p<=n;p++){var h=new Date(u.year,u.month-1,p);t.push({date:h,dateStr:e.ConvertDateToStr(h),year:u.year,month:u.month,day:p,mark:"nextmonth"})}return t}};var r=["一","二","三","四","五","六","七","八","九","十","十一","十二"],l=function(t){var i=this;l.baseConstructor.call(this,t),this.$el.addClass("yy-calendar-wrapper");var s=this.config.itemHeight;isNaN(s)&&(s=45),this.curDate=t.date||new Date,this.selectedTime=new Date(e.convertToDate(this.curDate).getTime()),s=parseInt(s),this.itemHeight=e.getRealHeight(s);var a=t.comKey+"_change";this.pageview&&this.pageview.plugin&&(this.pluginChangeMethod=this.pageview.plugin[a]),this.labelBarHeight=e.getRealHeight(27);var n=6*this.itemHeight+this.labelBarHeight;if(this.innerWrapper=$("<div style='height:"+n+"px' class='yy-calendar-inner'></div>"),this.config.isShowYearAndMonthPicker||!0){var o=e.getRealHeight(36);n+=o,this.initYearAndMonthPicker(o,n)}this.mode=t.mode||"年月日","年月"==this.mode?(this.curShow="year",this.createYearWrapper(n-o),this.triggerChange()):(this.curShow="day",i.createDayWraper()),this.$el.append(this.innerWrapper)};return e.extends(l,t),l.prototype.setDateSelected=function(t,i){var t=e.convertToDate(t),s=(t.getFullYear(),e.ConvertDateToStr(t));this.selectedTime=t;for(var a=0;a<3;a++){var n=this.Swiper.itemWrappers[a].daysCreator;for(var o in n.dayItems){var r=n.dayItems[o];r.dateInfo.dateStr==s?r.selected():r.unSelected()}}if(i){var l=i.getAttribute("date-mark");"premonth"==l?this.goPre():"nextmonth"==l&&this.goNext()}},l.prototype.setYearSelected=function(){var t,i=this,s=e.getDateInfo(this.curDate),a=!1,n=s.year;if(this.yearSwiper){for(var o=0;o<3;o++){var r=this.yearSwiper.itemWrappers[this.yearSwiper.posArr[o]].yearCreator;for(var l in r.yearItems){var p=r.yearItems[l];t=p.config.year,p.config.year==n?(a=!0,p.selected(),0==o?this.yearSwiper.goPre():2==o&&this.yearSwiper.goNext()):p.unSelected()}}a||(t>n?(this.initYearWrapper(n-3+12),window.setTimeout(function(){i.yearSwiper.goPre()},0)):(this.initYearWrapper(n-3-12),window.setTimeout(function(){i.yearSwiper.goNext()},0)))}},l.prototype.createDayWraper=function(){var t=this;new i({onChange:function(i){if("gopre"==i.action){var s=e.getPreMonth(t.curDate),a=e.getPreMonth(s);t.curDate=e.getCurMonthFirstDay(s),t.triggerChange(),i.itemWrapper.daysCreator.createLaytout(a)}else if("gonext"==i.action){var s=e.getNextMonth(t.curDate),n=e.getNextMonth(s);t.curDate=e.getCurMonthFirstDay(s),t.triggerChange(),i.itemWrapper.daysCreator.createLaytout(n)}},initItem:function(e,i){e.daysCreator=new n({calendar:t,itemWrapper:e,itemHeight:t.itemHeight})},init:function(e){t.Swiper=e}});var s=e.getRealWidth(13),a="style='line-height:"+this.labelBarHeight+"px;font-size:"+s+"px'",o=$("<div style='height:"+this.labelBarHeight+"px' class='yy-calendar-bar'><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Sunday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Monday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("TuesDay")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Wednesday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Thursday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Friday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Saturday")+"</div></div>");this.dayWrapper=$("<div class='yy-calendar-ymd-wrapper displayflex flex-v'></div>"),this.dayWrapper.append(o).append(this.Swiper.$el),this.Swiper.$el.bind("click",function(e){for(var i=e.target,s=i.getAttribute("date-seed");null==s&&(i=i.parentNode,!(s=i.getAttribute("date-seed")))&&"BODY"!=i.tagName.toUpperCase(););t.setDateSelected(s,i)}),this.innerWrapper.append(this.dayWrapper),this.show()},l.prototype.createYearWrapper=function(t){var s=t/4+"px",n=this,o="year"==this.curShow?"":"displaynone"
;this.yearWrapper=$("<div class='yy-calendar-ymd-wrapper "+o+"'></div>"),new i({onChange:function(e){"gopre"==e.action?(n.curYearWrapperStartYear-=12,e.itemWrapper.yearCreator.createLaytout(n.curYearWrapperStartYear-12)):"gonext"==e.action&&(n.curYearWrapperStartYear+=12,e.itemWrapper.yearCreator.createLaytout(n.curYearWrapperStartYear+12))},initItem:function(e,t){e.yearCreator=new a({itemWrapper:e,itemHeight:s,calendar:n})},init:function(t){n.yearSwiper=t,t.$el.appendTo(n.yearWrapper);var i=e.getDateInfo(n.curDate);n.initYearWrapper(i.year)}}),this.yearWrapper.bind("click",function(t){for(var i=t.target,s=i.getAttribute("date-year-seed");null==s&&(i=i.parentNode,!(s=i.getAttribute("date-year-seed")))&&"BODY"!=i.tagName.toUpperCase(););var a=parseInt(s);n.curDate=e.setDateToYear(n.curDate,a),n.show(n.curDate,!1),n.curShow="day",n.dayWrapper&&n.dayWrapper.removeClass("displaynone"),n.yearWrapper.addClass("displaynone"),n.setYearSelected()}),this.innerWrapper.append(this.yearWrapper)},l.prototype.initYearWrapper=function(e){this.yearSwiper.reset(),this.curYearWrapperStartYear=e-4,this.yearSwiper.itemWrappers[0].yearCreator.createLaytout(e-4-12),this.yearSwiper.itemWrappers[1].yearCreator.createLaytout(e-4),this.yearSwiper.itemWrappers[2].yearCreator.createLaytout(e-4+12)},l.prototype.initYearAndMonthPicker=function(t,i){var s=e.getRealWidth(18),a=this,n=$("<div style='height:"+t+"px' class='yy-calendar-ym-picker displayflex flex-h'></div>");this.yearLeftIcon=$("<div class='yy-calendar-picker-lefticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.yearLabel=$("<div style='font-size:"+s+"px' class='yy-calendar-picker-label displayflex ai-center jc-center flex-1'>2013</div>"),this.yearLabel.bind("click",function(){a.yearWrapper||a.createYearWrapper(i-t),"day"==a.curShow?(a.curShow="year",a.yearWrapper.removeClass("displaynone"),a.dayWrapper&&a.dayWrapper.addClass("displaynone")):"year"==a.curShow?(a.curShow="day",a.dayWrapper&&a.dayWrapper.removeClass("displaynone"),a.yearWrapper.addClass("displaynone")):"month"==a.curShow&&(a.curShow="year",a.monthWrapper&&a.monthWrapper.addClass("displaynone"),a.yearWrapper.removeClass("displaynone"))}),this.yearLeftIcon.bind("click",function(){a.goTo(e.getPreYear(a.curDate)),a.setYearSelected()}),this.yearRightIcon=$("<div class='yy-calendar-picker-righticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.yearRightIcon.bind("click",function(){a.goTo(e.getNextYear(a.curDate)),a.setYearSelected()}),this.monthLeftIcon=$("<div class='yy-calendar-picker-lefticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.monthLeftIcon.bind("click",function(){a.goPre(),a.setMonthSelected()}),this.monthLabel=$("<div style='font-size:"+s+"px' class='yy-calendar-picker-label displayflex ai-center jc-center flex-1'>2013</div>"),this.monthLabel.bind("click",function(){a.monthWrapper||a.createMonthWrapper(i-t),"day"==a.curShow?(a.setMonthSelected(),a.curShow="month",a.monthWrapper.removeClass("displaynone"),a.dayWrapper&&a.dayWrapper.addClass("displaynone")):"year"==a.curShow?(a.setMonthSelected(),a.curShow="month",a.monthWrapper.removeClass("displaynone"),a.yearWrapper&&a.yearWrapper.addClass("displaynone")):"month"==a.curShow&&(a.curShow="day",a.monthWrapper&&a.monthWrapper.addClass("displaynone"),a.dayWrapper&&a.dayWrapper.removeClass("displaynone"))}),this.monthRightIcon=$("<div class='yy-calendar-picker-righticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.monthRightIcon.bind("click",function(){a.goNext(),a.setMonthSelected()}),n.append(this.yearLeftIcon).append(this.yearLabel).append(this.yearRightIcon).append(this.monthLeftIcon).append(this.monthLabel).append(this.monthRightIcon),this.$el.append(n)},l.prototype.createMonthWrapper=function(t){var i=t/4+"px",s=this;this.monthDict={},this.monthWrapper=$("<div class='yy-calendar-ymd-wrapper displaynone'></div>");for(var a=0;a<12;a++){var n=$("<div data-month-seed='"+(a+1)+"' style='height:"+i+";line-height:"+i+"' class='yy-calendar-month-item'></div>"),o=$("<span class='yy-calendar-month' style='font-size:"+e.fontSize15()+"px'>"+r[a]+"</span>");n.append(o),a+1==this.curDate.getMonth()+1&&o.addClass("yy-calendar-month-selected"),this.monthDict[(a+1).toString()]=o,this.monthWrapper.append(n)}this.monthWrapper.bind("click",function(t){for(var i=t.target,a=i.getAttribute("data-month-seed");null==a&&(i=i.parentNode,!(a=i.getAttribute("data-month-seed")))&&"BODY"!=i.tagName.toUpperCase(););a&&(s.curDate=e.setMonthToDate(s.curDate,a),s.show(s.curDate,!1),s.curShow="day",s.dayWrapper&&s.dayWrapper.removeClass("displaynone"),s.monthWrapper.addClass("displaynone"),s.setMonthSelected())}),this.innerWrapper.append(this.monthWrapper)},l.prototype.setMonthSelected=function(){var t=e.convertToDate(this.curDate).getMonth()+1;this.setYearSelected();for(var i in this.monthDict)t==parseInt(i)?this.monthDict[i].addClass("yy-calendar-month-selected"):this.monthDict[i].removeClass("yy-calendar-month-selected")},l.prototype.show=function(t,i){t=t||this.curDate||new Date,this.curDate=e.convertToDate(t),this.Swiper.reset();var s=e.getPreMonth(this.curDate);this.Swiper.itemWrappers[0].daysCreator.createLaytout(s),this.Swiper.itemWrappers[1].daysCreator.createLaytout(this.curDate);var a=e.getNextMonth(this.curDate);this.Swiper.itemWrappers[2].daysCreator.createLaytout(a),i||this.triggerChange()},l.prototype.triggerChange=function(){var t=e.getDateInfo(this.curDate);this.monthLabel.html(t.month),this.yearLabel.html(t.year),this.pluginChangeMethod&&this.pluginChangeMethod.call(this.pageview.plugin,this,{})},l.prototype.goPre=function(){this.Swiper.goPre()},l.prototype.goNext=function(){this.Swiper.goNext()},l.prototype.setValue=function(t){t=t||new Date,t=e.convertToDate(t),this.selectedTime=t,this.goTo(t)},l.prototype.goTo=function(t){var i=this;if(t=t||new Date,t=e.convertToDate(t),e.ConvertDateToStr(this.curDate)!=e.ConvertDateToStr(t)){if(e.ConvertDateToStr(this.curDate,"yyyy-MM")==e.ConvertDateToStr(t,"yyyy-MM"))return void this.setDateSelected(t);this.curDate=t,this.curDate>t?(this.show(e.getNextMonth(t),!0),window.setTimeout(function(){i.goPre()},0)):(this.show(e.getPreMonth(t),!0),window.setTimeout(function(){i.goNext()},0))}},l}),define("calendar",["utils","base","swiper"],function(e,t,i){function s(t,i,s,a){var n=this;n.dateInfo=t,this.calendar=a,this.$el=$("<div date-seed='"+t.dateStr+"' date-mark='"+t.mark+"' date-day='"+t.day+"'  date-month='"+t.month+"' date-year='"+t.year+"' class='yy-calendar-day-item displayflex jc-center ai-center yy-calendar-day-item-"+t.mark+"'></div>");var o=e.ConvertDateToStr(a.selectedTime)==n.dateInfo.dateStr;this.dayLabel=$("<div style='font-size:"+e.fontSize12()+"px;width:"+s+"px;height:"+s+"px;line-height:"+s+"px' class='yy-calendar-day'>"+t.day+"</div>"),o&&this.selected(),this.$el.append(this.dayLabel),e.css(this.$el,i)}function a(e){this.config=e,this.yearItems={},this.itemWrapper=e.itemWrapper,this.calendar=e.calendar}function n(t){this.config=t,this.itemWrapper=t.itemWrapper,this.calendar=t.calendar,this.SumDay=42,this.dayInnerWidth=e.getRealWidth(23),this.dayItems={}}s.prototype={selected:function(){this.dayLabel.addClass("yy-calendar-day-selected")},unSelected:function(){this.dayLabel.removeClass("yy-calendar-day-selected")}},a.prototype={createLaytout:function(e){this.yearItems={},this.itemWrapper.$el.empty();for(var t=0;t<12;t++){var i=e+t,s=new o({calendar:this.calendar,year:i,itemHeight:this.config.itemHeight});this.yearItems[i]=s,this.itemWrapper.$el.append(s.$el)}}};var o=function(t){this.config=t,this.calendar=t.calendar;var i=e.convertToDate(this.calendar.curDate),s=i.getFullYear()==this.config.year;this.$el=$("<div  date-year-seed='"+t.year+"' style='height:"+this.config.itemHeight+";line-height:"+this.config.itemHeight+"' class='yy-calendar-year-item'></div>"),this.innnerYear=$("<span style='font-size:"+e.fontSize15()+"px' class='yy-calendar-year'>"+this.config.year+"</span>"),s&&this.selected(),this.$el.append(this.innnerYear)};o.prototype={selected:function(){this.innnerYear.addClass("yy-calendar-year-selected")},unSelected:function(){this.innnerYear.removeClass("yy-calendar-year-selected")}},n.prototype={createLaytout:function(t){this.dayItems={},this.date=e.convertToDate(t),this.itemWrapper.$el.empty();for(var i=this.getDaysArr(),a={height:this.config.itemHeight+"px","font-size":e.getRealWidth(14)+"px"},n=document.createDocumentFragment(),o=0;o<this.SumDay;o++){var r=i[o],l=new s(r,a,this.dayInnerWidth,this.calendar);this.dayItems[r.dateStr]=l,n.appendChild(l.$el[0])}this.itemWrapper.$el[0].appendChild(n)},getDaysArr:function(){var t=[],i=e.getMonthDayCount(this.date),s=e.getDateInfo(this.date),a=e.getMonthFirstDayWhicDayInWeek(this.date),n=this.SumDay-a-i;if(a>0)for(var o=e.getPreMonth(this.date),r=e.getMonthDayCount(o),l=e.getDateInfo(o),p=0;p<a;p++){var c=r-a+p+1,h=new Date(l.year,l.month-1,c);t.push({date:h,dateStr:e.ConvertDateToStr(h),year:l.year,month:l.month,day:c,mark:"premonth"})}for(var p=1;p<=i;p++){var h=new Date(s.year,s.month-1,p);t.push({date:h,dateStr:e.ConvertDateToStr(h),year:s.year,month:s.month,day:p,mark:"curmonth"})}if(n>0)for(var d=e.getNextMonth(this.date),u=e.getDateInfo(d),p=1;p<=n;p++){var h=new Date(u.year,u.month-1,p);t.push({date:h,dateStr:e.ConvertDateToStr(h),year:u.year,month:u.month,day:p,mark:"nextmonth"})}return t}};var r=["一","二","三","四","五","六","七","八","九","十","十一","十二"],l=function(t){var i=this;l.baseConstructor.call(this,t),this.$el.addClass("yy-calendar-wrapper");var s=this.config.itemHeight;isNaN(s)&&(s=45),this.curDate=t.date||new Date,this.selectedTime=new Date(e.convertToDate(this.curDate).getTime()),s=parseInt(s),this.itemHeight=e.getRealHeight(s);var a=t.comKey+"_change";this.pageview&&this.pageview.plugin&&(this.pluginChangeMethod=this.pageview.plugin[a]),this.labelBarHeight=e.getRealHeight(27);var n=6*this.itemHeight+this.labelBarHeight;if(this.innerWrapper=$("<div style='height:"+n+"px' class='yy-calendar-inner'></div>"),this.config.isShowYearAndMonthPicker||!0){var o=e.getRealHeight(36);n+=o,this.initYearAndMonthPicker(o,n)}this.mode=t.mode||"年月日","年月"==this.mode?(this.curShow="year",this.createYearWrapper(n-o),this.triggerChange()):(this.curShow="day",i.createDayWraper()),this.$el.append(this.innerWrapper)};return e.extends(l,t),l.prototype.setDateSelected=function(t,i){var t=e.convertToDate(t),s=(t.getFullYear(),e.ConvertDateToStr(t));this.selectedTime=t;for(var a=0;a<3;a++){var n=this.Swiper.itemWrappers[a].daysCreator;for(var o in n.dayItems){var r=n.dayItems[o];r.dateInfo.dateStr==s?r.selected():r.unSelected()}}if(i){var l=i.getAttribute("date-mark");"premonth"==l?this.goPre():"nextmonth"==l&&this.goNext()}},l.prototype.setYearSelected=function(){var t,i=this,s=e.getDateInfo(this.curDate),a=!1,n=s.year;if(this.yearSwiper){for(var o=0;o<3;o++){var r=this.yearSwiper.itemWrappers[this.yearSwiper.posArr[o]].yearCreator;for(var l in r.yearItems){var p=r.yearItems[l];t=p.config.year,p.config.year==n?(a=!0,p.selected(),0==o?this.yearSwiper.goPre():2==o&&this.yearSwiper.goNext()):p.unSelected()}}a||(t>n?(this.initYearWrapper(n-3+12),window.setTimeout(function(){i.yearSwiper.goPre()},0)):(this.initYearWrapper(n-3-12),window.setTimeout(function(){i.yearSwiper.goNext()},0)))}},l.prototype.createDayWraper=function(){var t=this;new i({onChange:function(i){if("gopre"==i.action){var s=e.getPreMonth(t.curDate),a=e.getPreMonth(s);t.curDate=e.getCurMonthFirstDay(s),t.triggerChange(),i.itemWrapper.daysCreator.createLaytout(a)}else if("gonext"==i.action){var s=e.getNextMonth(t.curDate),n=e.getNextMonth(s);t.curDate=e.getCurMonthFirstDay(s),t.triggerChange(),i.itemWrapper.daysCreator.createLaytout(n)}},initItem:function(e,i){e.daysCreator=new n({calendar:t,itemWrapper:e,itemHeight:t.itemHeight})},init:function(e){t.Swiper=e}});var s=e.getRealWidth(13),a="style='line-height:"+this.labelBarHeight+"px;font-size:"+s+"px'",o=$("<div style='height:"+this.labelBarHeight+"px' class='yy-calendar-bar'><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Sunday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Monday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("TuesDay")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Wednesday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Thursday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Friday")+"</div><div "+a+" class='yy-c-bar-item'>"+e.getLanguageText("Saturday")+"</div></div>");this.dayWrapper=$("<div class='yy-calendar-ymd-wrapper displayflex flex-v'></div>"),this.dayWrapper.append(o).append(this.Swiper.$el),this.Swiper.$el.bind("click",function(e){for(var i=e.target,s=i.getAttribute("date-seed");null==s&&(i=i.parentNode,!(s=i.getAttribute("date-seed")))&&"BODY"!=i.tagName.toUpperCase(););t.setDateSelected(s,i)}),this.innerWrapper.append(this.dayWrapper),this.show()},l.prototype.createYearWrapper=function(t){var s=t/4+"px",n=this,o="year"==this.curShow?"":"displaynone";this.yearWrapper=$("<div class='yy-calendar-ymd-wrapper "+o+"'></div>"),new i({onChange:function(e){"gopre"==e.action?(n.curYearWrapperStartYear-=12,e.itemWrapper.yearCreator.createLaytout(n.curYearWrapperStartYear-12)):"gonext"==e.action&&(n.curYearWrapperStartYear+=12,e.itemWrapper.yearCreator.createLaytout(n.curYearWrapperStartYear+12))},initItem:function(e,t){e.yearCreator=new a({itemWrapper:e,itemHeight:s,calendar:n})},init:function(t){n.yearSwiper=t,t.$el.appendTo(n.yearWrapper);var i=e.getDateInfo(n.curDate);n.initYearWrapper(i.year)}}),this.yearWrapper.bind("click",function(t){for(var i=t.target,s=i.getAttribute("date-year-seed");null==s&&(i=i.parentNode,!(s=i.getAttribute("date-year-seed")))&&"BODY"!=i.tagName.toUpperCase(););var a=parseInt(s);n.curDate=e.setDateToYear(n.curDate,a),n.show(n.curDate,!1),n.curShow="day",n.dayWrapper&&n.dayWrapper.removeClass("displaynone"),n.yearWrapper.addClass("displaynone"),n.setYearSelected()}),this.innerWrapper.append(this.yearWrapper)},l.prototype.initYearWrapper=function(e){this.yearSwiper.reset(),this.curYearWrapperStartYear=e-4,this.yearSwiper.itemWrappers[0].yearCreator.createLaytout(e-4-12),this.yearSwiper.itemWrappers[1].yearCreator.createLaytout(e-4),this.yearSwiper.itemWrappers[2].yearCreator.createLaytout(e-4+12)},l.prototype.initYearAndMonthPicker=function(t,i){var s=e.getRealWidth(18),a=this,n=$("<div style='height:"+t+"px' class='yy-calendar-ym-picker displayflex flex-h'></div>");this.yearLeftIcon=$("<div class='yy-calendar-picker-lefticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.yearLabel=$("<div style='font-size:"+s+"px' class='yy-calendar-picker-label displayflex ai-center jc-center flex-1'>2013</div>"),this.yearLabel.bind("click",function(){a.yearWrapper||a.createYearWrapper(i-t),"day"==a.curShow?(a.curShow="year",a.yearWrapper.removeClass("displaynone"),a.dayWrapper&&a.dayWrapper.addClass("displaynone")):"year"==a.curShow?(a.curShow="day",a.dayWrapper&&a.dayWrapper.removeClass("displaynone"),a.yearWrapper.addClass("displaynone")):"month"==a.curShow&&(a.curShow="year",a.monthWrapper&&a.monthWrapper.addClass("displaynone"),a.yearWrapper.removeClass("displaynone"))}),this.yearLeftIcon.bind("click",function(){a.goTo(e.getPreYear(a.curDate)),a.setYearSelected()}),this.yearRightIcon=$("<div class='yy-calendar-picker-righticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.yearRightIcon.bind("click",function(){a.goTo(e.getNextYear(a.curDate)),a.setYearSelected()}),this.monthLeftIcon=$("<div class='yy-calendar-picker-lefticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.monthLeftIcon.bind("click",function(){a.goPre(),a.setMonthSelected()}),this.monthLabel=$("<div style='font-size:"+s+"px' class='yy-calendar-picker-label displayflex ai-center jc-center flex-1'>2013</div>"),this.monthLabel.bind("click",function(){a.monthWrapper||a.createMonthWrapper(i-t),"day"==a.curShow?(a.setMonthSelected(),a.curShow="month",a.monthWrapper.removeClass("displaynone"),a.dayWrapper&&a.dayWrapper.addClass("displaynone")):"year"==a.curShow?(a.setMonthSelected(),a.curShow="month",a.monthWrapper.removeClass("displaynone"),a.yearWrapper&&a.yearWrapper.addClass("displaynone")):"month"==a.curShow&&(a.curShow="day",a.monthWrapper&&a.monthWrapper.addClass("displaynone"),a.dayWrapper&&a.dayWrapper.removeClass("displaynone"))}),this.monthRightIcon=$("<div class='yy-calendar-picker-righticon' style='width:"+t+"px;height:"+t+"px;line-height:"+t+"px'></div>"),this.monthRightIcon.bind("click",function(){a.goNext(),a.setMonthSelected()}),n.append(this.yearLeftIcon).append(this.yearLabel).append(this.yearRightIcon).append(this.monthLeftIcon).append(this.monthLabel).append(this.monthRightIcon),this.$el.append(n)},l.prototype.createMonthWrapper=function(t){var i=t/4+"px",s=this;this.monthDict={},this.monthWrapper=$("<div class='yy-calendar-ymd-wrapper displaynone'></div>");for(var a=0;a<12;a++){var n=$("<div data-month-seed='"+(a+1)+"' style='height:"+i+";line-height:"+i+"' class='yy-calendar-month-item'></div>"),o=$("<span class='yy-calendar-month' style='font-size:"+e.fontSize15()+"px'>"+r[a]+"</span>");n.append(o),a+1==this.curDate.getMonth()+1&&o.addClass("yy-calendar-month-selected"),this.monthDict[(a+1).toString()]=o,this.monthWrapper.append(n)}this.monthWrapper.bind("click",function(t){for(var i=t.target,a=i.getAttribute("data-month-seed");null==a&&(i=i.parentNode,!(a=i.getAttribute("data-month-seed")))&&"BODY"!=i.tagName.toUpperCase(););a&&(s.curDate=e.setMonthToDate(s.curDate,a),s.show(s.curDate,!1),s.curShow="day",s.dayWrapper&&s.dayWrapper.removeClass("displaynone"),s.monthWrapper.addClass("displaynone"),s.setMonthSelected())}),this.innerWrapper.append(this.monthWrapper)},l.prototype.setMonthSelected=function(){var t=e.convertToDate(this.curDate).getMonth()+1;this.setYearSelected();for(var i in this.monthDict)t==parseInt(i)?this.monthDict[i].addClass("yy-calendar-month-selected"):this.monthDict[i].removeClass("yy-calendar-month-selected")},l.prototype.show=function(t,i){t=t||this.curDate||new Date,this.curDate=e.convertToDate(t),this.Swiper.reset();var s=e.getPreMonth(this.curDate);this.Swiper.itemWrappers[0].daysCreator.createLaytout(s),this.Swiper.itemWrappers[1].daysCreator.createLaytout(this.curDate);var a=e.getNextMonth(this.curDate);this.Swiper.itemWrappers[2].daysCreator.createLaytout(a),i||this.triggerChange()},l.prototype.triggerChange=function(){var t=e.getDateInfo(this.curDate);this.monthLabel.html(t.month),this.yearLabel.html(t.year),this.pluginChangeMethod&&this.pluginChangeMethod.call(this.pageview.plugin,this,{})},l.prototype.goPre=function(){this.Swiper.goPre()},l.prototype.goNext=function(){this.Swiper.goNext()},l.prototype.setValue=function(t){t=t||new Date,t=e.convertToDate(t),this.selectedTime=t,this.goTo(t)},l.prototype.goTo=function(t){var i=this;if(t=t||new Date,t=e.convertToDate(t),e.ConvertDateToStr(this.curDate)!=e.ConvertDateToStr(t)){if(e.ConvertDateToStr(this.curDate,"yyyy-MM")==e.ConvertDateToStr(t,"yyyy-MM"))return void this.setDateSelected(t);this.curDate=t,this.curDate>t?(this.show(e.getNextMonth(t),!0),window.setTimeout(function(){i.goPre()},0)):(this.show(e.getPreMonth(t),!0),window.setTimeout(function(){i.goNext()},0))}},l}),define("../../components/calendarbetween",["utils","base","calendar"],function(e,t,i){function s(t,s,a,n){if(t.stopPropagation(),t.preventDefault(),$(a).css({borderColor:"#29b6f6"}),$(a).siblings().css({borderColor:"#eee"}),this.flag)return this.$el.removeClass("yy-calendar-picker-show"),this.backCover.addClass("displaynone"),void(this.flag=!1);this.$el=$("<div class='yy-calendar-picker' style='z-index: 4100'></div>"),this.calendar=new i({itemHeight:30}),this.backCover=$("<div class='yy-calendar-picker-bk displaynone' style='z-index: 1111'></div>");var o=e.getRealHeight("28"),r=$("<div style='height:"+o+"px' class='yy-calendar-picker-btns'></div>"),l=$("<div style='font-size:"+e.fontSize15()+"px;line-height:"+o+"px' class='yy-calendar-picker-cancelbtn'>"+e.getLanguageText("cancel")+"</div>"),p=$("<div style='font-size:"+e.fontSize15()+"px;line-height:"+o+"px' class='yy-calendar-picker-okbtn'>"+e.getLanguageText("confirm")+"</div>");p.bind("click",function(){$(a).text(e.ConvertDateToStr(c.calendar.selectedTime)),$(a).hasClass("yy-input-id")?n.start=e.ConvertDateToStr(c.calendar.selectedTime):n.end=e.ConvertDateToStr(c.calendar.selectedTime),c.$el.removeClass("yy-calendar-picker-show"),c.backCover.addClass("displaynone"),c.flag=!1}),l.bind("click",function(){c.$el.removeClass("yy-calendar-picker-show"),c.backCover.addClass("displaynone"),c.flag=!1}),this.backCover.bind("click",function(){c.$el.removeClass("yy-calendar-picker-show"),c.backCover.addClass("displaynone"),c.flag=!1}),r.append(l).append(p),this.$el.append(r).append(this.calendar.$el),$(s).append(this.backCover[0]).append(this.$el);var c=this;window.setTimeout(function(){c.flag||(c.$el.addClass("yy-calendar-picker-show"),c.backCover.removeClass("displaynone"),c.flag=!0)},0)}var a=function(t){this.pageview=t.pageview;var i=this,a=t.wrapper||$(document.body),n=t.mode||1;t.className;this.localS={start:"",end:""};var o=e.ConvertDateToStr(new Date),r=e.ConvertDateToStr((new Date).getTime()-864e5);this.$input_value={start:r,end:o},this.hasSelectCTime=t.hasSelectCTime?JSON.parse(t.hasSelectCTime):"",this.hasSelectSTime=t.hasSelectSTime?JSON.parse(t.hasSelectSTime):"",this.hasSelectDTime=t.hasSelectDTime?JSON.parse(t.hasSelectDTime):"",this.dateWrapper=$("<div class='yy-date-wrapper yy-dialog-effect-"+n+" yy-dialog-hide '></div>"),this.dateBackCover=$("<div style='visibility: hidden;' class='yy-dialog-bk'></div>"),this.$inputWrap=$("<div class='yy-input-wrap yy-fd-row displayflex '></div>"),this.$input=$("<div class='yy-input-inner yy-icon yy-input-id yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+r+"</div>"),this.$span="<div>&nbsp&nbsp--&nbsp&nbsp</div>",this.$input1=$("<div class='yy-input-inner yy-icon yy-input-id1 yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+o+"</div>"),this.hasSelectCTime.start&&(this.localS.start=this.hasSelectCTime.start,this.$input=$("<div class='yy-input-inner yy-icon yy-input-id yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+this.hasSelectCTime.start+"</div>")),this.hasSelectCTime.end&&(this.localS.end=this.hasSelectCTime.end,this.$input1=$("<div class='yy-input-inner yy-icon yy-input-id1 yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+this.hasSelectCTime.end+"</div>")),this.hasSelectSTime.start&&(this.localS.start=this.hasSelectSTime.start,this.$input=$("<div class='yy-input-inner yy-icon yy-input-id yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+this.hasSelectSTime.start+"</div>")),this.hasSelectSTime.end&&(this.localS.end=this.hasSelectSTime.end,this.$input1=$("<div class='yy-input-inner yy-icon yy-input-id1 yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+this.hasSelectSTime.end+"</div>")),this.hasSelectDTime.start&&(this.localS.start=this.hasSelectDTime.start,this.$input=$("<div class='yy-input-inner yy-icon yy-input-id yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+this.hasSelectDTime.start+"</div>")),this.hasSelectDTime.end&&(this.localS.end=this.hasSelectDTime.end,this.$input1=$("<div class='yy-input-inner yy-icon yy-input-id1 yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+this.hasSelectDTime.end+"</div>")),this.$inputWrap.append(this.$input).append(this.$span).append(this.$input1);var l=$("<div class='yy-dialog-btn-wrapper displayflex yy-fd-row'></div>"),p=$("<div class='yy-dialog-btn yy-date-btn yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+e.getLanguageText("cancel")+"</div>"),c=$("<div class='yy-dialog-btn yy-date-btn1 yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+e.getLanguageText("confirm")+"</div>");l.append(p).append(c),this.dateWrapper.append(this.$inputWrap).append(l),a.append(this.dateWrapper).append(this.dateBackCover),this.dateBackCover.on("click",function(){i.hide()}),this.flag=!1,p.on("click",function(e){i.hide()}),c.on("click",function(e){if(i.$input_value.start=i.$input.text(),i.$input_value.end=i.$input1.text(),i.localS.start&&!i.$input_value.start&&(i.$input_value.start=i.localS.start),i.localS.end&&!i.$input_value.end&&(i.$input_value.end=i.localS.end),""!==i.$input_value.start&&""!==i.$input_value.start){var s=i.$input_value.start.replace(/-/g,"/"),a=i.$input_value.end.replace(/-/g,"/");if(new Date(s).getTime()>new Date(a).getTime()){var n=i.$input_value.start;i.$input_value.start=i.$input_value.end,i.$input_value.end=n}}"提交时间"===t.timeType||"Send Date"===t.timeType?(window.localStorage.setItem("SUBMIT_TIME",JSON.stringify(i.$input_value)),i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.taskBeginDate=i.$input_value.start,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.taskEndDate=i.$input_value.end,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.taskDate="taskTime_more",i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompDate=null):"接收时间"===t.timeType||"Receive Date"===t.timeType?(window.localStorage.setItem("RECEIVE_TIME",JSON.stringify(i.$input_value)),i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompBeginDate=i.$input_value.start,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompEndDate=i.$input_value.end,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompDate="taskTime_more",i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.taskDate=null):"完成时间"!==t.timeType&&"Finish Date"!==t.timeType||(window.localStorage.setItem("DONE_TIME",JSON.stringify(i.$input_value)),i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompBeginDate=i.$input_value.start,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompEndDate=i.$input_value.end,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.rcvOrCompDate="taskTime_more",i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.taskDate=null),t.sender.rootInstance.hideDropDown(),i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.pageNum=1,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.start=0,i.pageview.viewpager.curPageViewItem.contentInstance.refs.listview.loadFirstPageData({parentAnimate:!0}),i.hide()}),this.$input.on("click",function(e){s(e,a,this,i.$input_value)}),this.$input1.on("click",function(e){s(e,a,this,i.$input_value)})};return a.prototype.show=function(){var e=this;this.dateWrapper.css({visibility:"visible"}),this.dateBackCover.css({visibility:"visible"}),this.dateBackCover.addClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dateWrapper.removeClass("yy-dialog-hide").addClass("yy-dialog-show")},1)},a.prototype.hide=function(){var e=this;this.dateWrapper.removeClass("yy-dialog-show").addClass("yy-dialog-hide"),this.dateBackCover.removeClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dateWrapper.css({visibility:"hidden"}),e.dateBackCover.css({visibility:"hidden"})},200)},a.prototype.bindValue=function(){$(".yy-input-id").val(new Date(this.calendar.selectedTime))},a}),define("../../components/calendarpicker",["utils","calendar"],function(e,t){var i=function(i){var s=this;i=i||{};var a=i.wrapper||document.body;this.$el=$("<div class='yy-calendar-picker'></div>"),this.calendar=new t({itemHeight:38}),this.backCover=$("<div class='yy-calendar-picker-bk displaynone'></div>"),this.backCover.bind("click",function(){s.hide()});var n=e.getRealHeight("36"),o=$("<div style='height:"+n+"px' class='yy-calendar-picker-btns'></div>"),r=$("<div style='font-size:"+e.fontSize15()+"px;line-height:"+n+"px' class='yy-calendar-picker-cancelbtn'>"+e.getLanguageText("cancel")+"</div>"),l=$("<div style='font-size:"+e.fontSize15()+"px;line-height:"+n+"px' class='yy-calendar-picker-okbtn'>"+e.getLanguageText("confirm")+"</div>");l.bind("click",function(){i.ok&&i.ok({date:s.calendar.selectedTime,dateStr:e.ConvertDateToStr(s.calendar.selectedTime)}),s.hide()}),r.bind("click",function(){s.hide()}),o.append(r).append(l),this.$el.append(o).append(this.calendar.$el),$(a).append(this.backCover[0]).append(this.$el)};return i.prototype.show=function(e){this.calendar.setValue(e);var t=this;window.setTimeout(function(){t.$el.addClass("yy-calendar-picker-show"),t.backCover.removeClass("displaynone")},0)},i.prototype.hide=function(e){this.$el.removeClass("yy-calendar-picker-show"),this.backCover.addClass("displaynone")},i}),define("../../components/calendarrange",["utils","base","./calendar"],function(e,t,i){var s=function(e){s.baseConstructor.call(this,e)};return e.extends(s,t),s}),define("../../components/canvas",["utils","base"],function(e,t){function i(t){var s=this;this.isIOS=e.deviceInfo().isIOS,this.hasFixed=!1,this.isSticky=!1;var a=document.documentElement.clientWidth+"",n=document.documentElement.clientHeight+"";n*=.88;window;window.addEventListener("evt",function(){alert("屏幕旋转了")}),this.LoadMoreWrapper=$("<div style='height:"+e.getRealHeight(36)+"px' class='yy-loadmore-wrapper displayflex yy-jc-center yy-ai-center flex-h displaynone'></div>"),t.className.indexOf("hor")>-1?this.Canvas=$("<canvas class='drawing-board-canvas'  height='"+(n-30)+"' width='"+(a-20)+"' style='border: 1px dotted;margin: 10px auto'></canvas>"):this.Canvas=$("<canvas class='drawing-board-canvas'  height='260' width='"+(a-2)+"' style='border: 1px dotted;margin:20px 0'></canvas>"),i.baseConstructor.call(this,t),this.stickyHeaderIndices=this.config.stickyHeaderIndices,s.isInLoading=!1,s.canRefresh=!1,this._initTouchEvent(),this.$el.addClass("displayflex yy-view"),this.$el.append(this.Canvas),t.root=t.root||[]}return e.extends(i,t),i.prototype._initTouchEvent=function(){var t=this;if(this.pluginPullToRefreshMethod){var i,s=0;this.$el.bind("touchstart",function(e){if(!0!==t.config.onlyForSticky&&!t.isInLoading){t.isInLoading=!1,t.canRefresh=!1;var a=e.touches[0];s=a.pageY,i=t.$el.scrollTop()}}),this.$el.bind("touchmove",function(a){if(!0!==t.config.onlyForSticky&&!t.isInLoading){var n=a.touches[0],o=n.pageY,r=o-s;if(r>0){if(t.pluginCanPullToRefreshMethod){if(!0!==t.pluginCanPullToRefreshMethod.call(t.pageview.plugin,t))return}if(t.$el.scrollTop()<=0){t.$el.css({overflow:"hidden"}),a.preventDefault(),a.stopPropagation();var l=r-i;l>4*t.pullLimitHeight?(t.pullMesLabel.html(e.getLanguageText("releaseToUpdate")),t.pullToRefreshWrapper[0].className="yy-pull-wrapper yy-release-refresh",t.canRefresh=!0):(t.pullMesLabel.html(e.getLanguageText("pullToRefresh")),t.pullToRefreshWrapper[0].className="yy-pull-wrapper yy-push-refresh",t.canRefresh=!1),t.innerWrapper.css(e.processTransitionTanformStyle("none","translate3d(0,"+l/3+"px,0)"))}}}}),this.$el.bind("touchend",function(e){if(!0===t.config.onlyForSticky)return void t.resetPullLoadState();!0===t.config.noScroll||t.$el.css({"overflow-y":"auto"}),t.isInLoading||(t.canRefresh?(t.setPullLoadingState(),t.pluginPullToRefreshMethod&&t.pluginPullToRefreshMethod.call(t.pageview.plugin,t,{})):t.resetPullLoadState())})}},i}),define("../../components/checkbox",["utils","base"],function(e,t){var i=e.getRealWidth(20),s=e.getRealWidth(4),a=e.getRealWidth(14),n={width:i,height:i,borderRadius:s,border:"1px solid rgb(229, 229, 229)",backgroundColor:"#fff",fontSize:a},o={width:i,height:i,borderRadius:s,border:"1px solid #0093ff",color:"#fff",backgroundColor:"#0093ff",fontSize:a},r=function(t){var i=this;t.style=t.style||{},this.uss=e.simpleExtendObj(e.clone(n),t.style),this.uss=e.simpleExtendObj(this.uss,t.unSelectedStyle||{}),
this.ss=e.simpleExtendObj(e.clone(o),t.selectedStyle||{}),this.ss=e.simpleExtendObj(this.ss,t.selectedStyle||{}),this.value=t.value,r.baseConstructor.call(this,t),this.$el.addClass("yy-checkbox yy-icommon"),this.setValue(this.value),this.$el.bind("click",function(){i.change()});var s=this.config.comKey+"_change";this.changeMethod=this.pageview.plugin[s]};return e.extends(r,t),r.prototype.change=function(){this.changeMethod&&this.changeMethod.call(this.pageview.plugin,this,{value:!this.value})},r.prototype.selected=function(t){t&&this.config.disableParentSelect||(this.value=!0,e.css(this.$el,this.ss),this.$el.addClass("yy-checkbox-selected"))},r.prototype.unSelected=function(t){t&&this.config.disableParentSelect||(this.value=!1,e.css(this.$el,this.uss),this.$el.removeClass("yy-checkbox-selected"))},r.prototype.setValue=function(t){this.value=t,t?(this.$el.addClass("yy-checkbox-selected"),e.css(this.$el,this.ss)):(this.$el.removeClass("yy-checkbox-selected"),e.css(this.$el,this.uss))},r}),define("../../components/checklist",["utils","base"],function(e,t){var i=function(t){if(this.itemData=t.itemData,this.parent=t.parent,"string"==typeof this.parent.primaryKey)this.key=this.itemData[this.parent.primaryKey];else if(this.parent.primaryKey instanceof Array){for(var i=[],s=0,a=this.parent.primaryKey.length;s<a;s++)i.push(this.itemData[this.parent.primaryKey[s]]);this.key=i.join("_")}else console.error("checklist控件primaryKey属性 错误的数据类型");this.$el=$("<div data-key='"+this.key+"' class='yy-checklist-item yy-icommon' style='height:"+t.parent.itemHeight+"px;line-height:"+t.parent.itemHeight+"px;font-size:"+e.fontSize13()+"px'>"+(t.itemData[t.parent.labelKey]||"")+"</div>")};i.prototype={selected:function(){this.$el.addClass("yy-checklist-item-selected")},unSelected:function(){this.$el.removeClass("yy-checklist-item-selected")}};var s=function(t){var i=this;s.baseConstructor.call(this,t);var a=e.getRealHeight("38");this.itemHeight=e.getRealHeight("48"),this.canbeNull=t.canbeNull||!1,this.selectedValue=[],this.$el.addClass("yy-checklist"),this.items=[],this.selectedValue=this.config.selectedValue||[],this.primaryKey=this.config.primaryKey,this.primaryKey||console.error(this.config.comKey+"控件没有指定primaryKey数据的主键"),this.loadWrapper=$("<div class='yy-cs-loading-wrapper displayflex jc-center ai-center'><div class='preloader'></div></div>"),this.backCoverLayer=$("<div class='yy-cl-coverlayer displaynone'></div>");var n=$("<div style='height:"+a+"px;font-size:"+e.fontSize(16)+"px;line-height:"+a+"px' class='displayflex jc-between ai-center yy-cl-title-wrapper'></div>");this.backCoverLayer.bind("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),this.CancelBtn=$("<div  class='yy-checklist-btn'>"+e.getLanguageText("cancel")+"</div>"),this.OkBtn=$("<div class='yy-checklist-btn yy-checklist-okbtn'>"+e.getLanguageText("confirm")+"</div>"),n.append(this.CancelBtn).append(this.OkBtn),this.CancelBtn.bind("click",function(){i.cancel()}),this.OkBtn.bind("click",function(){i.OK()}),this.listWrapper=$("<div style='max-height:"+6.7*this.itemHeight+"px;' class='yy-cl-list-wrapper'></div>"),this.listWrapper.append(this.loadWrapper),this.pageview.$el.append(this.backCoverLayer),this.$el.append(n).append(this.listWrapper),this.labelKey=this.config.labelKey||"text",this.backCoverLayer.bind("click",function(){i.cancel()}),e.deviceInfo().isIOS?this.listWrapper.bind("singleTap",function(e){i.itemClick(e)}):this.listWrapper.bind("click",function(e){i.itemClick(e)});var o=this.config.comKey+"_selected";this.selectedMethod=this.pageview.plugin[o]};return e.extends(s,t),s.prototype.OK=function(){this.originalSelectedValue=e.copy(this.selectedValue),this.hide(),this.selectedMethod&&this.selectedMethod.call(this.pageview.plugin,this,{selectedValue:this.selectedValue})},s.prototype.cancel=function(){this.hide(),this.originalSelectedValue&&this.setItemSelected(this.originalSelectedValue,!0)},s.prototype._getPrimaryValue=function(e){var t="";if("string"==typeof this.primaryKey)t=e[this.primaryKey];else if(this.primaryKey instanceof Array){for(var i=[],s=0,a=this.primaryKey.length;s<a;s++)i.push(e[this.primaryKey[s]]);t=i.join("_")}else console.error("checklist控件primaryKey属性 错误的数据类型");return t},s.prototype.itemClick=function(e){var t=e.target.getAttribute("data-key");if(t){for(var i=null,s=0,a=this.items.length;s<a;s++)if(t==this.items[s].key){i=this.items[s];break}if(i){var n=this.selectedValue.indexOf(i.itemData);n>=0?this.selectedValue.splice(n,1):this.selectedValue.push(i.itemData),0!=this.selectedValue.length||this.canbeNull?this.OkBtn.removeClass("yy-disabled"):this.OkBtn.addClass("yy-disabled"),this.setItemSelected(this.selectedValue)}}},s.prototype.show=function(){this.$el.addClass("yy-checklist-show"),this.backCoverLayer.removeClass("displaynone"),this.init()},s.prototype.setItemSelected=function(t,i){for(var s=0,a=this.items.length;s<a;s++){var n=this.items[s];n.unSelected()}if(this.selectedValue=[],t.length>0)for(var o=0,r=t.length;o<r;o++)for(var l=this._getPrimaryValue(t[o]),s=0,a=this.items.length;s<a;s++){var n=this.items[s];n.key==l&&(n.selected(),this.OkBtn.removeClass("yy-disabled"),this.selectedValue.push(n.itemData))}i&&(this.originalSelectedValue=e.copy(this.selectedValue))},s.prototype.setSelectedValue=function(e){this.selectedValue=[],e instanceof Array||console.error("checklist setSelectedValue方法必须是数组"),this.items?this.setItemSelected(e,!0):this._midSelectedValue=e},s.prototype.createItems=function(e){this.dataSource=e,this.items=[],this.selectedValue=this.config.selectedValue||[],this.listWrapper.empty();for(var t=this.dataSource.length,s=0,a=t;s<a;s++){var n=this.dataSource[s],o=new i({itemData:n,parent:this});this.listWrapper.append(o.$el),this.items.push(o),t>1&&s!=t-1&&this.listWrapper.append("<div class='yy-checklist-line'></div>")}this._midSelectedValue&&(this.setItemSelected(this._midSelectedValue,!0),this._midSelectedValue=null),this.selectedValue.length>0?this.OkBtn.removeClass("yy-disabled"):this.OkBtn.addClass("yy-disabled"),this.setSelectedValue(this.config.selectedValue||[])},s.prototype.init=function(){var e=this;this.dataSource||(e.loadWrapper.removeClass("displaynone"),e.loadErrorWrapper&&e.loadErrorWrapper.addClass("displaynone"),e.OkBtn.addClass("yy-disabled"),this.loadData(function(t){e.OkBtn.removeClass("yy-disabled"),e.loadWrapper.addClass("displaynone"),e.loadErrorWrapper&&e.loadErrorWrapper.addClass("displaynone"),e.createItems(t)},function(){e.loadErrorWrapper||e.initLoadErrorDom(),e.loadErrorWrapper.removeClass("displaynone"),e.loadWrapper.addClass("displaynone")}))},s.prototype.loadData=function(e,t){if(this.dataSource)return void e(this.dataSource);var i=this.config.comKey+"_loaddata",s=this.pageview.plugin[i];s&&s.call(this.pageview.plugin,this,{success:e,error:t})},s.prototype.initLoadErrorDom=function(){var t=this,i=e.getRealWidth(11),s=e.getRealWidth(20);this.loadErrorWrapper=$("<div style='height:100px' class='yy-loadmore-wrapper displayflex jc-center ai-center flex-h'></div>");var a=$("<i style='font-size:"+s+"px' class='yy-icommon yy-loadmore-erroricon'></i>"),n=$("<span style='font-size:"+i+"px' class='yy-pull-meslabel'>"+e.getLanguageText("NetworkError")+"</span>"),o=$("<span style='font-size:"+i+"px' class='yy-loadmore-reload-babel'>"+e.getLanguageText("reLoading")+"</span>");o.bind("click",function(){t.init()}),this.loadErrorWrapper.append(a).append(n).append(o),this.listWrapper.append(this.loadErrorWrapper)},s.prototype.hide=function(){this.$el.removeClass("yy-checklist-show"),this.backCoverLayer.addClass("displaynone")},s}),define("../../components/conditionselector",["utils","base"],function(e,t){var i=function(e){var t=this;this.rootInstance=e.parent,this.index=e.index,this.item=e.item,this.$el=$("<div class='displayflex yy-cs-item'></div>"),this.titleDom=$("<span style='font-size:"+this.rootInstance.itemFontSize+"'>"+this.item+"</span>"),this.itemDom=$("<div></div>"),1===this.rootInstance.config.mode?(this.itemDom.append(this.titleDom).append("<i></i>"),this.itemDom.addClass("yy-conditionselector-approve"),this.$el.append(this.itemDom)):this.$el.append(this.titleDom).append("<i></i>"),this.$el.appendTo(this.rootInstance.$el),this.$el.bind("click",function(){t.rootInstance.itemClick(t)})};i.prototype={selected:function(){this.$el.addClass("yy-cs-item-selected")},unSelected:function(){this.$el.removeClass("yy-cs-item-selected")}};var s=function(e){var t=this;this.isMulti=e.isMulti,this.parent=e.parent,this.barItemInstance=e.barItemInstance,this.rootInstance=e.rootInstance,this.index=this.barItemInstance.index,this.data=e.itemData;var i="menu"+this.index+"LabelKey",s=this.rootInstance.config[i];s||alert("程序配置错误"+this.rootInstance.config.comKey+"未配置 :"+i);var a="yy-cs-selector-item";if(this.isMulti){var n="menu"+this.index+"Col",o=this.rootInstance.config[n];a="yy-cs-muselector-item",o&&2==(o=parseInt(o))&&(a="yy-cs-muselector-item yy-cs-muselector-item2")}this.$el=$("<div class='"+a+" bottom-half-line'><span class='yy-cs-selector-span' style='font-size:"+this.rootInstance.itemFontSize+"'>"+(this.data[s]||"")+"</span></div>"),this.$el.css({height:this.rootInstance.itemHeight,lineHeight:this.rootInstance.itemHeight}),this.$el.bind("click",function(){t.parent.itemClick(t)})};s.prototype={selected:function(){var e=this.isMulti?"yy-cs-muselector-item-selected":"yy-cs-selector-item-selected";this.$el.addClass(e)},unSelected:function(){var e=this.isMulti?"yy-cs-muselector-item-selected":"yy-cs-selector-item-selected";this.$el.removeClass(e)}};var a=function(e){var t=this;this.isMulti=e.isMulti,this.parent=e.parent,this.barItemInstance=e.barItemInstance,this.rootInstance=e.rootInstance,this.dropDownInstance=e.dropDownInstance,this.index=this.barItemInstance.index,this.data=e.itemData,this.listWrapper=$("<div class='displayflex yy-cs-multiselector2 flex-v' style='display: none;'></div>");var i="menu"+this.index+"LabelKey",s=this.rootInstance.config[i];s||alert("程序配置错误"+this.rootInstance.config.comKey+"未配置 :"+i);var n="yy-cs-selector-item";if(this.isMulti){var o="menu"+this.index+"Col",r=this.rootInstance.config[o];n="yy-cs-muselector-item3",r&&2==(r=parseInt(r))&&(n="yy-cs-muselector-item yy-cs-muselector-item3")}e.detail?this.$el=$("<div class='"+n+" bottom-half-line' style='height: 50px;!important;line-height: 50px;margin-left: 54px;padding-left: 0;overflow-y: none;'><span class='yy-cs-selector-span2' style='font-size:14px;float: left;'>"+e.itemData.title+"</span><span data-comname='checkbox_select_icon_s' class='checkbox_select_icon2 yy-checkbox yy-icommon' style='position: absolute;'></span></div>"):e.itemData.list&&0!==e.itemData.list.length?this.$el=$("<div class='"+n+" bottom-half-line' style='height: 50px;!important;'><span data-comname='checkbox_select_icon_s' class='checkbox_select_icon_s yy-checkbox yy-icommon checkbox_select_icon_js' ></span><span class='yy-cs-selector-span' style='font-size:14px;float: left;'>"+(this.data[s]||"")+"</span><span class='yy_arrow_icon arrow_icon'></span></div>"):this.$el=$("<div class='"+n+" bottom-half-line' style='height: 50px;!important;'><span data-comname='checkbox_select_icon_s' class='checkbox_select_icon_s yy-checkbox yy-icommon checkbox_select_icon_js' ></span><span class='yy-cs-selector-span' style='font-size:14px;float: left;'>"+(this.data[s]||"")+"</span></div>"),this.$el.css({height:"50px",lineHeight:"50px"}),this.$el.bind("click",function(e){if(!$(e.target).hasClass("checkbox_select_icon_js")&&"DIV"!==e.target.tagName&&t.data.list)return void($(e.target).hasClass("arrow_icon")?$(e.target).hasClass("yy_arrow_icon")?(t.listWrapper.show(),t.data.hasAppend||(t.data.list.forEach(function(e,i){var s=new a({rootInstance:t.rootInstance,barItemInstance:t.barItemInstance,dropDownInstance:t.dropDownInstance,parent:t,itemData:e,isMulti:!0,detail:!0});t.listWrapper.append(s.$el)}),t.$el.after(t.listWrapper),t.data.hasAppend=!0),$(e.target).removeClass("yy_arrow_icon").addClass("yy_arrow_icon_up")):(t.listWrapper.hide(),$(e.target).removeClass("yy_arrow_icon_up").addClass("yy_arrow_icon")):$(e.target).siblings(".arrow_icon").hasClass("yy_arrow_icon")?(t.listWrapper.show(),t.data.hasAppend||(t.data.list.forEach(function(e,i){var s=new a({rootInstance:t.rootInstance,barItemInstance:t.barItemInstance,dropDownInstance:t.dropDownInstance,parent:t,itemData:e,isMulti:!0,detail:!0});t.listWrapper.append(s.$el)}),t.$el.after(t.listWrapper),t.data.hasAppend=!0),$(e.target).siblings(".arrow_icon").removeClass("yy_arrow_icon").addClass("yy_arrow_icon_up")):(t.listWrapper.hide(),$(e.target).siblings(".arrow_icon").removeClass("yy_arrow_icon_up").addClass("yy_arrow_icon")));t.data.title?t.parent.parent.itemClick(t):t.parent.itemClick(t)})};a.prototype={selected:function(){var e=this.isMulti?"yy-cs-muselector-item2-selected":"yy-cs-selector-item2-selected";this.data.title&&(e=this.isMulti?"yy-cs-muselector-item3-selected":"yy-cs-selector-item3-selected"),this.$el.addClass(e)},unSelected:function(){var e=this.isMulti?"yy-cs-muselector-item2-selected":"yy-cs-selector-item2-selected";this.data.title&&(e=this.isMulti?"yy-cs-muselector-item3-selected":"yy-cs-selector-item3-selected"),this.$el.removeClass(e)}};var n=function(e){var t=this;this.parent=e.parent,this.index=e.index,this.title=e.title,this.rootInstance=e.rootInstance,this.$el=$("<div style='font-size:"+this.rootInstance.itemFontSize+"' class='displayflex yy-cs-selector-leftitem flex-h jc-start ai-center'>"+this.title+"</div>"),this.$el.css({height:this.rootInstance.itemHeight}),this.$el.bind("touchstart",function(){t.parent.leftItemClick(t)})};n.prototype={selected:function(){this.$el.addClass("yy-cs-selector-leftitem-selected")},unSelected:function(){this.$el.removeClass("yy-cs-selector-leftitem-selected")}};var o=function(t){this.$el=$("<div class='displayflex yy-cs-multiselector2 flex-v'></div>"),this.listWrapper=$("<div class='displayflex yy-cs-multiselector-list2 flex-h'></div>"),this.btnWrapper=$("<div class='displayflex yy-cs-multiselector-bottom flex-h'></div>"),this.btnWrapper.css({height:e.getRealHeight(40)+"px"});var i=this;this.rootInstance=t.rootInstance,this.barItemInstance=t.barItemInstance,this.dropDownInstance=t.dropDownInstance,this.index=this.barItemInstance.index,this.data=t.data,this.items=[],this.selectedItems=[];var a=this.rootInstance.config["menu"+this.index+"Style"];if(a){var n=a.maxHeight||a["max-height"];n&&this.listWrapper.css({maxHeight:n})}for(var o=0,r=this.data.length;o<r;o++){var l=this.data[o],p=new s({rootInstance:this.rootInstance,barItemInstance:this.barItemInstance,dropDownInstance:this.dropDownInstance,parent:this,itemData:l,isMulti:!0});this.items.push(p),this.listWrapper.append(p.$el)}var c=$("<div class='displayflex yy-cs-btn jc-center ai-center'>"+e.getLanguageText("reset")+"</div>"),h=$("<div class='displayflex yy-cs-btn yy-cs-ok-btn jc-center ai-center'>"+e.getLanguageText("confirm")+"</div>");this.btnWrapper.append(c).append(h),c.bind("click",function(){i.reset()}),this.$el.append(this.listWrapper).append(this.btnWrapper)};o.prototype={reset:function(){for(var e=0,t=this.selectedItems.length;e<t;e++)this.selectedItems[e].unSelected();this.selectedItems=[]},itemClick:function(e){var t=this.selectedItems.indexOf(e);t>=0?(e.unSelected(),this.selectedItems.splice(t,1)):(e.selected(),this.selectedItems.push(e))}};var r=function(t){this.$el=$("<div class='displayflex yy-cs-multiselector2 flex-v'></div>"),this.listWrapper=$("<div class='displayflex yy-cs-multiselector-list2 flex-h'></div>"),this.btnWrapper=$("<div class='displayflex yy-cs-multiselector-bottom flex-h' style='position: fixed;left: 0;right: 0;bottom: 0;margin-left: 20%;'></div>"),this.btnWrapper.css({height:e.getRealHeight(40)+"px"});var i=this;this.rootInstance=t.rootInstance,this.barItemInstance=t.barItemInstance,this.dropDownInstance=t.dropDownInstance,this.index=this.barItemInstance.index,this.data=t.data,this.items=[],this.selectedItems=[];var s=this.rootInstance.config["menu"+this.index+"Style"];if(s){var n=s.maxHeight||s["max-height"];n&&this.listWrapper.css({maxHeight:n})}for(var o=0,r=this.data.length;o<r;o++){var l=this.data[o],p=new a({rootInstance:this.rootInstance,barItemInstance:this.barItemInstance,dropDownInstance:this.dropDownInstance,parent:this,itemData:l,isMulti:!0});this.items.push(p),this.listWrapper.append(p.$el)}var c=$("<div class='displayflex yy-cs-btn jc-center ai-center' style='background-color: #BFEFFF ;color: #29B6F6;'>"+e.getLanguageText("reset")+"</div>"),h=$("<div class='displayflex yy-cs-btn yy-cs-ok-btn jc-center ai-center' style='color: #fff;background-color: #29B6F6'>"+e.getLanguageText("confirm")+"</div>");this.btnWrapper.append(c).append(h),c.bind("click",function(){i.reset()}),h.bind("click",function(){var t=i.rootInstance.config.comKey+"_menu"+i.index+"_itemClick",s=i.rootInstance.pageview.plugin[t],a="";i.curSelectedItem=[],i.selectedItems.forEach(function(e,t){i.curSelectedItem.push(e)}),i.showName="",i.curSelectedItem.forEach(function(e,t){i.showName+=e.data.title?e.data.title:e.data.name,e.data.name&&(a=e.data.name),t<i.curSelectedItem.length-1&&(i.showName+=",")}),0!==i.curSelectedItem.length?("全部类型"===a||"All Types"===a?i.barItemInstance.titleDom.html(a):i.barItemInstance.titleDom.html(e.getLanguageText("type")),i.barItemInstance.itemDom.css({border:"1px solid #29B6F6",color:"#29B6F6",background:"#fff"})):i.barItemInstance.itemDom.css({border:"none",color:"#262626",background:"#F7F7F7"}),s&&s.call(i.rootInstance.pageview.plugin,i)}),this.$el.append(this.listWrapper),$(this.dropDownInstance.DropDownWrapper.$innerWrapper[0]).css("background","#fff"),this.dropDownInstance.DropDownWrapper.$innerWrapper.css({marginLeft:"20%"}),this.rootInstance.dpdWrapper.$el.append(this.btnWrapper)};r.prototype={reset:function(){for(var e=0,t=this.selectedItems.length;e<t;e++)$(this.selectedItems[e].$el).find(".checkbox_select_icon_s,.checkbox_select_icon2").css("border-color","rgb(229,229,229)"),this.selectedItems[e].unSelected();this.selectedItems=[]},itemClick:function(e){var t=this.selectedItems.indexOf(e);if(t>=0)e.unSelected(),$(e.$el).find(".checkbox_select_icon_s,.checkbox_select_icon2").css("border-color","rgb(229,229,229)"),this.selectedItems.splice(t,1);else{if(e.data.name){for(var i=0,s=this.selectedItems.length;i<s;i++)$(this.selectedItems[i].$el).find(".checkbox_select_icon_s,.checkbox_select_icon2").css("border-color","rgb(229,229,229)"),this.selectedItems[i].unSelected();this.selectedItems=[]}else for(var a=0,n=this.selectedItems.length;a<n;a++)this.selectedItems[a].data.name&&($(this.selectedItems[a].$el).find(".checkbox_select_icon_s,.checkbox_select_icon2").css("border-color","rgb(229,229,229)"),this.selectedItems[a].unSelected(),this.selectedItems.splice(a,1));e.selected(),$(e.$el).find(".checkbox_select_icon_s,.checkbox_select_icon2").css("border-color","#29B6F6"),this.selectedItems.push(e)}}};var l=function(e){this.$el=$("<div class='displayflex yy-cs-selector flex-v'></div>");this.rootInstance=e.rootInstance,this.barItemInstance=e.barItemInstance,this.dropDownInstance=e.dropDownInstance,this.index=this.barItemInstance.index,this.data=e.data,this.items=[];var t=e.dropDownInstance.rootInstance.config["menu"+e.index+"selectedKey"],i=this.rootInstance.config["menu"+this.index+"Style"];if(i){var a=i.maxHeight||i["max-height"];a&&this.$el.css({maxHeight:a})}for(var n=0,o=this.data.length;n<o;n++){var r=this.data[n],l=new s({rootInstance:this.rootInstance,barItemInstance:this.barItemInstance,dropDownInstance:this.dropDownInstance,parent:this,itemData:r});void 0!==t&&t===n&&(l.selected(),this.curSelectedItem=l),this.items.push(l),this.$el.append(l.$el)}l.rootInstance.dpdWrapper.$innerWrapper.css({backgroundColor:"rgba(0,0,0,0.1)",marginLeft:"0"})};l.prototype={itemClick:function(e){var t=this.rootInstance.config.comKey+"_menu"+this.index+"_itemClick",i=this.rootInstance.pageview.plugin[t];this.curSelectedItem&&this.curSelectedItem.unSelected(),this.curSelectedItem=e,this.curSelectedItem.selected(),this.barItemInstance.titleDom.html(e.data.name),i&&i.call(this.rootInstance.pageview.plugin,this)}};var p=function(t){this.config=t,this.rootInstance=t.rootInstance,this.barItemInstance=t.barItemInstance,this.index=this.barItemInstance.index,this.dropDownInstance=t.dropDownInstance,this.$el=$("<div class='displayflex yy-cs-selector flex-h'></div>"),this.leftWrapper=$("<div class='displayflex yy-cs-selector-left flex-v'></div>"),this.rightWrapper=$("<div class='yy-cs-selector-right'></div>");var i=this.rootInstance.config["menu"+this.index+"Style"];if(i){var s=i.maxHeight||i["max-height"];s&&(this.$el.css({maxHeight:s}),this.rightWrapper.css({maxHeight:s}),this.leftWrapper.css({maxHeight:s}))}var a="menu"+t.index+"LeftStyle",n=t.rootInstance.config[a],o="menu"+t.index+"GroupKey";this.groupKey=t.rootInstance.config[o],this.groupKey||alert("程序配置错误"+this.rootInstance.config.comKey+"未配置 :"+o),n&&e.css(this.leftWrapper,n),this.leftItems=[],this.$el.append(this.leftWrapper).append(this.rightWrapper),this._processData(this.config.data),this.rightMenuWrapperDict={},this._initLeftLayout()};p.prototype={leftItemClick:function(e){this.curLeftSelectedItem&&this.curLeftSelectedItem.unSelected(),this.curLeftSelectedItem=e,e.selected(),this.showRightMenu()},itemClick:function(e){this.curSelectedItem&&this.curSelectedItem.unSelected(),this.curSelectedItem=e,this.curSelectedItem.selected()},showRightMenu:function(){var e=this.curLeftSelectedItem.index.toString(),t=this.rightMenuWrapperDict[e];t||(t=this._initRightMenuWrapper(parseInt(e)-1),this.rightMenuWrapperDict[e]=t),this.curRightMenuWrapper&&this.curRightMenuWrapper.addClass("displaynone"),this.curRightMenuWrapper=t,this.curRightMenuWrapper.removeClass("displaynone")},_initRightMenuWrapper:function(e){var t=$("<div class='displayflex flex-v yy-cs-selector-right-menuwrapper displaynone'></div>"),i=this.rightDataArrArr[e];if(i)for(var a=0,n=i.length;a<n;a++){var o=i[a],r=new s({rootInstance:this.rootInstance,barItemInstance:this.barItemInstance,dropDownInstance:this.dropDownInstance,parent:this,itemData:o});t.append(r.$el)}return this.rightWrapper.append(t),t},_initLeftLayout:function(){for(var e=["全部"].concat(this.leftDataArr),t=0,i=e.length;t<i;t++){var s=e[t],a=new n({rootInstance:this.rootInstance,barItemInstance:this.barItemInstance,dropDownInstance:this.dropDownInstance,parent:this,index:t,title:s});this.leftItems.push(a),this.leftWrapper.append(a.$el)}this.leftItemClick(this.leftItems[0])},_processData:function(e){this.leftDataArr=[],this.rightDataArrArr=[];for(var t=0,i=e.length;t<i;t++){var s=e[t],a=s[this.groupKey];if(!a){alert("程序配置错误"+this.rootInstance.config.comKey+" 数据源中 没有相关的分类字段:"+this.groupKey);break}var n=this.leftDataArr.indexOf(a);n<0&&(this.leftDataArr.push(a),n=this.leftDataArr.length-1,this.rightDataArrArr.push([]));var o=this.rightDataArrArr[n];o||(o=[],this.rightDataArrArr[n]=o),o.push(s)}}};var c=function(t){this.rootInstance=t.rootInstance,this.barItemInstance=t.barItemInstance,this.index=this.barItemInstance.index.toString(),this.DropDownWrapper=t.parent,this.hasInit=!1,this.isLoading=!1,this.$el=$("<div class='yy-cs-item-dropdown' style='min-height:100px;padding-bottom: 40px'></div>"),this.loadWrapper=$("<div class='yy-cs-loading-wrapper displayflex jc-center ai-center displaynone'><div class='preloader'></div></div>"),(t.parent.categoryPara||"全部类型"===t.barItemInstance.item||"All Types"===t.barItemInstance.item)&&(this.loadWrapper=$("<div class='yy-cs-loading-wrapper yy-cs-loading-wrapper2 displayflex jc-center ai-center displaynone' style=''><div class='preloader' style='position: absolute;left: 40%;top:30%'></div></div>")),this.$el.append(this.loadWrapper);var i=this.rootInstance.config["menu"+this.index+"Style"];i?e.css(this.$el,i):this.$el.css({height:"100px"}),this.DropDownWrapper.$innerWrapper.append(this.$el)};c.prototype={show:function(t){var i=this,s=t?e.processTransitionTanformStyle("transform .3s ease","translate3d(0,0,0)"):e.processTransitionTanformStyle("none","translate3d(0,0,0)");t?window.setTimeout(function(){i.$el.css(s)},0):this.$el.css(s),this.hasInit||this.isLoading||this.init()},initLoadErrorDom:function(){var e=this;this.loadErrorWrapper=this.rootInstance._createErrorDom(function(){e.init()}),this.$el.append(this.loadErrorWrapper)},init:function(){var e=this;this.isLoading||(this.isLoading=!0,this.loadWrapper.removeClass("displaynone"),e.loadErrorWrapper&&e.loadErrorWrapper.addClass("displaynone"),this.loadData(function(t){e.loadWrapper.addClass("displaynone"),e.dataSource=t,e.isLoading=!1,e.initLayout(e.dataSource)},function(t){e.loadErrorWrapper||e.initLoadErrorDom(),e.loadWrapper.addClass("displaynone"),e.loadErrorWrapper.removeClass("displaynone"),e.isLoading=!1}))},initLayout:function(e){var t="menu"+this.index+"Mode",i=this.rootInstance.config[t]||"single";"全部类型"!==this.barItemInstance.item&&"All Types"!==this.barItemInstance.item||(i="mix");var s={data:e,index:this.index,rootInstance:this.rootInstance,dropDownInstance:this,barItemInstance:this.barItemInstance};this.selector="single"==i?new l(s):"group"==i?new p(s):"multi"==i?new o(s):"mix"==i?new r(s):new l(s),this.$el.append(this.selector.$el),this.hasInit=!0},loadData:function(e,t){if(this.dataSource)return void e(this.dataSource);var i=this.rootInstance.config.comKey+"_menu"+this.index+"_loaddata",s=this.rootInstance.pageview.plugin[i];s&&s.call(this.rootInstance.pageview.plugin,this,{success:e,error:t})},hide:function(t){var i=t?e.processTransitionTanformStyle("transform .3s ease","translate3d(0,-100%,0)"):e.processTransitionTanformStyle("none","translate3d(0,-100%,0)");this.$el.css(i)}};var h=function(e){var t=this;this.parent=e.parent,this.isShow=!1,this.DropDowns={},this.$el=$("<div class='yy-cs-dropdown' style='background-color: rgba(0,0,0,0.5);!important;'></div>"),this.curDropDown=null,e.parent.categoryPara?(this.categoryPara=e.parent.categoryPara,this.$innerWrapper=$("<div class='yy-cs-dropdown-inner' style='margin-left: 20%'></div>")):this.$innerWrapper=$("<div class='yy-cs-dropdown-inner'></div>"),this.$el.append(this.$innerWrapper),this.$innerWrapper.bind("click",function(e){t._hideSelf(e)}),this.$el.bind("click",function(e){t._hideSelf(e)}),this.parent.pageview.$el.closest(".yy-root-view").children(".yy-pageview:last-child").append(this.$el)};h.prototype={_hideSelf:function(e){"yy-cs-dropdown-inner"==e.target.className&&this.hide(),"yy-cs-dropdown"==e.target.className&&this.hide()},show:function(e){if(!this.isShow){var t=this.parent.$el[0].getBoundingClientRect(),i={top:t.bottom,left:0,bottom:0,right:0,display:"block"};this.$el.css(i),this.isShow=!0}var s=e.index.toString(),a=this.DropDowns[s];a||(a=new c({parent:this,rootInstance:this.parent,barItemInstance:e}),this.DropDowns[s]=a),this.curDropDown?this.curDropDown===a?(this.curDropDown.barItemInstance.unSelected(),this.curDropDown.hide(!0),this.curDropDown=null,this.hide()):(this.curDropDown.hide(!1),this.curDropDown.barItemInstance.unSelected(),this.curDropDown=a,this.curDropDown.show(!1),this.curDropDown.barItemInstance.selected()):(this.curDropDown=a,this.curDropDown.barItemInstance.selected(),this.curDropDown.show(!0))},hide:function(){var e=this;this.isShow&&(this.isShow=!1,this.curDropDown&&(this.curDropDown.barItemInstance.unSelected(),this.curDropDown.hide(!0)),this.curDropDown=null,window.setTimeout(function(){e.$el.css({display:"none"})},300))}};var d=function(t){d.baseConstructor.call(this,t),this.itemHeight=t.itemHeight||e.getRealHeight(40)+"px",this.itemFontSize=t.itemFontSize||e.getRealWidth(12)+"px",this.$el.addClass("displayflex yy-condition-selector flex-h"),this.items=t.items||["全部"],this.initBarItem()};return e.extends(d,t),d.prototype.hideDropDown=function(){void 0!==this.dpdWrapper&&this.dpdWrapper.hide()},d.prototype.showDropDown=function(e){"全部类型"!==e.item&&"All Types"!==e.item||(this.categoryPara=!0),this.dpdWrapper||(this.dpdWrapper=new h({parent:this})),this.dpdWrapper.show(e)},d.prototype.itemClick=function(e){e.rootInstance.dpdWrapper&&e.rootInstance.dpdWrapper.$innerWrapper&&("全部类型"===e.item||"All Types"===e.item?(this.dpdWrapper.isShow?"全部类型"===e.$el.find("span").text()||"All Types"===e.$el.find("span").text()?e.itemDom.css({border:"none",color:"#262626",background:"#F7F7F7"}):e.itemDom.css({border:"1px solid #29B6F6",color:"#29B6F6",background:"#fff"}):e.itemDom.css({border:"solid 1px #eee",color:"#262626",background:"#fff"}),$(e.rootInstance.dpdWrapper.$el[0]).find(".yy-cs-multiselector-bottom").show(),e.rootInstance.dpdWrapper.$innerWrapper.css({background:"#fff",marginLeft:"20%"})):($(e.rootInstance.dpdWrapper.$el[0]).find(".yy-cs-multiselector-bottom").css("display","none"),e.rootInstance.dpdWrapper.$innerWrapper.css({backgroundColor:"rgba(0,0,0,0.1)",marginLeft:"0"}))),this.showDropDown(e)},d.prototype.initBarItem=function(){for(var e=(this.config.barItemStyle,0),t=this.items.length;e<t;e++){new i({parent:this,item:this.items[e],index:e})}},d}),define("../../components/dialog",["utils","base"],function(e,t){var i=function(t){var i=this,s=t.wrapper||$(document.body),a=t.mode||1,n=t.className;this.dialogBackCover=$("<div style='visibility: hidden;' class='yy-dialog-bk'></div>"),this.dialogWrapper=$("<div class='yy-dialog-wrapper yy-dialog-effect-"+a+" yy-dialog-hide + "+n+"'></div>");var o=$("<div class='yy-dialog-inner'></div>"),r=$("<div class='yy-dialog-body'></div>"),l="row"===t.btnDirection?"yy-fd-row":"yy-fd-column",p=$("<div class='yy-dialog-btn-wrapper displayflex "+l+"'></div>");this.dialogBackCover.bind("click",function(){i.hide()});var c=t.title||"";this.titleDom=$("<div class='yy-dialog-title'>"+c+"</div>"),this.bodyContentDom=$("<div class='yy-dialog-content'></div>");var h=t.createContent;if(h)h(this.bodyContentDom);else{var d=t.contentText;this.contentTextDom=$("<div class='yy-dialog-content-text'>"+d+"</div>"),this.bodyContentDom.append(this.contentTextDom)}if(r.append(this.titleDom).append(this.bodyContentDom),t.buttons)for(var u=0,g=t.buttons.length;u<g;u++){var f=t.buttons[u],c=f.title||e.getLanguageText("button"),y=f.style,m=f.onClick;!function(t,i,s,a,n){var o=$("<div class='yy-dialog-btn yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+t+"</div>");i&&e.css(o,i),a&&o.bind("click",function(e){a()}),s.append(o)}(c,y,p,m)}o.append(r).append(p),this.dialogWrapper.append(o),s.append(this.dialogWrapper).append(this.dialogBackCover)};return i.prototype.show=function(){var e=this;this.dialogWrapper.css({visibility:"visible"}),this.dialogBackCover.css({visibility:"visible"}),this.dialogBackCover.addClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.removeClass("yy-dialog-hide").addClass("yy-dialog-show")},1)},i.prototype.hide=function(){var e=this;this.dialogWrapper.removeClass("yy-dialog-show").addClass("yy-dialog-hide"),this.dialogBackCover.removeClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.css({visibility:"hidden"}),e.dialogBackCover.css({visibility:"hidden"})},200)},i}),define("../../components/filetypeselect",["utils","base"],function(e,t){var i=function(e){var t=this,i=e.wrapper||$(document.body),s=e.mode||1,a=e.className;this.dialogBackCover=$("<div style='visibility: hidden;' class='yy-dialog-bk'></div>"),this.dialogWrapper=$("<div class='yy-dialog-wrapper yy-dialog-effect-"+s+" yy-dialog-hide + "+a+"'></div>");var n=$("<div class='yy-dialog-inner'></div>"),o=$("<div class='yy-dialog-body'></div>");this.dialogBackCover.bind("click",function(){t.hide()}),this.bodyContentDom=$("<div class=''></div>");var r=e.createContent;if(r)r(this.bodyContentDom);else{e.contentText.forEach(function(e,i){"files"===e.type&&(t.filesTpye=$("<div class='yy-select-file-type-content-text'>"+e.text+"</div>"),e.onClick&&t.filesTpye.bind("click",function(i){e.onClick(e),t.hide()}),t.bodyContentDom.append(t.filesTpye)),"photo"===e.type&&(t.photoTpye=$("<div class='yy-select-file-type-content-text'>"+e.text+"</div>"),
e.onClick&&t.photoTpye.bind("click",function(i){e.onClick(e),t.hide()}),t.bodyContentDom.append(t.photoTpye)),"video"===e.type&&(t.videoTpye=$("<div class='yy-select-file-type-content-text'>"+e.text+"</div>"),e.onClick&&t.videoTpye.bind("click",function(i){e.onClick(e),t.hide()}),t.bodyContentDom.append(t.videoTpye)),"pic"===e.type&&(t.picTpye=$("<div class='yy-select-file-type-content-text'>"+e.text+"</div>"),e.onClick&&t.picTpye.bind("click",function(i){e.onClick(e),t.hide()}),t.bodyContentDom.append(t.picTpye))})}o.append(this.bodyContentDom),n.append(o),this.dialogWrapper.append(n),i.append(this.dialogWrapper).append(this.dialogBackCover)};return i.prototype.show=function(){var e=this;this.dialogWrapper.css({visibility:"visible"}),this.dialogBackCover.css({visibility:"visible"}),this.dialogBackCover.addClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.removeClass("yy-dialog-hide").addClass("yy-dialog-show")},1)},i.prototype.hide=function(){var e=this;this.dialogWrapper.removeClass("yy-dialog-show").addClass("yy-dialog-hide"),this.dialogBackCover.removeClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.css({visibility:"hidden"}),e.dialogBackCover.css({visibility:"hidden"})},200)},i}),define("../../components/icon",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t),this.$el.addClass("displayflex yy-icon yy-ai-center yy-jc-center");var a=this.config.font||"",n=a.split("_");this.text=this.config.text;var o=(this.config.style,this.config.iconStyle),r=this.config.iconClassName,l=this.config.textStyle,p=this.config.textPos||"right";this.iconDom=null,this.textDom=null,this.title=this.config.title||"";var c,h;if(2==n.length&&(c=n[0],h=n[1],e.css(this.$el,{fontFamily:c}),this.iconDom=$('<i class="yy-icon-code" data-code="'+h+'" data-icon="&#x'+h+';"></i>'),o&&e.css(this.iconDom,o),r&&this.iconDom.addClass(r)),null!==this.config.src&&void 0!==this.config.src){var d="",u=new Image;this.iconDom=$('<div class="yy-icon-img"></div>'),o&&e.css(this.iconDom,o),r&&this.iconDom.addClass(r),u.onerror=function(){var i=s.config.comKey+"_error",a=s.pageview.plugin[i];if(s.title.length>0){var n=e.getImgTitle(s.title);return s.iconDom.html(n),s.iconDom.addClass("displayflex yy-ai-center yy-jc-center"),s.iconDom.css({color:"#fff",fontSize:e.fontSize(13),backgroundColor:e.getImgBg(n)}),void(a&&a.call(s.pageview.plugin,s,{}))}if(t.defaultSrc){if(d===t.defaultSrc)return void s.img.classList.add("displaynone");d=t.defaultSrc,u.src=t.defaultSrc,a&&a.call(s.pageview.plugin,s,{})}},u.src=this.config.src,this.iconDom.append(u)}(this.text||0==this.text)&&(this.text=null===this.text||void 0===this.text?"":this.text,this.textDom=$("<span class='yy-icon-text yy-text-box'>"+this.text+"</span>"),this.config.numberofline&&(this.textDom[0].style["-webkit-line-clamp"]=this.config.numberofline),l&&e.css(this.textDom,l)),"left"==p||"top"==p?(this.textDom&&this.$el.append(this.textDom),this.iconDom&&this.$el.append(this.iconDom)):(this.iconDom&&this.$el.append(this.iconDom),this.textDom&&this.$el.append(this.textDom)),this.iconDom&&("left"==p||"right"==p?this.$el.addClass("flex-h"):this.$el.addClass("flex-v"));var g=t.comKey+"_change",f=s.pageview.plugin[g];f&&this.textDom.bind("change",function(e){!s.disabled&&f&&f.call(s.pageview.plugin,s,{e:e})}),this.originalStatus={font:a,text:this.config.text}};return e.extends(i,t),i.prototype.changeStatus=function(t){var i=this.originalStatus;if(t&&""!==t&&this.config.status&&(i=this.config.status[t]||this.originalStatus),this.status=t,i.font){var s=i.font.split("_");if(2!=s.length)return;var a=s[0],n=s[1],o=$('<i class="yy-icon-code" data-code="'+n+'" data-icon="&#x'+n+';"></i>');e.css(o,{fontFamily:a}),this.iconDom.replaceWith(o),this.iconDom=o,this.config.iconStyle&&e.css(this.iconDom,this.config.iconStyle)}var r=i.text||"";this.setText(r)},i.prototype.setIcon=function(t,i){var s=t.split("_");if(2==s.length){var a=s[0],n=s[1],o=$('<i class="yy-icon-code" data-code="'+n+'" data-icon="&#x'+n+';"></i>');if(e.css(o,{fontFamily:a}),this.iconDom.replaceWith(o),this.iconDom=o,this.config.iconStyle){var r=e.clone(this.config.iconStyle);if(i)for(var l in i)r[l]=i[l];e.css(this.iconDom,r)}}},i.prototype.setText=function(e){this.text=e,this.textDom.html(e)},i.prototype.getText=function(e){return this.text},i.prototype.setAttribute=function(e,t){this.$el.attr(e,t),this.textDom&&this.textDom.attr(e,t),this.iconDom&&this.iconDom.attr(e,t)},i}),define("../../components/image",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t),s.config.style=s.config.style||{};this.src=t.src||t.defaultSrc,this.title=this.config.title||"",this.width=this.config.style.width;try{this.width=parseInt(width)}catch(e){this.width=null}this.height=this.config.style.height;try{this.height=parseInt(height)}catch(e){this.height=null}this.img=new Image;var a="";this.img.onload=function(){var t={};if(s.height&&s.width){var i=e.getPicSize(s.width,s.height,s.img.width,s.img.height);t.width=i.w,t.height=i.h}else t.height="100%",t.width="100%";s.config.style.borderRadius&&(t.borderRadius=s.config.style.borderRadius),e.css($(s.img),t)},this.img.onerror=function(){var i=s.config.comKey+"_error",n=s.pageview.plugin[i];if(n&&n.call(s.pageview.plugin,s,{}),s.title.length>0){var o=e.getImgTitle(s.title);return s.$el.html(o),void s.$el.css({color:"#fff",fontSize:e.fontSize(s.config.style.fontSize||13),backgroundColor:e.getImgBg(o)})}if(t.defaultSrc){if(a===t.defaultSrc)return void s.img.classList.add("displaynone");a=t.defaultSrc,s.img.src=t.defaultSrc}},this.src=this.src||"",this.img.src=this.src,s.$el.append(s.img),this.$el.addClass("yy-image displayflex yy-jc-center yy-ai-center")};return e.extends(i,t),i.prototype.setSrc=function(e){this.$el.find("img").length>0?this.$el.find("img").attr("src",e):(this.img.src=e,this.$el.html(this.img))},i.prototype.setTitle=function(t){var i=this,s=e.getImgTitle(t);this.$el.html(s),this.$el.css({color:"#fff",fontSize:e.fontSize(i.config.style.fontSize||13),backgroundColor:e.getImgBg(s)})},i}),define("../../components/input",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t),this.config.style=this.config.style||{},this.$el.addClass("displayflex yy-input flex-h");var a=this.config.mode||"text",n=this.config.placeholder||"",o=t.isInForm,r="number"===a?"text":a;this.input=$("<input class='yy-flex-1' placeholder='"+n+"' type='"+r+"' />");var l={fontSize:this.config.style.fontSize||"13px",color:this.config.style.color||"#262626",textAlign:this.config.style.textAlign||"left"};(this.config.value||0===this.config.value)&&this.input.val(this.config.value),e.css(this.input,l),this.config.disabled&&this.setDisabled(!0),!0===o?(this.Form=$("<form action=''></form>"),this.Form.bind("submit",function(e){var i=t.comKey+"_formsubmit",a=s.pageview.plugin[i];return a&&!s.disabled&&a&&a.call(s.pageview.plugin,s,{e:e}),e.preventDefault(),!1}),this.Form.append(this.input),this.$el.append(this.Form)):this.$el.append(this.input);var p=t.comKey+"_compositionend",c=s.pageview.plugin[p];c&&this.$el.on("input",function(e){s.$el.prop("comStart")||!s.disabled&&c&&c.call(s.pageview.plugin,s,{e:e})}).on("compositionstart",function(){s.$el.prop("comStart",!0)}).on("compositionend",function(e){s.$el.prop("comStart",!1),!s.disabled&&c&&c.call(s.pageview.plugin,s,{e:e})});var h=t.comKey+"_compositionstart",d=s.pageview.plugin[h];d&&this.input.bind("compositionstart",function(e){!s.disabled&&d&&d.call(s.pageview.plugin,s,{e:e})});var u=t.comKey+"_keydown",g=s.pageview.plugin[u];"number"===a&&(this.$el.on("input",function(e){var t=s.input.val();if(190===e.keyCode&&t.indexOf(".")>=0)return e.stopPropagation(),e.preventDefault(),void(e.returnValue=!1)}),this.$el.bind("keydown",function(e){var t=s.input.val();return 190===e.keyCode&&t.indexOf(".")>=0?(e.stopPropagation(),e.preventDefault(),void(e.returnValue=!1)):189==e.keyCode||190==e.keyCode||46==e.keyCode||8==e.keyCode||37==e.keyCode||39==e.keyCode||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105?void(!s.disabled&&g&&g.call(s.pageview.plugin,s,{e:e})):(e.stopPropagation(),e.preventDefault(),void(e.returnValue=!1))}),this.input.on("compositionstart",function(e){var t=s.input.val();isNaN(t)&&(t=t.replace(/[^0-9\.]/g,""),s.setValue(t))}),this.input.on("compositionend",function(e){var t=s.input.val();isNaN(t)&&(t=t.replace(/[^0-9\.]/g,""),s.setValue(t))})),g&&"number"!==a&&this.$el.bind("keydown",function(e){!s.disabled&&g&&g.call(s.pageview.plugin,s,{e:e})});var f=t.comKey+"_keyup",y=s.pageview.plugin[f];y&&this.$el.bind("keyup",function(e){!s.disabled&&y&&y.call(s.pageview.plugin,s,{e:e})});var m=t.comKey+"_focus",v=s.pageview.plugin[m];v&&this.input.bind("focus",function(e){!s.disabled&&v&&v.call(s.pageview.plugin,s,{e:e})});var w=t.comKey+"_blur",x=s.pageview.plugin[w];x&&this.input.bind("blur",function(e){!s.disabled&&x&&x.call(s.pageview.plugin,s,{e:e})});var b=t.comKey+"_input",C=s.pageview.plugin[b];C&&this.input.bind("input",function(e){!s.disabled&&C&&C.call(s.pageview.plugin,s,{e:e})});var S=t.comKey+"_change",I=s.pageview.plugin[S];I&&this.input.bind("change",function(e){!s.disabled&&I&&I.call(s.pageview.plugin,s,{e:e})})};return e.extends(i,t),i.prototype.getValue=function(){var e=$.trim(this.input.val());return"number"===this.config.mode?(e=$.trim(this.input.val()),e=e||""):e=this.input.val(),"number"!==this.config.mode?(e=e.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]|[\uD800-\uDBFF]|[\uDC00-\uDFFF]/g,""),this.setValue(e),e):$.trim(e)},i.prototype.setValue=function(e){this.input.val(e)},i.prototype.setDisabled=function(e){this.disabled=e,this.disabled?(this.input.attr("disabled","disabled"),this.$el.addClass(this.disabledClassName)):(this.input.removeAttr("disabled"),this.$el.removeClass(this.disabledClassName))},i.prototype.focus=function(e){this.input.focus()},i.prototype.blur=function(){this.input.blur()},i}),define("../../components/listview",["utils","base"],function(e,t){var i=function(t){var s=this;t.style&&(t.style.flexDirection||t.style["flex-direction"]||(t.style.flexDirection="column",t.style.webkitFlexDirection="column")),t.noNeedSetStyle=!0,i.baseConstructor.call(this,t),this.parent.rowMarkSeed||(this.parent.rowMarkSeed=0),this.listview=t.listview,this.parent.rowMarkSeed+=1,this.rowindex=this.parent.rowMarkSeed,this.rowMark="row"+this.rowindex,this.contentWrapper=$("<div class='displayflex yy-row-content'></div>"),e.css(this.contentWrapper,t.style),this.SwipeDomWrapper=null,this.$$childrenWrapper=this.contentWrapper,this.$el.addClass("yy-listrow"),t.itemClassName&&this.$el.addClass(t.itemClassName),this.defaultSwipIconWidth=e.getRealWidth(70),this.$el.attr("row-mark",this.rowMark),this.selectedMode=t.listview.selectedMode||"m",this.contentWrapper.appendTo(this.$el),this.initLayout(t.$$datasource,null,this),this.$el.bind("click",function(e){if("edit"===s.config.listview.status)return void s.select();if(s.pageview.plugin){var t=s.config.listview.config.comKey+"_rowclick",i=s.pageview.plugin[t];i&&i.call(s.pageview.plugin,s,{e:e})}});var a=s.config.listview.config.comKey+"_getrowswipeicons";this.pliginInitSwipeIconMethod=s.pageview.plugin[a];var n=this.config.listview.config.comKey+"_selectChange";this.selectChangeMethod=this.pageview.plugin[n]};e.extends(i,t),i.prototype.select=function(){if("m"===this.selectedMode){var e=this.config.listview.selectedRows.indexOf(this);e>=0?(this.config.listview.selectedRows.splice(e,1),this.unSelected()):(this.config.listview.selectedRows.push(this),this.selected())}else{var t=this.config.listview.selectedRows[0];t&&t.unSelected(),this.config.listview.selectedRows[0]=this,this.selected()}this.selectChangeMethod&&this.selectChangeMethod.call(this.pageview.plugin,this.config.listview,{})},i.prototype.rebind=function(e){this.contentWrapper.empty(),this.datasource=e,this.initLayout(e,null,this)},i.prototype.render=function(){},i.prototype.initSwipeDom=function(){var e=this,t=this.parent.config.rowSwipeIcons;this.pliginInitSwipeIconMethod&&(t=this.pliginInitSwipeIconMethod.call(e.pageview.plugin,e,{})),this.SwipeDomWrapper||(this.SwipeDomWrapper=$("<div class='yy-row-swipwrapper displayflex flex-h'></div>"),this.SwipeDomWrapper.appendTo(this.$el),this.recreateSwipe(t))},i.prototype.recreateSwipe=function(e){var t=this;if(this.SwipeDomWrapper.empty(),!e||0==e.length)return void(this.SwipeIconsSumWidth=0);this.SwipeIconsSumWidth=0;for(var i=0,s=e.length;i<s;i++){var a=e[i],n=this.pageview.config.components[a];n.style=n.style||{};var o=n.style.width||this.defaultSwipIconWidth;o=parseInt(o),this.SwipeIconsSumWidth+=o,n.style.width=o+"px",n.style.height="100%",this.getComponentInstanceByComKey(a,this.datasource,this,function(e){e.setAttribute&&e.setAttribute("data-swipeicon","1"),t.SwipeDomWrapper.append(e.$el)},function(){})}},i.prototype.remove=function(){this.delete(!0)},i.prototype.delete=function(e){var t=this,i=this.parent.rows.indexOf(this);i>=0&&this.parent.rows.splice(i,1);var s=this.listview.selectedRows.indexOf(this);if(s>=0&&this.listview.selectedRows.splice(s,1),e)return t.$el.remove(),void(t.config.listview.isGroupList&&0==t.parent.rows.length&&t.parent.remove());this.$el.css({height:this.$el.height()+1+"px"}),window.setTimeout(function(){t.$el.css({transition:"height .12s linear","-webkit-transition":"height .12s linear",height:"0px"})},40),window.setTimeout(function(){t.$el.remove(),t.config.listview.isGroupList&&0==t.parent.rows.length&&t.parent.remove()},345)},i.prototype.swipeToLeft=function(t){this.contentWrapper.css(e.processTransitionTanformStyle("none","translate3d("+t+"px,0,0)"))},i.prototype.closeSwipe=function(){this.contentWrapper.css(e.processTransitionTanformStyle("transform .2s ease","translate3d(0,0,0)"))},i.prototype.setSwipeOpenPos=function(){this.contentWrapper.css(e.processTransitionTanformStyle("transform .2s ease","translate3d(-"+this.SwipeIconsSumWidth+"px,0,0)"))};var s=function(e){var t=this;s.baseConstructor.call(this,e);var i=e.isCanCollapse,a="yy-sticky displayflex";!0===i&&(this.isCollapse=!1,a+=" yy-icommon yy-listgroup-colheader",this.$el.bind("click",function(){t.isCollapse?(t.parent.expand(),t.isCollapse=!1,t.$el.removeClass("yy-listgroup-header-collapse")):(t.isCollapse=!0,t.parent.collapse(),t.$el.addClass("yy-listgroup-header-collapse"))})),this.$el.addClass(a),this.initLayout(e.$$datasource,null,this)};e.extends(s,t);var a=function(e){a.baseConstructor.call(this,e);var t=this.parent.config.isCanCollapse;this.$el.attr("data-gval",e.groupValue);var i=$("<div class='yy-listgroup-body'></div>");this.groupBodyInner=$("<div class='yy-listgroup-body-inner'></div>"),i.append(this.groupBodyInner),this.groupHeader=new s({$$datasource:e.groupHeaderData,type:"listgroupheader",isCanCollapse:t,root:this.config.rootConfig.groupHeader,style:this.config.rootConfig.groupHeaderStyle,$$pageview:this.pageview,groupValue:e.groupValue,$$parent:this}),this.display="block",this.groupValue=e.groupValue,this.$el.append(this.groupHeader.$el).append(i),this.rows=[]};e.extends(a,t),a.prototype.expand=function(){this.groupBodyInner.removeClass("displaynone")},a.prototype.collapse=function(){this.groupBodyInner.addClass("displaynone")},a.prototype.insertRow=function(e,t){this.show();var i=this.rows[t];return i?(e.$el.insertBefore(i.$el),this.rows.splice(t,0,e)):(this.rows.push(e),this.groupBodyInner.append(e.$el)),e},a.prototype.append=function(e){this.show(),this.groupBodyInner.append(e)},a.prototype.show=function(){"block"!=this.display&&"none"==this.display&&(this.$el.removeClass("displaynone"),this.display="block")},a.prototype.remove=function(e){this.parent.groups[this.groupValue]&&delete this.parent.groups[this.groupValue],e&&this.$el.remove(),this.display="none",this.$el.addClass("displaynone")};var n=function(t){t.style||(t.style={}),t.style.flexDirection||t.style["flex-direction"]||(t.style.flexDirection="column"),this.config=t,this.ajaxConfig=t.ajaxConfig,n.baseConstructor.call(this,t),this.ajaxConfig=this.ajaxConfig||t.ajaxConfig,this.initAjaxConfig(this.ajaxConfig),this.groupKey=this.config.groupKey,this.isGroupList=null!=this.groupKey,this.groups={},this.autoLoadData=t.autoLoadData||!1,this.$el.addClass("displayflex yy-listview"),this.selectedMode=t.selectedMode,this.swipeOffsetX=e.getRealWidth(25),this.selectedRows=[],this.rows=[],this.canOpenOffsetRight=e.getRealWidth(70),this.splitStyle=t.splitStyle,this.showBlockClassNameDict={};var i=this.config.comKey+"_parsedata";this.pluginParseDataMethod=this.pageview.plugin[i];var s=this.config.comKey+"_beforeload";this.pluginBeforeLoadDataMethod=this.pageview.plugin[s];var a=this.config.comKey+"_afterload";this.pluginAfterLoadDataMethod=this.pageview.plugin[a];var o=this.config.comKey+"_demo演示";this.DemoMethod=this.pageview.plugin[o],this.init()};return e.extends(n,t),n.prototype.setLeftOpen=function(){if("edit"===this.status)return void this.setLeftClose();this.status="edit",this.$el.addClass(this.showBlockClassNameDict.left)},n.prototype.setLeftRightOpen=function(){if("edit"===this.status)return void this.setLeftRightClose();this.status="edit",this.$el.addClass((this.showBlockClassNameDict.left||"")+" "+(this.showBlockClassNameDict.right||""))},n.prototype.setLeftRightClose=function(){this.status="",this.$el.removeClass((this.showBlockClassNameDict.left||"")+" "+(this.showBlockClassNameDict.right||""))},n.prototype.setLeftClose=function(){this.status="",this.$el.removeClass(this.showBlockClassNameDict.left)},n.prototype.setRightOpen=function(){if("edit"===this.status)return void this.setRightClose();this.status="edit",this.$el.addClass(this.showBlockClassNameDict.right)},n.prototype.setRightClose=function(){this.status="",this.$el.removeClass(this.showBlockClassNameDict.right)},n.prototype.initLeftRightBlock=function(){this.initBlock(this.config.leftBlock,"left"),this.initBlock(this.config.rightBlock,"right")},n.prototype.initBlock=function(t,i){if(t){t.key&&t.width||console.error("listview 的"+i+"Block配置需要包括key和widt属性");try{t.width=parseInt(t.width)}catch(e){}isNaN(t.width)&&console.error("listview 的"+i+"Block的widt属性必须为数值"),t.width=e.getRealWidth(t.width);var s=this.getUniqueKey()+i;this.$el.addClass(s),this.showBlockClassNameDict||(this.showBlockClassNameDict={}),this.showBlockClassNameDict[i]=s+"_show"+i,e.createStyleSheet(s,"."+t.key+" {transition:width .12s ease;-webkit-transition:width .12s ease;} ."+this.showBlockClassNameDict[i]+" ."+t.key+" {width:"+t.width+"px !important;}")}},n.prototype.init=function(){var e=this;this.config.nodata&&this.getComponentInstanceByComKey(this.config.nodata,null,null,function(t){e.$el.append(t.$el),t.$el.addClass("displaynone"),e.noDataDom=t},function(){}),this.initEvent(),this.initLeftRightBlock(),this.autoLoadData&&window.setTimeout(function(){e.parent&&e.parent.setCanLoadMore&&e.parent.setPullLoadingState(),e.loadFirstPageData()},430)},n.prototype.getTargetRow=function(e){for(var t=e.target;"yy-listrow"!=t.className&&"yy-listview"!=t.className&&"BODY"!=t.tagName;)t=t.parentNode;var i=t.getAttribute("row-mark"),s=null;if(i)for(var a=0,n=this.rows.length;a<n;a++){var o=this.rows[a];if(o.rowMark===i){s=o;break}}return s},n.prototype.initEvent=function(){var t=this;this.curSwipRow=null;var i=e.getRealWidth(280);if(this.config.rowSwipeIcons){var s,a,n,o=!1;this.$el.bind("touchstart",function(a){if("edit"!==t.status){var r=a.touches[0];"1"!==a.target.getAttribute("data-swipeicon")?(t.curSwipRow&&t.curSwipRow.closeSwipe(),s=r.pageX,n=r.pageY,(o=e.viewport.width-s<i)&&(t.curSwipRow=t.getTargetRow(a),t.curSwipRow&&t.curSwipRow.initSwipeDom())):o=!1}}),this.$el.bind("touchmove",function(e){if("edit"!==t.status){if(!o||!t.curSwipRow||0==t.curSwipRow.SwipeIconsSumWidth)return void(o=!1);var i=e.touches[0],r=i.pageX;a=r-s;var l=Math.abs(a),p=n-i.pageY;if(Math.abs(p)>30&&l>0)return void(a=10);a<-10&&(l>10&&(e.preventDefault(),e.stopPropagation()),a=l>t.curSwipRow.SwipeIconsSumWidth+t.swipeOffsetX?0-t.curSwipRow.SwipeIconsSumWidth-t.swipeOffsetX:a,t.curSwipRow.swipeToLeft(a))}}),this.$el.bind("touchend",function(){if("edit"!==t.status){if(!o||a>=0)return void(a=0);o=!1,Math.abs(a)>t.canOpenOffsetRight?t.curSwipRow&&t.curSwipRow.setSwipeOpenPos():0!=a&&t.curSwipRow&&t.curSwipRow.closeSwipe(),a=0}})}},n.prototype.getRowCount=function(){if(this.isGroupList){var e=0;return this.eachRow(function(t){e+=1}),e}return this.rows.length},n.prototype.eachRow=function(e){if(this.isGroupList)for(var t in this.groups)for(var i=this.groups[t],s=0,a=i.rows.length;s<a;s++)e(i.rows[s],s,i);else for(var n=0,o=this.rows.length;n<o;n++)e(this.rows[n],n)},n.prototype.empty=function(){if(this.isGroupList)for(var e in this.groups)this.groups[e].remove(!0),delete this.groups[e];else{for(var t=this.rows.length-1;t>=0;t--)this.rows[t].remove();this.rows=[]}},n.prototype.selectAll=function(){var e=this;"m"===this.config.selectedMode&&(this.selectedRows=[],this.eachRow(function(t){e.selectedRows.push(t),t.selected()}))},n.prototype.clearSelectAll=function(){"m"===this.config.selectedMode&&(this.selectedRows=[],this.eachRow(function(e){e.unSelected()}))},n.prototype.loadFirstPageData=function(e){var t=this;e=e||{},t.parent.setInitLoadMessage&&t.parent.setInitLoadMessage(),this.pageNumKey||(this.pageNumKey=this.ajaxConfig.pageNumKey,this.pageNumKey||console.error("listview 配置没有设置页码字段属性pageNumKey")),this.parentAnimate=e.parentAnimate,!1!==e.parentAnimate&&this.parent.setPullLoadingState();var i=this.ajaxConfig.firstPageIndex||0===this.ajaxConfig.firstPageIndex?this.ajaxConfig.firstPageIndex:1;this.ajaxConfig.data[this.pageNumKey]=i,this.loadData({success:function(e,i){t.rowMarkSeed=0,t.empty(),t.bindData(e,!0),e&&0!=e.length||t.showNodata(!0)},isAutoLoad:!1,isFirstLoad:!0})},n.prototype._loadNextPageData=function(e){var t=this;this.pageNumKey||(this.pageNumKey=this.ajaxConfig.pageNumKey,this.pageNumKey||console.error("listview 配置没有设置页码字段属性pageNumKey"));var i=this.ajaxConfig.data[this.pageNumKey];if(i&&!isNaN(i)||0===i)!0===e||(i=parseInt(i)+1);else{i=this.ajaxConfig.firstPageIndex||0===this.ajaxConfig.firstPageIndex?this.ajaxConfig.firstPageIndex:1}this.ajaxConfig.data[this.pageNumKey]=i,this.loadData({success:function(e){t.bindData(e)},isAutoLoad:!1,isFirstLoad:!1})},n.prototype.loadNextPageData=function(){this._loadNextPageData(!1)},n.prototype.reload=function(){this._loadNextPageData(!0),this.parent.setCanLoadMore({isReload:!0})},n.prototype.showNodata=function(e){this.noDataDom&&(e?this.noDataDom.$el.removeClass("displaynone"):this.noDataDom.$el.addClass("displaynone"))},n.prototype.loadData=function(t){var i=this,s=t.isFirstLoad;if(this.pluginBeforeLoadDataMethod&&this.pluginBeforeLoadDataMethod.call(this.pageview.plugin,this,{ajaxConfig:this.ajaxConfig,isAutoLoad:t.isAutoLoad}),this.config.isStatic){var a=[];return i.pluginParseDataMethod&&(a=i.pluginParseDataMethod.call(i.pageview.plugin,i,{params:this.ajaxConfig,data:a,cancel:!1}),void 0===a&&console.error("程序错误："+i.config.comKey+"_parsedata 方法没有返回值或者返回值错误"),!1===a)?void i.setError(t):void t.success(a)}this.beforeAjaxConfig=e.copy(this.ajaxConfig);var n=this.ajaxConfig.data||{};e.ajax({type:this.ajaxConfig.type||"get",url:this.ajaxConfig.url,pageviewInstance:this.config.$$pageview,timeout:this.ajaxConfig.timeout||7e3,data:n,success:function(e){if(i.showNodata(!1),i.pluginParseDataMethod&&(e=i.pluginParseDataMethod.call(i.pageview.plugin,i,{params:n,data:e,isFirstLoad:s}),void 0===e&&console.error("程序错误："+i.config.comKey+"_parsedata 方法没有返回值或者返回值错误"),!1===e))return void i.setError(t);e instanceof Array||console.error(i.config.comKey+"返回的数据不是数组类型,或者在"+i.config.comKey+"_parsedata方法中进行预处理 "),t.success(e,s),i.pluginAfterLoadDataMethod&&i.pluginAfterLoadDataMethod.call(i.pageview.plugin,i,{isSuccess:!0,params:n,data:e,isFirstLoad:t.isFirstLoad})},error:function(e){if(i.DemoMethod){var a=i.DemoMethod.call(i.pageview.plugin,i,{params:n,isFirstLoad:t.isFirstLoad});null===a?(i.setError(t),t.error&&t.error(e)):t.success(a,s)}else i.setError(t),t.error&&t.error(e)}})},n.prototype.setError=function(e){var t=this;window.setTimeout(function(){e.isFirstLoad?t.parent.setLoadFirstError&&t.parent.setLoadFirstError():t.parent.setLoadMoreErrorState&&t.parent.setLoadMoreErrorState(),t.ajaxConfig=t.beforeAjaxConfig,t.pluginAfterLoadDataMethod&&t.pluginAfterLoadDataMethod.call(t.pageview.plugin,t,{isSuccess:!1})},100)},n.prototype.createFragmentByDataSource=function(e){for(var t=document.createDocumentFragment(),i=0,s=e.length;i<s;i++)if(e[i].hasOwnProperty("historicProcessInstanceResponse")){if(e[i].historicProcessInstanceResponse){var a=this.createRow(e[i]);this.rows.push(a),t.appendChild(a.$el[0])}}else{var n=this.createRow(e[i]);this.rows.push(n),t.appendChild(n.$el[0])}return t},n.prototype.bindData=function(e,t){var i=this;if(this.isGroupList)return void this.bindGroupListData(e,t);var s=this.createFragmentByDataSource(e);window.setTimeout(function(){i.$el[0].appendChild(s),i.setLoadStateWhenBindDone(e,t)},16)},n.prototype.setLoadStateWhenBindDone=function(e,t){var i=this;!1!==this.parentAnimate&&(e.length<i.ajaxConfig.pageSize?i.parent.setHasLoadDone&&i.parent.setHasLoadDone():i.parent.setCanLoadMore&&i.parent.setCanLoadMore()),t&&(i.parent.resetPullLoadState&&i.parent.resetPullLoadState(),e&&0!==e.length||i.parent.setInitLoadMessage&&i.parent.setInitLoadMessage()),0===i.getRowCount()&&(i.showNodata(!0),i.parent.hideLoadMore&&i.parent.hideLoadMore())},n.prototype.groupBy=function(e){this.empty();var t=this;e?(this.groupKey=e,this.isGroupList=!0,this.groups={}):(this.isGroupList=!1,this.groupKey=null,this.groups={}),t.parent&&t.parent.setCanLoadMore&&t.parent.setPullLoadingState(),t.loadFirstPageData()},n.prototype.bindGroupListData=function(e,t){for(var i=this,s={},n={},o=0,r=e.length;o<r;o++){var l=e[o],p=l[this.groupKey];p||(l[this.groupKey]=this.config.otherGroupName||"其他",p=this.config.otherGroupName||"其他"),s[p]||(s[p]=document.createDocumentFragment()),this.groups[p]||(this.groups[p]=new a({type:"listgroup",rootConfig:this.config,style:this.config.groupStyle,$$pageview:this.pageview,groupValue:p,groupHeaderData:l,$$parent:this}),n[p]=this.groups[p]);var c=this.createGroupListRow(l,this.groups[p]);s[p].appendChild(c.$el[0]),this.groups[p].rows.push(c)}window.setTimeout(function(){for(var a in s)i.groups[a].append(s[a]),n[a]&&i.$el.append(n[a].$el);i.setLoadStateWhenBindDone(e,t)},16)},n.prototype.createGroupListRow=function(e,t){return new i({type:"listrow",listview:this,root:this.config.root,style:this.config.rowStyle,$$pageview:this.pageview,$$datasource:e,$$parent:t,itemClassName:this.config.itemClassName})},n.prototype.setAjaxConfigParams=function(e){this.ajaxConfig||console.error("ListView未配置ajaxConfig属性"),this.ajaxConfig.data=this.ajaxConfig.data||{};for(var t in e)this.ajaxConfig.data[t]=e[t]},n.prototype.initAjaxConfig=function(e){if(this.config.isStatic)return void(this.ajaxConfig={});e||console.error("ListView未配置ajaxConfig属性"),e.pageSize||console.warn("ajaxConfig配置需要指定pageSize属性"),isNaN(e.pageSize)&&console.warn("ajaxConfig配置需要指定pageSize属性为number类型"),e.pageSize=parseInt(e.pageSize)},n.prototype.createRow=function(e){return new i({type:"listrow",listview:this,root:this.config.root,style:this.config.rowStyle,$$pageview:this.pageview,$$datasource:e,$$parent:this,itemClassName:this.config.itemClassName})},n.prototype.insertGroup=function(e,t){if(!this.isGroupList)return this;var i=e[this.groupKey],s=this.groups[i];if(s)return this;s=new a({type:"listgroup",rootConfig:this.config,style:this.config.groupStyle,$$pageview:this.pageview,groupValue:i,groupHeaderData:e,$$parent:this}),this.groups[i]=s;var n=this.getGroupByIndex(t);return n?s.$el.insertBefore(n.$el):this.$el.append(s.$el),this},n.prototype.getGroupByIndex=function(e){var t,i=this.$el.children(),s=i[e];if(s){var a=s.getAttribute("data-gval");t=this.groups[a]}return t},n.prototype.insertRow=function(e,t){if(this.isGroupList){var i=e[this.groupKey],s=this.groups[i];if(s){var a=this.createGroupListRow(e,s);return this.showNodata(!1),s.insertRow(a,t)}return this.insertGroup(e,0),void this.insertRow(e,t)}var a=this.rows[t],n=this.createRow(e);this.showNodata(!1),void 0!==t&&null!=t&&t>=0&&t<this.rows.length?this.rows.splice(t,0,n):this.rows.push(n),a?n.$el.insertBefore(a.$el):this.$el.append(n.$el)},n.prototype.deleteRowByPrimaryKey=function(e){},n}),define("../../components/mapdialog",["utils","base"],function(e,t){var i=function(t){var i=this,s=t.wrapper||$(document.body),a=t.mode||1,n=t.className;this.dialogBackCover=$("<div style='visibility: hidden;' class='yy-dialog-bk'></div>"),this.dialogWrapper=$("<div class='yy-dialog-wrapper yy-dialog-effect-"+a+" yy-dialog-hide + "+n+"'></div>");var o=$("<div class='yy-dialog-inner'></div>"),r=$("<div class='yy-dialog-body'></div>"),l="row"===t.btnDirection?"yy-fd-row":"yy-fd-column",p=$("<div style='margin: 0' class='yy-dialog-btn-wrapper displayflex "+l+"'></div>");this.dialogBackCover.bind("click",function(){i.hide()}),this.dialogWrapper.css({width:"100%;!important",top:"0%;!important"}),this.bodyContentDom=$("<div class=''></div>");var c=t.createContent;if(c)c(this.bodyContentDom);else{var h=t.contentText;this.contentTextDom=$("<div class=''>"+h+"</div>"),this.bodyContentDom.append(this.contentTextDom)}if(r.append(this.bodyContentDom),t.buttons)for(var d=0,u=t.buttons.length;d<u;d++){var g=t.buttons[d],f=g.title||e.getLanguageText("button"),y=g.style,m=g.onClick;!function(t,i,s,a,n){var o=$("<div class='yy-dialog-btn yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+t+"</div>");i&&e.css(o,i),a&&o.bind("click",function(e){a()}),s.append(o)}(f,y,p,m)}o.append(r).append(p),this.dialogWrapper.append(o),s.append(this.dialogWrapper).append(this.dialogBackCover)};return i.prototype.show=function(){var e=this;this.dialogWrapper.css({visibility:"visible"}),this.dialogBackCover.css({visibility:"visible"}),this.dialogBackCover.addClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.removeClass("yy-dialog-hide").addClass("yy-dialog-show")},1)},i.prototype.hide=function(){var e=this;this.dialogWrapper.removeClass("yy-dialog-show").addClass("yy-dialog-hide"),this.dialogBackCover.removeClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.css({visibility:"hidden"}),e.dialogBackCover.css({visibility:"hidden"})},200)},i}),define("../../components/pageview",["utils","base"],function(e,t){function i(e){var t=this;if(this.refs={},this.dialogsBks={},this.dialogs={},this.componentsInitActions={},i.baseConstructor.call(this,e),this.viewpagerParams=e.viewpagerParams,e.root=e.root||[],this.params=e.$$params,this.showPageParams=e.showPageParams||{},this.prePageView=e.prePageView,this.pageManager=e.$$pageManager,this.config=e,this.innerPages={},this.innerPagesWrappers={},e.pluginClass)try{this._preparePlugin(e.pluginClass)}catch(e){console.log(e)}this.components={};var s=e.style;this.$el.addClass("yy-pageview displayflex"),this.showPageBackCover=$("<div role='showPageBackCover' class='yy-backcover displaynone'></div>"),this.innerWrapper=$("<div class='displayflex yy-page-inner'></div>"),this.$$childrenWrapper=this.innerWrapper,this.$el.append(this.innerWrapper).append(this.showPageBackCover),s&&this.innerWrapper.css(s),this.showPageBackCover.bind("click",function(){t.hideCurShowPage()}),this.initLayout()}var s={fromLeft1:{zIndex:5,left:"0",top:0,transform:"translate3d(-100%,0,0)","-webkit-transform":"translate3d(-100%,0,0)"},fromLeft2:{zIndex:101,left:"0",top:0,transform:"translate3d(-100%,0,0)","-webkit-transform":"translate3d(-100%,0,0)"},fromLeft3:{left:0,top:0,zIndex:5,transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"},fromRight1:{zIndex:5,right:"0",top:0,transform:"translate3d(100%,0,0)","-webkit-transform":"translate3d(100%,0,0)"},fromRight2:{zIndex:101,right:"0",top:0,transform:"translate3d(100%,0,0)","-webkit-transform":"translate3d(100%,0,0)"},fromRight3:{zIndex:5,right:0,top:0,
transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)"},opacity:{left:"0",top:0},fromBottom:{zIndex:101,left:"0",bottom:"0",transform:"translate3d(0,100%,0)","-webkit-transform":"translate3d(0,100%,0)"}},a={fromLeft1:"yy-init-left",fromLeft2:"yy-init-left",fromLeft3:"yy-init-left",fromRight1:"yy-init-right",fromRight2:"yy-init-right",fromRight3:"yy-init-right",opacity:"yy-init-left",fromBottom:"yy-init-bottom"};return e.extends(i,t),i.prototype._preparePlugin=function(e){this.plugin=new e({pageview:this});var t=this.config.children;if(t&&t instanceof Array&&t.length>0)for(var i=0,s=t.length;i<s;i++){var a=t[i].pluginClass;if(a){var n=new a;this.plugin=$.extend(!0,this.plugin,n)}}},i.prototype.regeistPageDestory=function(){},i.prototype.destory=function(){this.$el.remove()},i.prototype.showDialog=function(e,t){var i=this;if(t=t||{},this.dialogs[e])return this.dialogs[e].addClass("yy-dialog-show"),this.dialogsBks[e].removeClass("displaynone"),void window.setTimeout(function(){i.dialogs[e].css({visibility:"visible"})},20);var s=t.datasource;this.getComponentInstanceByComKey(e,s,null,function(s){var a=$("<div style='visibility: hidden;' class='yy-dialog-out-wrap displayflex yy-ai-center yy-jc-center'></div>");t.zIndex&&a.css({zIndex:t.zIndex+1});var n=$("<div class='yy-dialog-inner-wrap'></div>");i.dialogs[e]=a,n.append(s.$el),a.append(n),a.appendTo(document.body);var o=$("<div class='yy-page-dialog-bk'></div>");t.zIndex&&o.css({zIndex:t.zIndex}),i.dialogsBks[e]=o,o.appendTo(document.body),window.setTimeout(function(){a.css({visibility:"visible"}),a.addClass("yy-dialog-show")},20)},function(e){})},i.prototype.hideDialog=function(e){var t=this;this.dialogsBks[e].addClass("displaynone"),this.dialogs[e].removeClass("yy-dialog-show"),window.setTimeout(function(){t.dialogs[e].css({visibility:"hidden"})},200)},i.prototype.ajax=function(t){t.pageviewInstance=this,e.ajax(t)},i.prototype.Enter=function(e,t){var i=this;if(this.$el[0].className=e,t){if(i.pageManager.getPageNameFromUrl()===i.config.pageKey){var s=i.plugin.onPageEnter;s&&s.call(i.plugin)}}else this.$el[0].addEventListener("webkitAnimationEnd",function(){if(i.pageManager.getPageNameFromUrl()===i.config.pageKey){var e=i.plugin.onPageEnter;e&&e.call(i.plugin)}})},i.prototype.bindShowPageEnterEvent=function(){var e=this;this.$el[0].parentNode.addEventListener("webkitTransitionEnd",function(){if(e.$$isshow){var t=e.plugin.onPageEnter;t&&t.call(e.plugin)}})},i.prototype.hideCurShowPage=function(){var t=this;if(this.pageManager.blur(),this.showpageInstance.showpageInstance)return this.showpageInstance.hideCurShowPage(),!0;if(this.showpage_wrapper){var i=this.showpageInstance.plugin.onPageBeforeLeave||this.showpageInstance.plugin.onPageClose;if(i){if(!1===i.call(this.showpageInstance.plugin))return!0}this.showpageInstance.$$isshow=!1;var n=this.showpage_wrapper.attr("data-mode");if(this.showPageBackCover.addClass("displaynone"),this.innerWrapper[0].className="displayflex yy-page-inner "+a[n]+"-im ",window.setTimeout(function(){t.innerWrapper.css(e.processTransitionTanformStyle("none","translate3d(0,0,0)"))},300),"fromLeft1"==n||"fromLeft2"==n)this.showpage_wrapper.css(e.processTransformStyle("translate3d(-100%,0,0)"));else if("fromRight1"==n||"fromRight2"==n)this.showpage_wrapper.css(e.processTransformStyle("translate3d(100%,0,0)"));else{var o=s[n]||{};"fromRight3"!=n&&"fromLeft3"!=n||(o.display="none"),this.showpage_wrapper.css(o)}}var r=this.plugin.onPageResume;return r&&r.call(this.plugin),this.showpage_wrapper=null,this.showpageInstance=null,!1},i.prototype.do=function(e,t){var i=this.refs[e];if(i)t(i);else{try{this.config.components[e].ref||console.error("请务必在"+e+"控件上设置ref:true")}catch(e){console.error(e)}this.componentsInitActions[e]=t}},i.prototype.delegate=function(e,t){this.do(e,t)},i.prototype.showLoadingProgressbar=function(){var e=this;this.loadingProgreessbar||(this.loadingProgreessbarWrapper=$("<div class='yy-loading-pbw displaynone'></div>"),this.loadingProgreessbar=$("<div class='yy-loading-pb'></div>"),this.loadingProgreessbarWrapper.append(this.loadingProgreessbar),this.loadingProgreessbarWrapper.appendTo(this.$el)),this.loadingProgreessbarWrapper.removeClass("displaynone"),window.setTimeout(function(){e.loadingProgreessbar.css({width:"90%"})},6)},i.prototype.hideLoadingProgressbar=function(){this.loadingProgreessbar&&(this.loadingProgreessbar.css({width:"0%"}),this.loadingProgreessbarWrapper.addClass("displaynone"))},i.prototype.close=function(){this.ownerPage&&this.ownerPage.hideCurShowPage()},i.prototype.showPage=function(t){if(t&&t.pageKey){this.pageManager.blur(),!1!==t.inRouter&&this.pageManager.regeistShowPageInRouter(this.config.pageKey);var i=this,a=t.mode||"fromLeft1";this.showpage_wrapper=this.innerPagesWrappers[t.pageKey],this.showpageInstance=this.innerPages[t.pageKey],this.showLoadingProgressbar(),!this.showpage_wrapper||void 0!==t.nocache&&t.nocache?this.pageview.pageManager.getPageConfigByPageKey(t.pageKey,function(n){var o=t.params||{};n.showPageParams=o;var r=i.pageview.pageManager.createPageView(n);r.$el.addClass("yy-pageview-show"),r.ownerPage=i,i.hideLoadingProgressbar(),i.showpageInstance=r,i.innerPages[t.pageKey]=r,i.showpage_wrapper=$("<div class='yy-showpage'></div>");var l=n.showPageStyle||{width:"100%",height:"100%"};l&&(delete l.top,delete l.right,delete l.left,delete l.bottom),i.showpage_wrapper.attr("data-mode",a);var p=l.width||"100%",c=l.height||"100%";l=l||{};var h=s[a]||s.fromLeft1;h=e.clone(h),i.showpage_wrapper.attr("data-width",p),i.showpage_wrapper.attr("data-height",c);var d=e.simpleExtendObj(l,h)||{};"fromLeft3"!==a&&"fromRight3"!==a||(d.display="block"),i.showpage_wrapper.css(d),i.innerPagesWrappers[t.pageKey]=i.showpage_wrapper,i.showpage_wrapper.append(r.$el),i.$el.append(i.showpage_wrapper),r.bindShowPageEnterEvent(),i._showpageAnimate(t,i.showpage_wrapper,r)},function(){}):(this.hideLoadingProgressbar(),"fromLeft3"!==a&&"fromRight3"!==a||this.showpage_wrapper.css({display:"block"}),this._showpageAnimate(t,this.showpage_wrapper,this.showpageInstance))}},i.prototype.goBack=function(e){this.pageManager.goBack(e)},i.prototype.go=function(e,t){t=t||{};var i=this.pageManager.appConfig.beforeGo;i&&i({params:t,pageviewInstance:this}),this.pageManager.go(e,t)},i.prototype.replaceGo=function(e,t){t=t||{};var i=this.pageManager.appConfig.beforeGo;i&&i({params:t,pageviewInstance:this}),this.pageManager.replaceGo(e,t)},i.prototype._showpageAnimate=function(t,i,s){var n=this;s.$$isshow=!0;var o=i.attr("data-width"),r=i.attr("data-mode");if(this.innerWrapper[0].className="displayflex yy-page-inner "+a[r],"fromLeft1"!=r&&"fromLeft2"!=r||(this.showPageBackCover.removeClass("displaynone").css({left:o,right:0}),window.setTimeout(function(){if("fromLeft1"==r){var t=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d("+o+",0,0)");t["box-shadow"]="0px 0px 13px 1px #929292",n.innerWrapper.css(t)}i.css(e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(0,0,0)"))},12)),"fromLeft3"==r){this.showPageBackCover.removeClass("displaynone").css({left:o,right:0});var l=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d("+o+",0,0)");l["box-shadow"]="0px 0px 13px 1px #929292",window.setTimeout(function(){n.innerWrapper.css(l)},12)}if("fromRight1"!=r&&"fromRight2"!=r||(this.showPageBackCover.removeClass("displaynone").css({right:o,left:0}),window.setTimeout(function(){var t=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(-"+o+",0,0)");t["box-shadow"]="0px 0px 13px 1px #929292","fromRight1"==r&&n.innerWrapper.css(t),i.css(e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(0,0,0)"))},12)),"fromRight3"==r){this.showPageBackCover.removeClass("displaynone").css({right:o,left:0});var l=e.processTransitionTanformStyle("transform .3s cubic-bezier(.05, .69, .14, 1)","translate3d(-"+o+",0,0)");l["box-shadow"]="0px 0px 13px 1px #929292",window.setTimeout(function(){n.innerWrapper.css(l)},12)}if("fromBottom"==r){i.attr("data-height");this.showPageBackCover.removeClass("displaynone").css({left:"0",top:"0"}),window.setTimeout(function(){i.css(e.processTransitionTanformStyle("transform .2s cubic-bezier(.05, .69, .14, 1)","translate3d(0,0,0)"))},12)}},i}),define("../../components/poplayer",["utils","base"],function(e,t){var i=function(e){var t=this;i.baseConstructor.call(this,e),this.mode=e.mode||"bottom";var s="displayflex yy-poplayer yy-poplayer-"+this.mode;this.showClassName="yy-poplayer-"+this.mode+"-show",this.hideClassName="yy-poplayer-"+this.mode+"-hide",this.bkCover=$("<div class='yy-poplayer-bk displaynone'></div>"),e.bkCoverStyle&&this.bkCover.css(e.bkCoverStyle),this.bkCover.appendTo(this.pageview.$$childrenWrapper),this.bkCover.bind("click",function(){t.hide()}),this.$el.addClass(s),this.initLayout(this.datasource)};return e.extends(i,t),i.prototype.show=function(){this.bkCover.removeClass("displaynone"),this.$el.removeClass(this.hideClassName).addClass(this.showClassName)},i.prototype.hide=function(){this.bkCover.addClass("displaynone"),this.$el.removeClass(this.showClassName).addClass(this.hideClassName)},i}),define("../../components/popover",["utils","base"],function(e,t){var i=function(t){var s=this;t.noNeedSetStyle=!0,t.style=t.style||{},t.arrowStyle=t.arrowStyle||{},t.arrowStyle=t.arrowStyle||"16px",t.arrowStyle.backgroundColor=t.arrowStyle.backgroundColor||"rgba(0,0,0,.9)",t.arrowStyle.height=t.arrowStyle.height||"14px",t.arrowStyle.width=t.arrowStyle.height,t.style.width,t.style.height||(t.style.height="200px"),i.baseConstructor.call(this,t),this.width_int=parseInt(this.config.style.width),this.height_int=parseInt(this.config.style.height),this.$el.addClass("yy-popover"),t.arrowStyle.transform="rotate(45deg)",t.arrowStyle["-webkit-transform"]="rotate(45deg)",this.animateAction="0",t.animate&&(this.animateAction=t.animate.mode),this.offset=t.offset||{x:0,y:0};var a=this.offset.x||0,n=this.offset.y||0;this.offset.x=parseInt(a),this.offset.y=parseInt(n),this.arrow_width_int=parseInt(t.arrowStyle.width),this.arrow=$("<div class='yy-pop-arrow'></div>"),this.bkCover=$("<div class='yy-pop-bk displaynone'></div>"),e.css(this.arrow,t.arrowStyle),this.contentWrapper=$("<div class='displayflex yy-pop-content'></div>"),this.$$childrenWrapper=this.contentWrapper,e.css(this.contentWrapper,this.config.style),this.$el.append(this.arrow).append(this.contentWrapper),t.bkCoverStyle&&e.css(this.bkCover,t.bkCoverStyle),this.bkCover.appendTo(this.pageview.$$childrenWrapper),this.bkCover.bind("click",function(){s.hide()}),this.initLayout(t.$$datasource)};return e.extends(i,t),i.prototype.getHeight=function(){return this.$el.height()},i.prototype.hide=function(){var e=this;"0"!=this.animateAction&&"1"!=this.animateAction?(this.$el.css({opacity:0}),window.setTimeout(function(){e.$el.css({visibility:"hidden"})},300)):this.$el.css(this.hidePos),e.bkCover.addClass("displaynone")},i.prototype.show=function(t,i){i=i||{};var s=this,a=i.direction;if(t){var n=t.getClientRect();a||(n.top>this.getHeight()+this.arrow_width_int?a="top":e.viewport.height-n.bottom>this.getHeight()+this.arrow_width_int&&(a="bottom"));var o={visibility:"visible",transition:"transform .3s ease"};if(this.hidePos={},"top"==a){var r=n.top-this.getHeight()-this.arrow_width_int;o.top=r+"px","0"==this.animateAction?this.hidePos.visibility="hidden":"1"==this.animateAction?(this.hidePos.transform="translate3d(0,"+(e.viewport.height-r)+"px,0)",o.transform="translate3d(0,"+(e.viewport.height-r)+"px,0)"):(o.transition="opacity .3s ease",this.hidePos.visibility="hidden",o.opacity="0",o.transform="translate3d(0,0,0)")}else if("bottom"==a){var r=n.bottom+this.arrow_width_int/2;o.top=r+"px","0"==this.animateAction?this.hidePos.visibility="hidden":"1"==this.animateAction?(this.hidePos.transform="translate3d(0,"+(0-this.getHeight()-r-10)+"px,0)",o.transform="translate3d(0,"+(0-this.getHeight()-r-10)+"px,0)"):(o.transition="opacity .3s ease",this.hidePos.visibility="hidden",o.opacity="0",o.transform="translate3d(0,0,0)")}var l;if(isNaN(this.width_int))o.right=6,l={right:26};else{o.left=n.left+n.width/2-this.width_int/2+this.offset.x;var p=o.left+this.width_int-e.viewport.width;p>0&&(o.left=o.left-p-6),o.left<0&&(o.left=6),l={left:n.left+n.width/2-this.arrow_width_int/2-o.left+"px"}}"bottom"==a?(l["border-top-left-radius"]="4px",l.top="-"+this.arrow_width_int/2+"px"):(l["border-bottom-right-radius"]="4px",l.bottom="-"+this.arrow_width_int/2+"px"),e.css(this.arrow,l),e.css(this.$el,o),this.bkCover.removeClass("displaynone"),"0"==this.animateAction?s.$el.css({visibility:"visible"}):"1"==this.animateAction?window.setTimeout(function(){s.$el.css({transform:"translate3d(0,0,0)"})},0):window.setTimeout(function(){s.$el.css({opacity:"1"})},0)}},i}),define("../../components/radiobox",["utils","base"],function(e,t){var i=e.getRealWidth(22),s=e.getRealWidth(14),a={width:i,height:i,border:"1px solid rgb(229, 229, 229)",backgroundColor:"#fff",fontSize:s},n={width:i,height:i,color:"#fff",border:"1px solid rgb(144, 151, 255)",backgroundColor:"rgb(144, 151, 255)",fontSize:s},o=function(t){var i=this;t.style=t.style||{},this.uss=e.simpleExtendObj(e.clone(a),t.radioStyle),this.uss=e.simpleExtendObj(this.uss,t.unSelectedRadioStyle||{}),this.ss=e.simpleExtendObj(e.clone(n),t.radioStyle||{}),this.ss=e.simpleExtendObj(this.ss,t.selectedRadioStyle||{}),this.selectedBackgroundColor=this.ss.backgroundColor||"#0093ff",o.baseConstructor.call(this,t),this.value=!!this.config.value,this.$el.addClass("yy-icommon"),this.$el.addClass("yy-radio-warpper displayflex yy-fd-row yy-jc-center yy-ai-center"),this.radioDom=$("<div class='yy-radio'></div>"),this.textDom=$("<div class='yy-radio-text'>"+(this.config.text||"")+"</div>"),this.config.textStyle&&e.css(this.textDom,this.config.textStyle),this.$el.append(this.radioDom).append(this.textDom),this.setValue(this.value),this.$el.bind("click",function(){i.change()});var s=this.config.comKey+"_change";this.changeMethod=this.pageview.plugin[s],this.config.selectedRadioStyle&&this.config.selectedRadioStyle.fontSize&&(this.config.selectedRadioStyle.fontSize+="",-1===this.config.selectedRadioStyle.fontSize.indexOf("px")&&(this.config.selectedRadioStyle.fontSize=this.config.selectedRadioStyle.fontSize+"px"),$("head").find("style.yy-radio-head").remove(),$('<style class="yy-radio-head">.yy-radio-selected .yy-radio:before {font-size: '+this.config.selectedRadioStyle.fontSize+"!important;}</style>").appendTo("head"))};return e.extends(o,t),o.prototype.change=function(){this.changeMethod&&this.changeMethod.call(this.pageview.plugin,this,{value:!this.value})},o.prototype.selected=function(t){t&&this.config.disableParentSelect||(this.value=!0,e.css(this.radioDom,this.ss),this.$el.addClass("yy-radio-selected"))},o.prototype.unSelected=function(t){t&&this.config.disableParentSelect||(this.value=!1,e.css(this.radioDom,this.uss),this.$el.removeClass("yy-radio-selected"))},o.prototype.setValue=function(t){this.value=t,t?(this.$el.addClass("yy-radio-selected"),e.css(this.radioDom,this.ss)):(this.$el.removeClass("yy-radio-selected"),e.css(this.radioDom,this.uss))},o}),define("../../components/radiolist",["utils","base"],function(e,t){var i=function(t){if(this.itemData=t.itemData,this.parent=t.parent,this.parent.primaryKey,0)if(this.parent.primaryKey instanceof Array){for(var i=[],s=0,a=this.parent.primaryKey.length;s<a;s++)i.push(this.itemData[this.parent.primaryKey[s]]);this.key=i.join("_")}else console.error("radiolist控件primaryKey属性 错误的数据类型");else this.key=this.itemData[this.parent.primaryKey];this.$el=$("<div data-key='"+this.key+"' class='yy-radiolist-item yy-icommon' style='height:"+t.parent.itemHeight+"px;line-height:"+t.parent.itemHeight+"px;font-size:"+e.fontSize13()+"px'>"+(t.itemData[t.parent.labelKey]||"")+"</div>")};i.prototype={selected:function(){this.$el.addClass("yy-radiolist-item-selected")},unSelected:function(){this.$el.removeClass("yy-radiolist-item-selected")}};var s=function(t){var i=this;s.baseConstructor.call(this,t);var a=e.getRealHeight("36");this.itemHeight=e.getRealHeight("48"),this.$el.addClass("yy-checklist"),this.items=[],this.selectedValue=this.config.selectedValue||[],this.primaryKey=this.config.primaryKey,this.primaryKey||console.error(this.config.comKey+"控件没有指定primaryKey数据的主键"),this.loadWrapper=$("<div class='yy-cs-loading-wrapper displayflex jc-center ai-center'><div class='preloader'></div></div>"),this.backCoverLayer=$("<div class='yy-cl-coverlayer displaynone'></div>"),this.backCoverLayer.bind("touchmove",function(e){e.preventDefault(),e.stopPropagation()});var n=$("<div style='height:"+a+"px;font-size:"+e.fontSize(14)+"px;line-height:"+a+"px' class='yy-rl-title-wrapper'>"+(t.title||e.getLanguageText("pleaseSelect"))+"</div>");this.listWrapper=$("<div style='max-height:"+6.7*this.itemHeight+"px;' class='yy-cl-list-wrapper'></div>"),this.listWrapper.append(this.loadWrapper),this.$el.append(n).append(this.listWrapper),this.labelKey=this.config.labelKey||"text",this.backCoverLayer.bind("click",function(){i.hide()}),this.listWrapper.bind("click",function(e){i.itemClick(e)});var o=this.config.comKey+"_selected";this.selectedMethod=this.pageview.plugin[o],this.pageview.$el.append(this.backCoverLayer)};return e.extends(s,t),s.prototype._getPrimaryValue=function(e){var t="";if("string"==typeof this.primaryKey)t=e[this.primaryKey];else if(this.primaryKey instanceof Array){for(var i=[],s=0,a=this.primaryKey.length;s<a;s++)i.push(e[this.primaryKey[s]]);t=i.join("_")}else console.error("radiolist控件primaryKey属性 错误的数据类型");return t},s.prototype.itemClick=function(e){var t=e.target.getAttribute("data-key");if(t){for(var i=null,s=0,a=this.items.length;s<a;s++)if(t==this.items[s].key){i=this.items[s];break}this.selectedValue[0]&&this.selectedValue[0].selectionId===i.itemData.selectionId?i&&(this.selectedValue=[],this.setItemSelected(this.selectedValue),this.selectedMethod&&this.selectedMethod.call(this.pageview.plugin,this,{selectedValue:this.selectedValue}),this.hide()):i&&(this.selectedValue=[i.itemData],this.setItemSelected(this.selectedValue),this.selectedMethod&&this.selectedMethod.call(this.pageview.plugin,this,{selectedValue:this.selectedValue}),this.hide())}},s.prototype.show=function(){this.$el.addClass("yy-checklist-show"),this.backCoverLayer.removeClass("displaynone"),this.init()},s.prototype.setItemSelected=function(e){for(var t=0,i=this.items.length;t<i;t++){var s=this.items[t];s.unSelected()}if(e.length>0){this.selectedValue=[];for(var a=0;a<1;a++)if(void 0!==e[a])for(var n=this._getPrimaryValue(e[a]),t=0,i=this.items.length;t<i;t++){var s=this.items[t];s.key==n&&(s.selected(),this.selectedValue.push(s.itemData))}}},s.prototype.setSelectedValue=function(e){e instanceof Array||console.error("radiolist setSelectedValue方法必须是数组"),this.items&&this.items.length>0?this.setItemSelected(e):this._midSelectedValue=e},s.prototype.createItems=function(e){this.dataSource=e,this.items=[],this.listWrapper.empty();for(var t=this.dataSource.length,s=0,a=t;s<a;s++){var n=this.dataSource[s],o=new i({itemData:n,parent:this});this.listWrapper.append(o.$el),this.items.push(o),t>1&&s!=t-1&&this.listWrapper.append("<div class='yy-checklist-line'></div>")}this._midSelectedValue&&(this.setItemSelected(this._midSelectedValue),this.config.selectedValue=this._midSelectedValue,this._midSelectedValue=null),this.setSelectedValue(this.config.selectedValue||[])},s.prototype.init=function(){var e=this;this.dataSource||(e.loadWrapper.removeClass("displaynone"),e.loadErrorWrapper&&e.loadErrorWrapper.addClass("displaynone"),this.loadData(function(t){e.loadWrapper.addClass("displaynone"),e.loadErrorWrapper&&e.loadErrorWrapper.addClass("displaynone"),e.createItems(t)},function(){e.loadErrorWrapper||e.initLoadErrorDom(),e.loadErrorWrapper.removeClass("displaynone"),e.loadWrapper.addClass("displaynone")}))},s.prototype.loadData=function(e,t){if(this.dataSource)return void e(this.dataSource);var i=this.config.comKey+"_loaddata",s=this.pageview.plugin[i];s&&s.call(this.pageview.plugin,this,{success:e,error:t})},s.prototype.initLoadErrorDom=function(){var t=this,i=e.getRealWidth(11),s=e.getRealWidth(20);this.loadErrorWrapper=$("<div style='height:100px' class='yy-loadmore-wrapper displayflex jc-center ai-center flex-h'></div>");var a=$("<i style='font-size:"+s+"px' class='yy-icommon yy-loadmore-erroricon'></i>"),n=$("<span style='font-size:"+i+"px' class='yy-pull-meslabel'>"+e.getLanguageText("NetworkError")+"</span>"),o=$("<span style='font-size:"+i+"px' class='yy-loadmore-reload-babel'>"+e.getLanguageText("reLoading")+"</span>");o.bind("click",function(){t.init()}),this.loadErrorWrapper.append(a).append(n).append(o),this.listWrapper.append(this.loadErrorWrapper)},s.prototype.hide=function(){this.$el.removeClass("yy-checklist-show"),this.backCoverLayer.addClass("displaynone")},s}),define("../../components/repeat",["utils","base"],function(e,t){var i=function(e){var t=this;this.datasource=e.$$datasource,this.parent=e.$$parent,e.style&&(e.style.flexDirection||e.style["flex-direction"]||(e.style.flexDirection="column",e.style.webkitFlexDirection="column")),this.parent.useFloatToWrap&&(e.style.float="left",e.style.display="inline-block"),i.baseConstructor.call(this,e),this.parent.rowMarkSeed||(this.parent.rowMarkSeed=0),this.parent.rowMarkSeed+=1,this.itemMark="item"+this.parent.rowMarkSeed,this.$el.attr("data-role","repeatitem"),this.$el.attr("item-mark",this.itemMark);var s=this.parent.useFloatToWrap?"yy-repeatitem":"displayflex yy-repeatitem";this.$el.addClass(s),!e.root||"item_select_icon"!==e.root[0]&&"checkbox_select_icon"!==e.root[0]||this.$el.addClass("only_for_select"),this.$el.bind("click",function(e){"edit"!==t.parent.status&&t.parent._itemClick(t,e)}),e.itemClassName&&this.$el.addClass(e.itemClassName),this.initLayout(e.$$datasource,null,this)};e.extends(i,t),i.prototype.select=function(){if("m"===this.parent.selectedMode){var e=this.parent.selectedItems.indexOf(this);e>=0?(this.parent.selectedItems.splice(e,1),this.unSelected()):(this.parent.selectedItems.push(this),this.selected())}else{var t=this.parent.selectedItems[0];t&&t.unSelected(),this.parent.selectedItems[0]=this,this.selected()}},i.prototype.delegate=function(e,t){var i=this.refs[e];i?t(i):(this.config.components[e].ref||console.log("请务必在"+e+"控件上设置ref:true"),this.componentsInitActions[e]=t)},i.prototype.showPlaceHolder=function(){this.placeHolder||(this.placeHolder=$("<div class='yy-repeat-placeholder displaynone'></div>"),this.$el.append(this.placeHolder)),this.placeHolder.removeClass("displaynone")},i.prototype.moveTo=function(e){if(null!==e&&void 0!==e){var t=this.parent.components.indexOf(this);if(t!=e){var i=this.parent.components[e];if(i){this.$el.insertBefore(i.$el),this.parent.components.splice(t,1),this.parent.datasource.splice(t,1);var s=e;t<e&&(s-=1),this.parent.components.splice(s,0,this),this.parent.datasource.splice(s,0,this.datasource)}else this.parent.components.splice(t,1),this.parent.datasource.splice(t,1),this.parent.components.push(this),this.parent.datasource.push(this.datasource),this.parent.subComponent?this.$el.insertBefore(this.parent.subComponent.$el):this.$el.appendTo(this.parent.$el)}}},i.prototype.hidePlaceHolder=function(){this.placeHolder.addClass("displaynone")},i.prototype.remove=function(e){var t=this,i=this.parent.datasource.indexOf(this.datasource),s=this.parent.components.indexOf(this);i>=0&&this.parent.datasource.splice(i,1),s>=0&&this.parent.components.splice(s,1),this.splitLine&&this.splitLine.remove(),e?(this.$el.css({height:this.$el.height()+1+"px"}),window.setTimeout(function(){t.$el.css({transition:"height .12s linear","-webkit-transition":"height .12s linear",height:"0px"})},40),window.setTimeout(function(){t.$el.remove()},345)):t.$el.remove()},i.prototype.rebind=function(e){this.$el.empty(),this.datasource=e,this.initLayout(e,null,this)};var s=function(t){this.initSourceLength=0;var i=t.style||{};this.useFloatToWrap=!e.isSupportFlexWrap()&&("wrap"==i.flexWrap||"wrap"==i["flex-wrap"]),this.selectedItems=[],this.splitStyle=t.splitStyle,t.subComponent&&(t.$$pageview.config.components[t.subComponent].ref=!0),s.baseConstructor.call(this,t),this.subComponentInBefore=!0===this.config.subComponentInBefore,this.datasource=[];var a=this.useFloatToWrap?"yy-repeat ":"displayflex yy-repeat ";this.$el.addClass(a),this.selectedMode=t.selectedMode,this.subComponent=null,this.init(),this.hasAttachSortEvent=!1};return e.extends(s,t),s.prototype.setLeftOpen=function(){if("edit"===this.status)return this.setLeftClose(),void this.showOrHideSubComponent(!0);this.status="edit",this.showOrHideSubComponent(!1),this.$el.addClass(this.showBlockClassNameDict.left)},s.prototype.eachItem=function(e){for(var t=0,i=this.components.length;t<i;t++){if(!1===e(this.components[t],t))break}},s.prototype.clearSelectAll=function(){this.selectedItems=[],this.eachItem(function(e){e.unSelected()})},s.prototype.selectAllItems=function(){var e=this;this.selectedItems=[],this.eachItem(function(t){t.selected(),e.selectedItems.push(t)})},s.prototype.setLeftRightOpen=function(){if("edit"===this.status)return this.setLeftRightClose(),void this.showOrHideSubComponent(!0);this.status="edit",this.showOrHideSubComponent(!1),this.$el.addClass((this.showBlockClassNameDict.left||"")+" "+(this.showBlockClassNameDict.right||""))},s.prototype.setLeftRightClose=function(){this.status="",this.$el.removeClass((this.showBlockClassNameDict.left||"")+" "+(this.showBlockClassNameDict.right||""))},s.prototype.setLeftClose=function(){this.status="",this.$el.removeClass(this.showBlockClassNameDict.left)},s.prototype.setRightOpen=function(){if("edit"===this.status)return this.setRightClose(),void this.showOrHideSubComponent(!0);this.status="edit",this.showOrHideSubComponent(!1),this.$el.addClass(this.showBlockClassNameDict.right)},s.prototype.setRightClose=function(){this.status="",this.$el.removeClass(this.showBlockClassNameDict.right)},s.prototype.initLeftRightBlock=function(){this.initBlock(this.config.leftBlock,"left"),this.initBlock(this.config.rightBlock,"right")},s.prototype.initBlock=function(t,i){if(t){t.key&&t.width||console.error("listview 的"+i+"Block配置需要包括key和widt属性");try{t.width=parseInt(t.width)}catch(e){}isNaN(t.width)&&console.error("listview 的"+i+"Block的widt属性必须为数值"),t.width=e.getRealWidth(t.width);var s=this.getUniqueKey()+i;this.$el.addClass(s),this.showBlockClassNameDict||(this.showBlockClassNameDict={}),this.showBlockClassNameDict[i]=s+"_show"+i,e.createStyleSheet(s,"."+t.key+" {transition:width .3s ease;-webkit-transition:width .3s ease;} ."+this.showBlockClassNameDict[i]+" ."+t.key+" {width:"+t.width+"px !important;}")}},s.prototype.init=function(){var e=this,t=this.config.items||[];this.initSourceLength=t.length;for(var i=0,s=t.length;i<s;i++)this.addItem(t[i],i,s);this.config.subComponent&&this.getComponentInstanceByComKey(this.config.subComponent,this.datasource,null,function(t){e.$el.append(t.$el),e.subComponent=t},function(){}),this.config.nodata&&this.getComponentInstanceByComKey(this.config.nodata,null,null,function(t){e.$el.append(t.$el),e.components.length>0&&t.$el.addClass("displaynone"),e.noDataDom=t},function(){}),this.initLeftRightBlock()},s.prototype.showOrHideSubComponent=function(e){this.config.subComponent&&this.pageview.do(this.config.subComponent,function(t){e?t.$el.removeClass("displaynone"):t.$el.addClass("displaynone")})},s.prototype.empty=function(){for(var e=this.components.length-1;e>=0;e--)this.components[e].remove();this.datasource=[],this.components=[]},s.prototype.bindData=function(e){if(this.empty(),e&&e instanceof Array&&e.length>0){this.noDataDom?(this.noDataDom.$el.addClass("displaynone"),this.showOrHideSubComponent(!0)):this.showOrHideSubComponent(!0),this.initSourceLength=e.length;for(var t=0,i=e.length;t<i;t++)this.addItem(e[t],t,i)}else this.noDataDom&&this.noDataDom.$el.removeClass("displaynone"),this.config.subComponentAlwaysShow?this.showOrHideSubComponent(!0):this.showOrHideSubComponent(!1)},s.prototype.getItem=function(e){for(var t=0,i=this.components.length;t<i;t++){var s=this.components[t];if(e(s))return s}return null},s.prototype.insertItem=function(e,t){this.noDataDom&&this.noDataDom.$el.addClass("displaynone"),this.addItem(e,t)},s.prototype.getTargetItem=function(e,t){var i=e.target,s=this.config.sortHandle,a=!1,n=i.getAttribute("item-mark");for(s&&(i.getAttribute("data-comname")!=s?n=null:a=!0);!n&&"BODY"!==i.tagName.toUpperCase();)if(i=i.parentNode,s&&i.getAttribute("data-comname")==s&&(a=!0),n=i.getAttribute("item-mark")){s&&(a||(n=null));break}var o=null;if(n)for(var r=0,l=this.components.length;r<l;r++){var p=this.components[r];if(p.itemMark===n){o=p;break}}return o},s.prototype.startSort=function(){var e,t,i=this,s=this.parent;if(this.pageview.plugin){var a=this.config.comKey+"_sortend";t=this.pageview.plugin[a]}this.isInSort=!0;var n,o,r,l,p,c=null;this.hasAttachSortEvent||(this.hasAttachSortEvent=!0,this.$el.bind("touchstart",function(t){if(e=i.getTargetItem(t,!0),i.repeatOffsetY=i.$el.offset().top,r=0,l=0,e&&i.isInSort){c=e.$el.position();var a=t.touches[0];n=a.pageX,o=a.pageY,p=e.$el.clone(),s&&(scrollTop=s.$el[0].scrollTop),p.css({position:"absolute",zIndex:50,left:c.left+"px",top:c.top+"px"}),e.showPlaceHolder(),i.$el.append(p)}}),this.$el.bind("touchmove",function(t){if(e&&i.isInSort){var a=t.touches[0];t.preventDefault(),t.stopPropagation();var h=a.pageX,d=a.pageY;r=h-n,l=d-o;var u=0;if(s&&(u=s.$el[0].scrollTop),Math.abs(parseInt(d))%3==1){var g=i.getItemIndexByPosY(d+u-(u+i.repeatOffsetY));e.moveTo(g)}var f=l+c.top;f=f<0?0:f,p.css({position:"absolute",zIndex:50,top:f+"px"})}}),this.$el.bind("touchend",function(s){e&&i.isInSort&&(t&&t.call(i.pageview.plugin,this,{}),e.hidePlaceHolder(),p.remove(),p=null)}))},s.prototype.endSort=function(){this.isInSort=!1},s.prototype.getItemIndexByPosY=function(e){for(var t,i=0,s=this.components.length,a=0,n=s;a<n;a++){var o=this.components[a],r=o.$el.height();if(e>i&&e<i+r/2){t=a;break}if(e>=i+r/2&&e<i+r){t=a+1;break}i+=r}return t},s.prototype.addItem=function(t,s,a){var n=!1;void 0===s||null===s||s<0||s>=this.datasource.length?(s=this.datasource.length,this.datasource.push(t)):(this.datasource.splice(s,0,t),n=!0);var o,r=new i({type:"repeatitem",root:this.config.root,style:this.config.itemStyle,$$pageview:this.pageview,$$datasource:t,$$parent:this,index:s,itemClassName:this.config.itemClassName,selectedClassName:this.config.itemSelectedClassName});if(this.splitStyle&&this.components.length>0){var l="repeat-splitline-"+s;o=$("<div class='"+l+"'></div>"),r.splitLine=o,e.css(o,this.splitStyle)}if(n?this.components.splice(s,0,r):this.components.push(r),n){var p=this.components[s+1];0!==s&&o&&o.insertBefore(p.$el),r.$el.insertBefore(p.$el),0===s&&o&&o.insertBefore(p.$el)}else this.subComponent?this.subComponentInBefore?(o&&this.$el.append(o),this.$el.append(r.$el)):(o&&o.insertBefore(this.subComponent.$el),r.$el.insertBefore(this.subComponent.$el)):(o&&this.$el.append(o),this.$el.append(r.$el))},s.prototype._itemClick=function(e,t){var i=this.config.comKey+"_itemclick";if(this.pageview.plugin){var s=this.pageview.plugin[i];if(e.disabled)return;s&&s.call(this.pageview.plugin,e,{index:e.$el.index(),e:t})}this.config.$$itemClick&&this.config.$$itemClick(e)},s}),define("../../components/searchview",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t);this.$el.addClass("displayflex yy-seachview yy-fd-column"),this.cancelBtnWidth=e.getRealWidth(60),this.inputWidth=e.getRealWidth(355);var a=e.getRealHeight(30),n=e.getRealHeight(10),o=e.getRealWidth(30);this.inputFocusWidth=this.inputWidth-this.cancelBtnWidth+n,this.searchBarClassName="yy-sv-bar yy-fd-row displayflex yy-ai-center",this.searchBar=$("<div class='"+this.searchBarClassName+" yy-sv-defalut'></div>"),
this.config.searchBarStyle&&(this.config.searchBarStyle.paddingLeft||(this.config.searchBarStyle.paddingLeft=e.getRealWidth(10)),this.config.searchBarStyle.paddingRight||(this.config.searchBarStyle.paddingRight=e.getRealWidth(10)),e.css(this.searchBar,this.config.searchBarStyle)),this.form=$("<form class='yy-sv-form' style='height:"+a+"px;width:"+this.inputWidth+"px'></form>");var r=$("<div class='yy-sv-input-div' style=''></div>");this.clearBtn=$("<div class='yy-sv-clear yy-icommon displaynone' style='height:"+a+"px;width:"+a+"px'></div>");var l=this.config.placeholder||e.getLanguageText("search");this.input=$("<input style='font-size:"+e.fontSize(14)+"px;padding-left:"+o+"px' placeholder='"+l+"' type='search'/>"),this.input.bind("focus",function(){s._focus()}),this.input.bind("input",function(){s.inputChange()}),this.clearBtn.bind("click",function(){s.input.val(""),s.input.focus(),s.inputChange()}),r.append(this.clearBtn).append(this.input),this.form.append(r),this.form.bind("submit",function(e){return e.preventDefault(),!1});var p=$("<div style='width:"+this.cancelBtnWidth+"px;height:"+a+"px;font-size:"+e.fontSize(16)+"px' class='yy-sv-cancel displayflex yy-jc-center yy-ai-center'>"+e.getLanguageText("cancel")+"</div>");p.bind("click",function(){s._cancelSearch()}),this.body=$("<div class='yy-flex-1 yy-sv-body'></div>"),this.config.bodyStyle&&e.css(this.body,this.config.bodyStyle);var c=this.config.comKey+"_change";this.changePluginMethod=this.pageview.plugin[c],this._init(),this.time=this.config.time,!this.time||isNaN(this.time)?this.time=1e3:this.time=parseInt(this.time),this.input.bind("keydown",function(e){13===e.keyCode&&s.input.blur()}),this.searchBar.append(this.form).append(p),this.$el.append(this.searchBar).append(this.body)};return e.extends(i,t),i.prototype.inputChange=function(e){var t=this,i=this.input.val();if(""==i?this.clearBtn.addClass("displaynone"):this.clearBtn.removeClass("displaynone"),0==this.time)return void(t.changePluginMethod&&t.changePluginMethod.call(t.pageview.plugin,t.input,{searchview:t,value:i}));this.timeid&&window.clearTimeout(this.timeid),e?t.changePluginMethod&&t.changePluginMethod.call(t.pageview.plugin,t.input,{searchview:t,value:i}):this.timeid=window.setTimeout(function(){t.changePluginMethod&&t.changePluginMethod.call(t.pageview.plugin,t.input,{searchview:t,value:i})},this.time)},i.prototype._cancelSearch=function(){this.form.css({width:this.inputWidth+"px"}),this.clearBtn.addClass("displaynone"),this.searchBar[0].className=this.searchBarClassName+" yy-sv-defalut",this.defaultComyWrapper&&(this.defaultComyWrapper.removeClass("displaynone"),this.resultComWrapper&&this.resultComWrapper.addClass("displaynone"))},i.prototype.search=function(e,t){this._focus(),this.input.val(e),this.inputChange(t)},i.prototype.value=function(){return $.trim(this.input.val())},i.prototype.blur=function(e){this.input.blur()},i.prototype.focus=function(e){this.input.focus()},i.prototype._focus=function(){this.form.css({width:this.inputFocusWidth+"px"}),this.input.val().length>0&&this.clearBtn.removeClass("displaynone"),this.searchBar[0].className=this.searchBarClassName+" yy-sv-active",this.resultComWrapper&&(this.resultComWrapper.removeClass("displaynone"),this.defaultComyWrapper&&this.defaultComyWrapper.addClass("displaynone"))},i.prototype._init=function(){var e=this,t=this.config.defaultComponent;t&&(this.defaultComyWrapper=$("<div class='yy-sv-body-wrapper displayflex yy-fd-column'></div>"),this.body.append(this.defaultComyWrapper),this.getComponentInstanceByComKey(t,null,null,function(t){e.defaultComyWrapper.append(t.$el)},function(){}));var i=this.config.resultComponent;i&&(this.resultComWrapper=$("<div class='yy-sv-body-wrapper displayflex yy-fd-column displaynone'></div>"),this.body.append(this.resultComWrapper),this.getComponentInstanceByComKey(i,null,null,function(t){e.resultComWrapper.append(t.$el)},function(){}))},i}),define("../../components/segment_android",["utils","base"],function(e,t){var i=function(e){var t=this;this.index=e.index,e.style=e.style||{},e.style.flexDirection||e.style["flex-direction"]||(e.style.flexDirection="column",e.style.webkitFlexDirection="column"),e.style.alignItems||e.style["align-items"]||(e.style.alignItems="center",e.style.webkitAlignItems="center"),e.style.justifyContent||e.style["justify-content"]||(e.style.justifyContent="center",e.style.webkitJustifyContent="center"),e.style.width||(e.style.flex=1,e.style.webkitFlex=1),e.style.height=e.style.height||"25px",i.baseConstructor.call(this,e),this.$el.addClass("displayflex yy-segmentitem-android"),this.$el.bind("click",function(){t.disabled||t.parent._itemClick(t)}),this.childHasInited=!1,this.initLayout(e.$$datasource,null,null,function(){t.childHasInited=!0,!0===t.wantToSelected&&(t.selected(),t.wantToSelected=!1)})};e.extends(i,t),i.prototype.initSetSelected=function(){this.childHasInited?this.selected():this.wantToSelected=!0};var s=function(e){e.itemStyle=e.itemStyle||{},e.style=e.style||{},e.style.width=e.style.width||"100%";var t=e.itemStyle.height||e.style.height||"25px";e.itemStyle.height=t,delete e.style.height,s.baseConstructor.call(this,e),this.$el.css({height:t}),this.$el.addClass("yy-sgm-android"),this.$innerWraper=$("<div class='displayflex yy-sgm-android-inner flex-h'></div>"),this.indicator=$("<div class='yy-sgm-indicator'></div>"),this.selectedMode=e.selectedMode,this.selectedIndex=parseInt(e.selectedIndex)||0,this.selectedItems,this.components=[],this.dataSource=[],this.splitStyle=e.splitStyle,this.offsetX=0,this.$innerWraper.appendTo(this.$el),this.init()};return e.extends(s,t),s.prototype.init=function(){var e=this;this.getdata(function(t){e.createItems(t)},function(){})},s.prototype.createItems=function(e){var t=this.config.indicatorStyle||{};this.itemCount=e.length,this.config.itemStyle.width?(this.itemWidth_int=parseFloat(this.config.itemStyle.width),this.itemWidth=this.itemWidth_int+"px",t.left=this.itemWidth_int*this.selectedIndex+"px",t.width=this.itemWidth_int+"px",this.maxWidth=this.itemWidth_int*this.itemCount,this.$innerWraper.css({width:this.maxWidth+3+"px"}),this.initEvent()):(this.itemWidth_int=100/e.length,this.itemWidth=this.itemWidth_int+"%",t.left=this.itemWidth_int*this.selectedIndex+"%",t.width=this.itemWidth_int+"%",this.$innerWraper.css({width:"100%"})),this.indicator.css(t),this.$innerWraper.append(this.indicator);for(var i=0,s=e.length;i<s;i++)this.addItem(e[i])},s.prototype.getdata=function(e,t){if(this.config.items)return void e(this.config.items);var i=this.config.comKey+"_getdata",s=this.pageview.plugin[i];s&&s.call(this.pageview.plugin,this,{success:function(t){e(t)},error:function(){t()}})},s.prototype.addItem=function(t){this.dataSource.push(t);var s=new i({type:"segmentitem",root:this.config.root,style:this.config.itemStyle,$$pageview:this.pageview,$$datasource:t,$$parent:this,index:this.components.length,selectedClassName:this.config.itemSelectedClassName});if(this.components.push(s),this.components.length==this.selectedIndex+1&&(this.selectedItems=s,s.initSetSelected()),this.$innerWraper.append(s.$el),this.splitStyle&&this.components.length>0&&this.components.length<this.config.items.length){var a=$("<div></div>");e.css(a,this.splitStyle),this.$innerWraper.append(a)}},s.prototype._itemClick=function(t){var i=this.selectedItems===t,s=this.config.comKey+"_change";if(this.pageview.plugin&&this.pageview.plugin[s]){var a=this.pageview.plugin[s];if(a){if(a.call(this.pageview.plugin,this,{item:t,nochange:i}))return}}if(i);else if(this.selectedItems&&this.selectedItems.unSelected(),this.selectedItems=t,this.selectedItems.selected(),this.config.itemStyle.width){if(this.indicator.css({left:this.itemWidth_int*t.index+"px"}),t.index!=this.itemCount-1){var n=this.itemWidth_int*(t.index-2);n=n<0?0:n,0!=t.index?n+=30:n=0,this.offsetX=0-n,this.$innerWraper.css(e.processTransformStyle("translate3d(-"+n+"px,0,0)"))}}else this.indicator.css({left:this.itemWidth_int*t.index+"%"});var o=t.datasource,r=o.key,l=this.pageview.refs[this.config.viewpager];l&&r&&l.showItem(r)},s.prototype.initEvent=function(){var t,i=0,s=0,a=0,n=this,o=e.viewport.width,r=this.maxWidth-o;r=r<=0?0:r,this.$el.bind("touchstart",function(e){var a=e.touches[0];i=a.pageX,s=0,t=(new Date).valueOf()}),this.$el.bind("touchmove",function(t){var o=t.touches[0],r=o.pageX;s=r-i,a=s+n.offsetX;var l=e.processTransformStyle("translate3d("+a+"px,0,0)");l.transition="none",l.webkitTransition="none",n.$innerWraper.css(l)}),this.$el.bind("touchend",function(i){var l=(new Date).valueOf(),p=l-t,c=0;p<400&&(c=r*(1-Math.abs(s)/o)),s>0?a+=c:a-=c,a>0&&(a=0),a<0-r&&(a=0-r),n.offsetX=a,p+=200;var h=e.processTransformStyle("translate3d("+a+"px,0,0)");h.transition="transform "+p+"ms ease",h.webkitTransition="transform "+p+"ms ease",n.$innerWraper.css(h)})},s}),define("../../components/segment_ios",["utils","base"],function(e,t){var i=function(e){var t=this;e.style=e.style||{},e.style.flexDirection||e.style["flex-direction"]||(e.style.flexDirection="column"),e.style.alignItems||e.style["align-items"]||(e.style.alignItems="center"),e.style.justifyContent||e.style["justify-content"]||(e.style.justifyContent="center"),e.style.flex=1,e.style.height=e.style.height||"25px",i.baseConstructor.call(this,e),this.$el.addClass("displayflex yy-segmentitem"),this.$el.bind("click",function(){t.parent._itemClick(t)}),this.initLayout(e.$$datasource)};e.extends(i,t),i.prototype.render=function(){};var s=function(e){e.itemStyle=e.itemStyle||{},e.style=e.style||{},e.style.width=e.style.width||"300px",e.style.border=e.style.border||"1px solid rgb(0, 147, 255)",e.style.borderRadius=e.style.borderRadius||"4px";var t=e.itemStyle.height||e.style.height||"25px";e.itemStyle.height=t,delete e.style.height,s.baseConstructor.call(this,e),this.$el.addClass("displayflex yy-sgm-ios flex-h"),this.selectedMode=e.selectedMode,this.selectedIndex=e.selectedIndex||0,this.selectedItems,this.components=[],this.dataSource=[],this.splitStyle=e.splitStyle||{borderLeft:"1px solid rgb(0, 147, 255)",height:t,width:0},this.init()};return e.extends(s,t),s.prototype.init=function(){for(var e=this.config.items||[],t=0,i=e.length;t<i;t++)this.addItem(e[t])},s.prototype.addItem=function(t){this.dataSource.push(t);var s=new i({type:"segmentitem",root:this.config.root,style:this.config.itemStyle,$$pageview:this.pageview,$$datasource:t,$$parent:this,selectedClassName:this.config.itemSelectedClassName||"yy-sgm-ios-selected"});if(this.components.push(s),this.components.length==this.selectedIndex+1&&(this.selectedItems=s,s.selected()),this.$el.append(s.$el),this.components.length>0&&this.components.length<this.config.items.length){var a=$("<div></div>");e.css(a,this.splitStyle),this.$el.append(a)}},s.prototype._itemClick=function(e){if(this.selectedItems===e){var t=this.config.comKey+"_selectedagin";if(this.pageview.plugin&&this.pageview.plugin[t]){var i=this.pageview.plugin[t];i&&i.call(this.pageview.plugin,this,{item:e})}}else{this.selectedItems&&this.selectedItems.unSelected(),this.selectedItems=e,this.selectedItems.selected();var t=this.config.comKey+"_change";if(this.pageview.plugin&&this.pageview.plugin[t]){var i=this.pageview.plugin[t];i&&i.call(this.pageview.plugin,this,{item:e})}var s=e.datasource,a=s.key,n=this.pageview.refs[this.config.viewpager];n&&a&&n.showItem(a)}},s}),define("../../components/simplesearchview",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t);this.$el.addClass("displayflex yy-seachview yy-fd-column"),this.cancelBtnWidth=e.getRealWidth(60),this.inputWidth=e.getRealWidth(355);var a=e.getRealWidth(10),n=e.getRealHeight(30),o=e.getRealHeight(10),r=e.getRealWidth(0);this.inputFocusWidth=this.inputWidth-this.cancelBtnWidth+o,this.searchBarClassName="yy-sv-bar yy-fd-row displayflex yy-ai-center",this.searchBar=$("<div class='"+this.searchBarClassName+" yy-sv-defalut'></div>"),this.config.searchBarStyle&&(this.config.searchBarStyle.paddingLeft||(this.config.searchBarStyle.paddingLeft=e.getRealWidth(10)),this.config.searchBarStyle.paddingRight||(this.config.searchBarStyle.paddingRight=e.getRealWidth(10)),e.css(this.searchBar,this.config.searchBarStyle)),this.form=$("<form class='yy-sv-form' style='margin-left:"+a+"px;height:"+n+"px;width:"+this.inputWidth+"px'></form>"),this.formdiv=$("<div class='yy-sv-input-div' style=''></div>"),this.clearBtn=$("<div class='yy-sv-clear yy-icommon displaynone' style='height:"+n+"px;width:"+n+"px'></div>");var l=this.config.placeholder||e.getLanguageText("search");this.input=$("<input style='text-align:center;font-size:"+e.fontSize(14)+"px;padding-left:"+r+"px' placeholder='"+l+"' type='search'/>"),this.input.bind("focus",function(){s._focus()}),this.input.bind("input",function(){s.inputChange()}),this.clearBtn.bind("click",function(){s.input.val(""),s.input.focus(),g&&g.call(s.pageview.plugin,s,{value:s.input.val()})}),this.formdiv.append(this.clearBtn).append(this.input),this.form.append(this.formdiv),this.form.bind("submit",function(e){return e.preventDefault(),!1});var p=this.config.cancel||e.getLanguageText("cancel"),c=$("<div style='width:"+this.cancelBtnWidth+"px;height:"+n+"px;font-size:"+e.fontSize(16)+"px' class='yy-sv-cancel displayflex yy-jc-center yy-ai-center'>"+p+"</div>");this.config.cancelBtnStyle&&e.css(c,this.config.cancelBtnStyle);var h=this.config.comKey+"_cancel",d=this.pageview.plugin[h];c.bind("click",function(){s._cancelSearch(),"index"!==s.pageview.pageManager.fromPage&&"moreTemplate"!==s.pageview.pageManager.fromPage||s.$el.addClass("yy-sv-input-hide"),d&&d.call(s.pageview.plugin,s,{value:s.input.val()})});var u=this.config.comKey+"_search",g=this.pageview.plugin[u];this.input.bind("keydown",function(e){13===e.keyCode&&(s.input.blur(),g&&g.call(s.pageview.plugin,s,{value:s.input.val()}))}),this.searchBar.append(this.form).append(c),this.$el.append(this.searchBar)};return e.extends(i,t),i.prototype.inputChange=function(e){""==this.input.val()?(this.clearBtn.addClass("displaynone"),this.formdiv.removeClass("yy-input-index-state")):(this.formdiv.addClass("yy-input-index-state"),this.clearBtn.removeClass("displaynone"))},i.prototype._cancelSearch=function(){this.form.css({width:this.inputWidth+"px"}),this.clearBtn.addClass("displaynone"),this.formdiv.removeClass("yy-input-index-state"),this.input[0].setAttribute("placeholder",this.config.placeholder),this.searchBar[0].className=this.searchBarClassName+" yy-sv-defalut",this.defaultComyWrapper&&(this.defaultComyWrapper.removeClass("displaynone"),this.resultComWrapper&&this.resultComWrapper.addClass("displaynone"))},i.prototype._focus=function(){this.formdiv.addClass("yy-input-index-state"),this.clearBtn.removeClass("displaynone"),this.form.css({width:this.inputFocusWidth+"px"}),this.input[0].removeAttribute("placeholder"),this.input.val().length,this.searchBar[0].className=this.searchBarClassName+" yy-sv-active",this.resultComWrapper&&(this.resultComWrapper.removeClass("displaynone"),this.defaultComyWrapper&&this.defaultComyWrapper.addClass("displaynone"))},i}),define("../../components/statusview",["utils","base"],function(e,t){var i=function(e){i.baseConstructor.call(this,e),this.$el.addClass("yy-statusview displayflex"),this.selectedKey=e.selectedKey||e.defaultKey,this.components={},this.change(this.selectedKey)};return e.extends(i,t),i.prototype.change=function(e){var t=this;t.curComponent&&t.curComponent.$el.addClass("displaynone");var i=t.components[e];if(i)return i.$el.removeClass("displaynone"),void(t.curComponent=i);e&&"null"!=e&&(this.curStatusKey=e,this.getComponentInstanceByComKey(e,this.datasource,this.rowInstance,function(i){t.components[e]=i,t.curComponent=i,e!==t.curStatusKey&&i.$el.addClass("displaynone"),t.$el.append(i.$el)},function(){}))},i}),define("../../components/swiper",["utils","base"],function(e,t){var i=function(e){this.config=e,this.$el=$("<div style='"+e.style+"' class='yy-swiper-item-wrapper'></div>")};i.prototype={css:function(t){e.css(this.$el,t)}};var s=function(t){this.config=t||{},this.$el=$("<div class='yy-swiper-wrapper flex-1'></div>"),this.itemWrappers=[],this.posArr=[0,1,2],this.limit=e.getRealWidth(90),this.minOffsetX=t.minOffsetX||0,this.tanKeys=e.getTransitionKeys(),this.initLayout(),this.direction="h",this.config.init&&this.config.init(this)};return s.prototype={_posArrGoNext:function(){var e=this.posArr[0];this.posArr[0]=this.posArr[1],this.posArr[1]=this.posArr[2],this.posArr[2]=e},_resetPosArr:function(){this.posArr=[0,1,2]},_posArrGoPre:function(){var e=this.posArr[2];this.posArr[2]=this.posArr[1],this.posArr[1]=this.posArr[0],this.posArr[0]=e},initLayout:function(){var t=this;this.initPos=[0-e.viewport.width,0,e.viewport.width];for(var s=0;s<3;s++){var a=this.tanKeys.transform+":translate3d("+this.initPos[s]+"px,0,0)",n=new i({style:a});this.itemWrappers.push(n),this.config.initItem&&this.config.initItem(n,s),this.$el.append(n.$el)}var o,r,l;t.isIntransition=!1,this.$el.bind("touchstart",function(e){l=t.isIntransition,t.isIntransition||(o=e.touches[0].pageX)}),this.$el.bind("touchmove",function(e){if(!t.isIntransition&&!l){var i=e.touches[0];r=i.pageX-o,"h"===t.direction&&Math.abs(r)>4&&(e.preventDefault(),e.stopPropagation()),t.setPos("move",r)}}),this.$el.bind("touchend",function(e){if(!t.isIntransition&&!l&&r&&0!=r){if(Math.abs(r)<t.limit)return t.setPos(),void(t.isIntransition=!1);r>0?t.goPre():t.goNext(),r=0}})},transitionEnd:function(e){this.isIntransition=!1},goPre:function(){if(this.config.beforeGoPre){if(!1===this.config.beforeGoPre())return this.setPos(),void(this.isIntransition=!1)}var e=this;this.isIntransition=!0,this._posArrGoPre(),this.setPos("gopre"),this.config.onChange&&this.config.onChange({swiper:this,action:"gopre",itemWrapper:this.itemWrappers[this.posArr[0]]}),window.setTimeout(function(){e.transitionEnd("gopre")},280)},goNext:function(){if(this.config.beforeGoNext){if(!1===this.config.beforeGoNext())return this.setPos(),void(this.isIntransition=!1)}var e=this;this.isIntransition=!0,this._posArrGoNext(),this.setPos("gonext"),this.config.onChange&&this.config.onChange({swiper:this,action:"gonext",itemWrapper:this.itemWrappers[this.posArr[2]]}),window.setTimeout(function(){e.transitionEnd("gonext")},280)},reset:function(){this._resetPosArr(),this.setPos("move",0)},getMidWrapper:function(){return this.itemWrappers[this.posArr[1]]},getPreWrapper:function(){return this.itemWrappers[this.posArr[0]]},getNextWrapper:function(){return this.itemWrappers[this.posArr[2]]},setPos:function(e,t){var i=this;t=t||0;for(var s=0;s<3;s++){var a=i.posArr[s],n=i.itemWrappers[a],o={};o[i.tanKeys.transition]="move"==e?"none":this.tanKeys.transform+" .35s ease","gopre"==e&&0==s&&(o[i.tanKeys.transition]="none"),"gonext"==e&&2==s&&(o[i.tanKeys.transition]="none"),o[i.tanKeys.transform]="translate3d("+(this.initPos[s]+t)+"px,0,0)",n.css(o)}}},s}),define("../../components/switch",["utils","base"],function(e,t){var i=function(t){var s=this;t.style=t.style||{};var a=e.getRealHeight(28),n=e.getRealWidth(48),o=t.style.height||a,r=t.style.width||n;this.height=isNaN(o)?a:parseInt(o),this.width=isNaN(r)?n:parseInt(r),t.style.height=this.height+"px",t.style.width=this.width+"px",t.style.borderRadius=this.height/2+"px";var l=this.height-2;this.switchPoint=$("<div class='yy-swith-pointer'></div>"),this.pointerStartStyle={top:"1px",left:"1px",right:this.width-l-1+"px",bottom:"1px"},this.pointerEndStyle={top:"1px",left:this.width-l-1+"px",right:"1px",bottom:"1px"},i.baseConstructor.call(this,t),this.value=this.config.value,this.switchPoint.appendTo(this.$el),this.$el.addClass("yy-swith"),this.setValue(this.value),this.$el.bind("click",function(){s.change()});var p=this.config.comKey+"_change";this.changeMethod=this.pageview.plugin[p]};return e.extends(i,t),i.prototype.change=function(){this.changeMethod&&this.changeMethod.call(this.pageview.plugin,this,{value:!this.value})},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(e){this.value=e,e?(this.switchPoint.css(this.pointerEndStyle),this.$el.addClass("yy-swith-selected")):(this.switchPoint.css(this.pointerStartStyle),this.$el.removeClass("yy-swith-selected"))},i}),define("../../components/tabbarview",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t),this.tabPages={},this.$el.addClass("yy-tabbarview"),this.tabbarWrapper=$("<div class='yy-tabbar flex-h displayflex'></div>"),this.pageWrapper=$("<div class='yy-tabbbar-pages'></div>");var a=t.tabbarStyle;a&&e.css(this.tabbarWrapper,a),this.selectedItem=null,this.curPageInstance=null;var n=this.config.root.length,o=0;this.initLayout(this.datasource,function(e){e.$el.bind("click",function(){s._itemClick(e)}),o+=1,o==n&&s.tabdidmount(),s.tabbarWrapper.append(e.$el)}),this.$el.append(this.pageWrapper),this.tabbarWrapper.appendTo(this.$el)};return e.extends(i,t),i.prototype.tabdidmount=function(){var e=this.config.root[0],t=this.pageview.params.$$pn,i=t||e,s=this.components[i]||this.components[e];this._itemClick(s,!!t)},i.prototype._itemClick=function(e,t){var i=this;if(this.selectedItem===e)return void alert("点了又点");if(this.selectedItem&&this.selectedItem.unSelected(),this.selectedItem=e,this.selectedItem.selected(),this.curPageInstance&&this.curPageInstance.$el.css({left:"-100%"}),this.curPageInstance=this.tabPages[e.config.comKey],this.pageview.showLoadingProgressbar(),this.curPageInstance){this.curPageInstance.$el.css({left:"0"});var s=this.curPageInstance.plugin.onPageResume;s&&s.call(this.curPageInstance.plugin,this.curPageInstance,{isForward:!1}),this.pageview.hideLoadingProgressbar()}else this.pageview.pageManager.getPageConfigByPageKey(e.config.comKey,function(t){i.curPageInstance=i.pageview.pageManager.createPageView(t),i.tabPages[e.config.comKey]=i.curPageInstance,i.pageWrapper.append(i.curPageInstance.$el),i.pageview.hideLoadingProgressbar()});this.pageview.pageManager.tabSeleced(e.config.comKey,t)},i}),define("../../components/text",["utils","base"],function(e,t){var i=function(t){t.style=t.style||{},t.numberofline&&(s=t.numberofline||1),i.baseConstructor.call(this,t);var s;this.$el[0].className.indexOf("yy-ai")>=0?this.$el.addClass("yy-text displayflex "):this.datasource.comHeight?this.$el.addClass("yy-text displayflex"):this.$el.addClass("yy-text displayflex yy-ai-center"),this.config&&"title"===this.config.text_bind&&this.datasource.isTextArea&&this.$el.css("marginTop",10),this.preText=this.config.preText||"",this.preTextDom=$("<span class='yy-pretext'>"+this.preText+"</span>"),this.config.preTextStyle&&e.css(this.preTextDom,this.config.preTextStyle),this.nextText=this.config.nextText||"",this.nextTextDom=$("<span class='yy-nexttext'>"+this.nextText+"</span>"),this.config.nextTextStyle&&e.css(this.nextTextDom,this.config.nextTextStyle),t.text=0===t.text?"0":t.text,this.innerText=$("<span class='yy-inner-text yy-text-box'>"+(t.text||"")+"</span>"),s&&(t.text&&t.text.length>200&&"row_title"!==t.comKey&&(this.innerText=$("<span class='yy-inner-text yy-text-box yy-inner-text_limit'>"+(t.text||"")+"</span>")),this.innerText[0].style["-webkit-line-clamp"]=s,this.innerText[0].style["word-break"]="break-word"),t.$$datasource&&t.$$datasource.taskAuditDesc&&(t.text&&t.text.length>200&&(this.innerText=$("<span class='yy-inner-text yy-text-box yy-inner-text_limit' style='overflow: hidden'>"+(t.text||"")+"</span>")),this.innerText[0].style["word-break"]="break-word"),t.textStyle&&this.innerText.css(t.textStyle),this.$el.append(this.preTextDom).append(this.innerText).append(this.nextTextDom)};return e.extends(i,t),i.prototype.setText=function(e){this.innerText.html(e)},i.prototype.getText=function(){return this.innerText.html()},i.prototype.setPreText=function(e){this.preTextDom.html(e)},i.prototype.setNextText=function(e){this.nextTextDom.html(e)},i.prototype.hideLoading=function(){this.loadingDom&&this.loadingDom.addClass("displaynone")},i.prototype.showLoading=function(){this.loadingDom||(this.loadingDom=$("<div class='preloader yy-text-loading displaynone'></div>"),this.loadingDom.insertBefore(this.preTextDom)),this.loadingDom.removeClass("displaynone")},i}),define("../../components/textarea",["utils","base"],function(e,t){var i=function(t){var s=this;i.baseConstructor.call(this,t);var a=t.placeholder||"";this.input=$("<textarea placeholder='"+a+"'></textarea>"),this.max=this.config.max,(this.config.value||0===this.config.value)&&this.input.val(this.config.value),isNaN(this.max)?this.max=null:this.max=parseInt(this.max),this.$el.addClass("yy-textarea");var n={fontSize:this.config.style.fontSize||this.config.style["font-size"]||"15px",color:this.config.style.color||this.config.style.color||"#262626",backgroundColor:this.config.style.backgroundColor||this.config.style["background-color"]||"white"};if(this.input.css(n),this.input.bind("input",function(e){if(s.max){var t=s.input.val(),i=t.length;i>s.max&&(t=t.substring(0,s.max),i=s.max,s.input.val(t)),s.numDom.html(i)}}),this.max){this.limitDom=$("<span class='yy-textarea-limit'></span>"),this.numDom=$("<span>0</span>"),this.config.numStyle&&e.css(this.numDom,this.config.numStyle);var o=$("<span>/</span>"),r=$("<span>"+this.max+"</span>");this.config.maxStyle&&e.css(r,this.config.maxStyle),this.config.limitStyle&&e.css(this.limitDom,this.config.limitStyle),this.limitDom.append(this.numDom).append(o).append(r),this.$el.append(this.limitDom)}this.$el.append(this.input);var l=t.comKey+"_compositionend",p=s.pageview.plugin[l];p&&this.$el.on("input",function(e){s.$el.prop("comStart")||!s.disabled&&p&&p.call(s.pageview.plugin,s,{e:e})}).on("compositionstart",function(){s.$el.prop("comStart",!0)}).on("compositionend",function(e){s.$el.prop("comStart",!1),!s.disabled&&p&&p.call(s.pageview.plugin,s,{e:e})});var c=t.comKey+"_input",h=s.pageview.plugin[c];h&&this.input.bind("input",function(e){!s.disabled&&h&&h.call(s.pageview.plugin,s,{e:e})}),$(this.input).bind("keydown",function(e){13==e.keyCode&&(e.preventDefault(),this.value+="\n",this.scrollTop=this.scrollHeight)})};return e.extends(i,t),i.prototype.getValue=function(){var e=this.input.val().replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]|[\uD800-\uDBFF]|[\uDC00-\uDFFF]/g,"");return this.setValue(e),e},i.prototype.setDisabled=function(e){this.disabled=e,this.disabled?(this.input.attr("disabled","disabled"),this.$el.addClass(this.disabledClassName)):(this.input.removeAttr("disabled"),this.$el.remove(this.disabledClassName))},i.prototype.setValue=function(e){if(this.max){var t=e.length;t>this.max&&(e=e.substring(this.max),t=this.max),this.numDom.html(t)}this.input.val(e)},i.prototype.blur=function(){this.input.blur()},i.prototype.focus=function(e){var t=this;t.input&&t.input.focus()},i}),define("../../components/textareadialog",["utils","base"],function(e,t){var i=function(t){var i=this,s=t.wrapper||$(document.body),a=t.mode||1,n=t.className;this.dialogBackCover=$("<div style='visibility: hidden;' class='yy-dialog-bk'></div>"),this.dialogWrapper=$("<div class='yy-dialog-wrapper yy-dialog-effect-"+a+" yy-dialog-hide + "+n+"'></div>");var o=$("<div class='yy-dialog-inner'></div>"),r=$("<div class='yy-dialog-body'></div>"),l="row"===t.btnDirection?"yy-fd-row":"yy-fd-column",p=$("<div class='yy-dialog-btn-wrapper displayflex "+l+"'></div>");this.dialogBackCover.bind("click",function(){i.hide()});var c=t.title||"",h=e.getLanguageText("example");if(this.input=$("<textarea placeholder='"+h+"' style='width: 94%;margin-left: 3%;height: 100px;font-size: 13px;padding: 6px;outline: none;resize: none;border: 1px solid #e6e6e6;-webkit-tap-highlight-color: transparent;tap-highlight-color:transparent;-webkit-appearance: none;appearance: none'></textarea>"),this.titleDom=$("<div class='yy-dialog-title' style='font-weight: bold;color: #333;font-size: 16px'>"+c+"</div>"),r.append(this.titleDom).append(this.input),t.buttons)for(var d=0,u=t.buttons.length;d<u;d++){var g=t.buttons[d],c=g.title||"按钮",f=g.style,y=g.onClick;!function(t,i,s,a,n){var o=$("<div class='yy-dialog-btn yy-flex-1 displayflex yy-jc-center yy-ai-center'>"+t+"</div>");i&&e.css(o,i),a&&o.bind("click",function(e){a()}),s.append(o)}(c,f,p,y)}o.append(r).append(p),this.dialogWrapper.append(o),s.append(this.dialogWrapper).append(this.dialogBackCover)};return i.prototype.show=function(){var e=this;this.dialogWrapper.css({visibility:"visible"}),this.dialogBackCover.css({visibility:"visible"}),this.dialogBackCover.addClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.removeClass("yy-dialog-hide").addClass("yy-dialog-show")},1)},i.prototype.hide=function(){var e=this;this.dialogWrapper.removeClass("yy-dialog-show").addClass("yy-dialog-hide"),this.dialogBackCover.removeClass("yy-dialog-bk-show"),window.setTimeout(function(){e.dialogWrapper.css({visibility:"hidden"}),e.dialogBackCover.css({visibility:"hidden"})},200)},i.prototype.getValue=function(){return this.input.val()},i}),define("../../components/timepicker",["utils"],function(e){var t=function(e){var t=e.root.itemHeight;this.$el=$("<div style='height:"+t+"px' class='yy-tp-cell'>1</div>")},i=function(t){this.config=t,this.itemHeight=t.root.itemHeight,this.$el=$("<div class='yy-tp-column yy-flex-1'></div>"),this.innerWrapper=$("<div data-math='"+10*Math.random()+"' class='yy-tp-column-inner'></div>"),this.innerWrapper.appendTo(this.$el),this.tanKeys=e.getTransitionKeys(),this.initLayout(),this.diff=0,this.startPosY=0,this.posY=0,this.selectedIndex=0};i.prototype={initLayout:function(){for(var e=0;e<20;e++){var i=new t(this.config);this.innerWrapper.append(i.$el)}},touchStart:function(e){this.startPosY=e.touches[0].pageY,this.diff=0},touchMove:function(e){e.preventDefault(),e.stopPropagation();var t=e.touches[0];this.diff=t.pageY-this.startPosY,this.curY=this.posY+this.diff;var i={};i[this.tanKeys.transition]="none",i[this.tanKeys.transform]="translate3d(0,"+this.curY+"px,0)",this.innerWrapper.css(i)},touchEnd:function(){this.posY=this.curY,this.diff>0?console.log("向下"):console.log("向上")}};var s=function(t){var s=t.wrapper||$(document.body);this.$el=$("<div class='yy-tp-wrapper'></div>"),this.itemHeight=parseInt(e.getRealHeight(36));var a=4*this.itemHeight;this.body=$("<div style='height:"+a+"px' class='yy-tp-body displayflex yy-fd-row'></div>"),this.columns=[];for(var n=0;n<3;n++){var o=new i({root:this});this.columns.push(o),this.body.append(o.$el)}var r=$("<div style='height:"+this.itemHeight+"px;top:"+this.itemHeight+"px' class='yy-tp-indicator'></div>");this.body.append(r),this.$el.append(this.body),s.append(this.$el),this.initEvent()};return s.prototype={initEvent:function(){var t=this;this.body.bind("touchstart",function(i){t.curTouchColumnIndex=Math.floor(i.touches[0].pageX*t.columns.length/e.viewport.width),t.columns[t.curTouchColumnIndex].touchStart(i)}),this.body.bind("touchmove",function(e){t.columns[t.curTouchColumnIndex].touchMove(e)}),this.body.bind("touchend",function(){t.columns[t.curTouchColumnIndex].touchEnd()})}},s}),define("../../components/tip",["utils"],function(e){var t=function(e,t){var i=this;e=e||$(document.body),this.tipWrapper=t?$("<div class='yy-tip displayflex jc-center ai-center displaynone' style='position:absolute;left: 80px;transform: rotate(90deg)'></div>"):$("<div class='yy-tip displayflex jc-center ai-center displaynone'></div>"),this.textDom=$('<div class="yy-tip-text displaynone"></div>'),this.backCover=$('<div class="yy-tip-backcover displaynone"></div>'),this.backCover.bind("click",function(){i.clickBackCover()}),this.tipWrapper.append(this.textDom),e.append(this.tipWrapper).append(this.backCover),this.hideTimeoutId=null};return t.prototype={show:function(t){var i=this;this.textPos=t.textPos||"bottom","left"==this.textPos||"right"==this.textPos?this.tipWrapper.addClass("flex-h"):this.tipWrapper.addClass("flex-v");var s=t.pos||"center";this.config=t,this.hideTimeoutId&&window.clearTimeout(this.hideTimeoutId),t=t||{};var a=t.style;a&&this.tipWrapper.css(e.processStyle(a)),this._setText(t.text,t.textStyle),
this._setIcon(t.font,t.iconStyle),this.config.withoutBackCover||this.backCover.removeClass("displaynone"),this.startClass="yy-tip-ani-"+s+"-start",this.tipWrapper.removeClass("displaynone").addClass(this.startClass),window.setTimeout(function(){i.endClass="yy-tip-ani-"+s+"-end",i.tipWrapper.addClass(i.endClass)},3),t.duration&&!isNaN(t.duration)&&(this.hideTimeoutId=window.setTimeout(function(){i.hide()},parseInt(t.duration)))},_setText:function(t,i){t?(this.textDom.removeClass("displaynone"),i&&this.textDom.css(e.processStyle(i)),this.textDom.html(t)):this.textDom.addClass("displaynone")},_setIcon:function(t,i){this.iconDom&&this.iconDom.remove();var s,a;t=t||"";var n=t.split("_");2==n.length?(s=n[0],a=n[1],this.iconDom=$('<i class="yy-tip-icon displayflex jc-center ai-center yy-icon-code displaynone" data-icon="&#x'+a+';"></i>'),i&&this.iconDom.css(e.processStyle(i)),this.iconDom.removeClass("displaynone"),this.iconDom.css({"font-family":s}),"top"==this.textPos||"left"==this.textPos?this.iconDom.appendTo(this.tipWrapper):this.iconDom.insertBefore(this.textDom)):this.icomDom&&this.iconDom.addClass("displaynone")},clickBackCover:function(){this.config.clickNoHide||(this.hideTimeoutId&&window.clearTimeout(this.hideTimeoutId),this.hide())},hide:function(){var e=this;this.tipWrapper.removeClass(this.endClass),window.setTimeout(function(){e.tipWrapper.addClass("displaynone").removeClass(e.startClass),e.tipWrapper.remove(),e.backCover.remove()},300),e.backCover.addClass("displaynone")}},t}),define("../../components/view",["utils","base"],function(e,t){function i(){var e=window.navigator.userAgent,t=e.match(/(iPad|iPhone|iPod)\s+OS\s([\d_\.]+)/);return t&&t[2]&&parseInt(t[2].replace(/_/g,"."),10)>=6}function s(t){var i=this;this.isIOS=e.deviceInfo().isIOS,this.hasFixed=!1,this.isSticky=!1;var a="displayflex yy-view";t.style&&(!t.style.alignItems&&t.style["align-items"],t.style.justifyContent||t.style["justify-content"]||(a+=" yy-jc-flex-start"),t.style.flexDirection||t.style["flex-direction"]||(a+=" yy-fd-column")),this.LoadMoreWrapper=$("<div style='height:"+e.getRealHeight(36)+"px' class='yy-loadmore-wrapper displayflex yy-jc-center yy-ai-center flex-h displaynone'></div>"),s.baseConstructor.call(this,t),this.stickyHeaderIndices=this.config.stickyHeaderIndices,i.isInLoading=!1,i.canRefresh=!1;var n=this.config.comKey+"_pulltorefresh",o=this.config.comKey+"_canpulltorefresh";this.pluginCanPullToRefreshMethod=this.pageview.plugin[o];var r=this.config.comKey+"_loadmore";this.pluginPullToRefreshMethod=this.pageview.plugin[n],this.pluginLoadMoreMethod=this.pageview.plugin[r];var l=this.config.comKey+"_reload";this.pluginLoadMoreErrorToReloadMethod=this.pageview.plugin[l],this.pluginPullToRefreshMethod&&(this.innerWrapper=$("<div class='yy-view-innerwrapper yy-fd-column"+a+"'></div>"),this.$el.css({zIndex:1}),this.$$childrenWrapper=this.innerWrapper,this._initLoadFirstErrorDom(),this._initPullToRefreshDom(),this.$el.append(this.innerWrapper)),this._initTouchEvent(),this.LoadMoreOffsetBottom=e.getRealHeight(120),this.$el.addClass(a),t.root=t.root||[],this.initLayout(t.$$datasource,null,this.rowInstance,function(){i.childInitOver()})}return e.extends(s,t),s.prototype.scrollTop=function(e){if(!e)return this.$el.scrollTop();this.$el.scrollTop(e)},s.prototype.hideLoadMore=function(){this.LoadMoreWrapper&&this.LoadMoreWrapper.addClass("displaynone")},s.prototype.showLoadMore=function(){this.LoadMoreWrapper&&this.LoadMoreWrapper.removeClass("displaynone")},s.prototype._initPullToRefreshDom=function(){var t=e.getRealHeight(40),i=e.getRealWidth(11),s=e.getRealWidth(15);this.pullLimitHeight=e.getRealHeight(40),this.pullToRefreshWrapper=$("<div style='height:"+t+"px;margin-top:-"+t+"px' class='yy-pull-wrapper'></div>"),this.pullMessWrapper=$("<div style='height:"+this.pullLimitHeight+"px' class='displayflex yy-jc-center yy-ai-center flex-h yy-pull-mes-wrapper'></div>"),this.pullArrowIcon=$("<i style='font-size:"+s+"px' class='yy-pull-arrow'></i>"),this.pullMesLabel=$("<span style='font-size:"+i+"px' class='yy-pull-meslabel'>"+e.getLanguageText("pullToRefresh")+"</span>");var a=$("<div class='preloader yy-pull-loadingicon'></div>");this.pullMessWrapper.append(a).append(this.pullArrowIcon).append(this.pullMesLabel).appendTo(this.pullToRefreshWrapper),this.innerWrapper.append(this.pullToRefreshWrapper)},s.prototype._initLoadMoreDom=function(){var t=(e.getRealHeight(36),e.getRealWidth(11)),i=$("<div class='preloader yy-loadmore-loadingicon'></div>");this.loadMoreLabel=$("<span style='font-size:"+t+"px' class='yy-pull-meslabel'>"+e.getLanguageText("loading")+"</span>"),this.LoadMoreWrapper.append(i).append(this.loadMoreLabel),this.$el.append(this.LoadMoreWrapper)},s.prototype._initLoadMoreErrorDom=function(){var t=this,i=e.getRealHeight(42),s=e.getRealWidth(11),a=e.getRealWidth(15);this.LoadMoreErrorWrapper=$("<div style='height:"+i+"px' class='yy-loadmore-wrapper displayflex yy-jc-center yy-ai-center flex-h displaynone'></div>");var n=$("<i style='font-size:"+a+"px' class='yy-icommon yy-loadmore-erroricon'></i>");this.loadErrorLabel=$("<span style='font-size:"+s+"px' class='yy-pull-meslabel'>"+e.getLanguageText("NetworkError")+"</span>");var o=$("<span style='font-size:"+s+"px' class='yy-loadmore-reload-babel'>"+e.getLanguageText("reLoading")+"</span>");o.bind("click",function(){t.pluginLoadMoreErrorToReloadMethod&&t.pluginLoadMoreErrorToReloadMethod.call(t.pageview.plugin,t,{})}),this.LoadMoreErrorWrapper.append(n).append(this.loadErrorLabel).append(o),this.$el.append(this.LoadMoreErrorWrapper)},s.prototype._initLoadFirstErrorDom=function(){var t=e.getRealHeight(36),i=e.getRealWidth(11),s=e.getRealWidth(15);this.LoadFirstErrorWrapper=$("<div data-mark='loadfirsterror' style='height:"+t+"px' class='yy-loadfirsterror-wrapper displayflex yy-jc-center yy-ai-center flex-h displaynone'></div>");var a=$("<i style='font-size:"+s+"px' class='yy-icommon yy-loadmore-erroricon'></i>");this.loadFirstErrorLabel=$("<span style='font-size:"+i+"px' class='yy-pull-meslabel'>"+e.getLanguageText("networkerrorLoading")+"</span>"),this.LoadFirstErrorWrapper.append(a).append(this.loadFirstErrorLabel),this.$el.append(this.LoadFirstErrorWrapper)},s.prototype._initTouchEvent=function(){var t=this;if(this.pluginPullToRefreshMethod){var i,s=0;this.$el.bind("touchstart",function(e){if(!0!==t.config.onlyForSticky&&!t.isInLoading){t.isInLoading=!1,t.canRefresh=!1;var a=e.touches[0];s=a.pageY,i=t.$el.scrollTop()}}),this.$el.bind("scroll",function(e){t.pageview.refs.searchInput&&!t.pageview.refs.searchInput.$el.find("input").val()&&(t.pageview.refs.searchInput.$el.addClass("yy-sv-input-hide"),$(t.pageview.refs.searchInput.clearBtn[0]).addClass("displaynone"))}),this.$el.bind("touchmove",function(a){if(!0!==t.config.onlyForSticky&&!t.isInLoading){var n=a.touches[0],o=n.pageY,r=o-s;if(r>0){if(t.pluginCanPullToRefreshMethod){if(!0!==t.pluginCanPullToRefreshMethod.call(t.pageview.plugin,t))return}if(t.$el.scrollTop()<=0){t.$el.css({overflow:"hidden"}),a.preventDefault(),a.stopPropagation();var l=r-i;t.pageview.refs.searchInput&&(t.pageview.refs.searchInput.$el.hasClass("yy-sv-input-hide")?t.pageview.refs.searchInput.$el.removeClass("yy-sv-input-hide"):t.pageview.refs.searchInput.$el.show()),l>4*t.pullLimitHeight?(t.pullMesLabel.html(e.getLanguageText("releaseToUpdate")),t.pullToRefreshWrapper[0].className="yy-pull-wrapper yy-release-refresh",t.canRefresh=!0):(t.pullMesLabel.html(e.getLanguageText("pullToRefresh")),t.pullToRefreshWrapper[0].className="yy-pull-wrapper yy-push-refresh",t.canRefresh=!1),t.innerWrapper.css(e.processTransitionTanformStyle("none","translate3d(0,"+l/3+"px,0)"))}}}}),this.$el.bind("touchend",function(e){if(!0===t.config.onlyForSticky)return void t.resetPullLoadState();!0===t.config.noScroll||t.$el.css({"overflow-y":"auto"}),t.isInLoading||(t.canRefresh?(t.setPullLoadingState(),t.pluginPullToRefreshMethod&&t.pluginPullToRefreshMethod.call(t.pageview.plugin,t,{})):t.resetPullLoadState())})}},s.prototype.refreshStickyHeaderIndices=function(){var e=this;this.stickyHeaderIndicesComponent&&window.setTimeout(function(){e.navOffsetY=e.stickyHeaderIndicesComponent.$el[0].offsetTop},150)},s.prototype.childInitOver=function(){var e,t=this;this.stickyHeaderIndices&&(e=this.components[this.stickyHeaderIndices],this.stickyHeaderIndicesComponent=e,this.stickyHeaderIndicesIndex=e.$el.index()),this.pluginLoadMoreMethod&&(this._initLoadMoreDom(),this._initLoadMoreErrorDom(),this.scrollTimeId=null),null==e||this.pluginLoadMoreMethod?this.pluginLoadMoreMethod&&e?(this.stickyComHeight=e.$el.height(),this.isSupportSticky=i(),this.isSupportSticky?e.$el.addClass("sticky"):t.toFixedComponent(e),this.$el.bind("scroll",function(i){t.triggerLoadMore(),t.isSupportSticky||t.toFixedComponent(e)})):this.pluginLoadMoreMethod&&this.$el.bind("scroll",function(e){t.triggerLoadMore()}):(this.stickyComHeight=e.$el.height(),this.isSupportSticky=i(),this.isSupportSticky?e.$el.addClass("sticky"):t.toFixedComponent(e),this.$el.bind("scroll",function(i){this.isSupportSticky||t.toFixedComponent(e)}))},s.prototype.toFixedComponent=function(e){this.clientRect||(this.clientRect=this.$el[0].getBoundingClientRect()),this.hasFixed||(this.navOffsetY=e.$el[0].offsetTop),this.$el.scrollTop()>this.navOffsetY+20?(this.hasFixed=!0,e.$el.addClass("fixed")):e.$el.removeClass("fixed")},s.prototype.triggerLoadMore=function(e){var t=this;t.scrollTimeId&&window.clearTimeout(t.scrollTimeId),t.scrollTimeId=window.setTimeout(function(){t._onScroll(e)},80)},s.prototype.setPullLoadingState=function(){var t=this;t.pullMesLabel&&(t.isInLoading=!0,t.LoadMoreErrorWrapper&&t.LoadMoreErrorWrapper.addClass("displaynone"),t.LoadFirstErrorWrapper.addClass("displaynone"),this.loadErrorWrapWhenNoPullRefrsh&&this.loadErrorWrapWhenNoPullRefrsh.addClass("displaynone"),t.pullMesLabel.html(e.getLanguageText("loading")),t.pullToRefreshWrapper[0].className="yy-pull-wrapper yy-push-refreshing",t.innerWrapper.css(e.processTransitionTanformStyle("transform .2s ease","translate3d(0,"+t.pullLimitHeight+"px,0)")))},s.prototype.resetPullLoadState=function(){var t=this;t.pullMesLabel&&(t.isInLoading=!1,t.canRefresh=!1,t.pullMesLabel.html(e.getLanguageText("pullToRefresh")),t.pullToRefreshWrapper[0].className="yy-pull-wrapper yy-push-refresh",t.innerWrapper.css(e.processTransitionTanformStyle("transform .3s ease","translate3d(0,0,0)")))},s.prototype.setLoadFirstError=function(){var t=this;if(this.LoadFirstErrorWrapper)this.LoadFirstErrorWrapper.removeClass("displaynone");else{if(!this.loadErrorWrapWhenNoPullRefrsh){var i=e.getRealHeight(42),s=e.getRealWidth(11),a=e.getRealWidth(15);this.loadErrorWrapWhenNoPullRefrsh=$("<div style='height:"+i+"px' class='yy-loadmore-wrapper displayflex yy-jc-center yy-ai-center flex-h displaynone'></div>");var n=$("<i style='font-size:"+a+"px' class='yy-icommon yy-loadmore-erroricon'></i>");this.loadErrorLabelWhenNoPullRefrsh=$("<span style='font-size:"+s+"px' class='yy-pull-meslabel'>"+e.getLanguageText("NetworkError")+"</span>");var o=$("<span style='font-size:"+s+"px' class='yy-loadmore-reload-babel'>"+e.getLanguageText("reLoading")+"</span>");o.bind("click",function(){t.pluginLoadMoreErrorToReloadMethod&&t.pluginLoadMoreErrorToReloadMethod.call(t.pageview.plugin,t,{})}),this.loadErrorWrapWhenNoPullRefrsh.append(n).append(this.loadErrorLabelWhenNoPullRefrsh).append(o),this.$el.append(this.loadErrorWrapWhenNoPullRefrsh)}this.loadErrorWrapWhenNoPullRefrsh.removeClass("displaynone")}this.resetPullLoadState()},s.prototype.setCanLoadMore=function(t){this.loadMoreLabel&&(t&&t.isReload?this.canLoadMore=!1:this.canLoadMore=!0,this.loadMoreLabel.html(e.getLanguageText("loading")),this.LoadMoreErrorWrapper.addClass("displaynone"),this.LoadFirstErrorWrapper&&this.LoadFirstErrorWrapper.addClass("displaynone"),this.loadErrorWrapWhenNoPullRefrsh&&this.loadErrorWrapWhenNoPullRefrsh.addClass("displaynone"),this.LoadMoreWrapper.removeClass("displaynone yy-loaddone"))},s.prototype.setHasLoadDone=function(){this.loadMoreLabel&&(this.canLoadMore=!1,this.loadMoreLabel.html(e.getLanguageText("showDone")),this.LoadFirstErrorWrapper&&this.LoadFirstErrorWrapper.addClass("displaynone"),this.loadErrorWrapWhenNoPullRefrsh&&this.loadErrorWrapWhenNoPullRefrsh.addClass("displaynone"),this.LoadMoreErrorWrapper.addClass("displaynone"),this.LoadMoreWrapper.addClass("yy-loaddone").removeClass("displaynone"))},s.prototype.setHasLoadDone1=function(){this.pullToRefreshWrapper[0].className="yy-pull-wrapper"},s.prototype.setInitLoadMessage=function(){this.loadMoreLabel&&(this.LoadFirstErrorWrapper&&this.LoadFirstErrorWrapper.addClass("displaynone"),this.loadErrorWrapWhenNoPullRefrsh&&this.loadErrorWrapWhenNoPullRefrsh.addClass("displaynone"),this.LoadMoreErrorWrapper.addClass("displaynone"),this.LoadMoreWrapper.addClass("yy-loaddone displaynone"))},s.prototype.setLoadMoreErrorState=function(){this.canLoadMore=!1,this.resetPullLoadState(),this.LoadMoreWrapper.addClass("displaynone"),this.LoadMoreErrorWrapper.removeClass("displaynone"),this.scrollToBottom()},s.prototype.scrollToBottom=function(){this.$el.scrollTop(this.$el[0].scrollHeight)},s.prototype._onScroll=function(e){this.canLoadMore&&this.$el[0].offsetHeight+this.$el.scrollTop()+this.LoadMoreOffsetBottom>=this.$el[0].scrollHeight&&(this.canLoadMore=!1,this.pluginLoadMoreMethod.call(this.pageview.plugin,this,{}))},s}),define("../../components/viewpager",["utils","base"],function(e,t){function i(e){var t=this;i.baseConstructor.call(this,e),this.autoHeight=e.autoHeight,this.$el.addClass("yy-viewpager"),this.autoHeight&&this.$el.addClass("yy-autoheight-viewpager"),this.height=0,this.items={},this.paramsDict={};var s=e.defaultKey;s||console.error("viewpager控件为提供defalutKey属性"),this.curPageViewItem=null,this._getViewPagerItem(s,this.config.params||{},function(e){t.curPageViewItem=e},function(){})}var s=function(e){s.baseConstructor.call(this,e),this.$el.addClass("displayflex yy-viewpager-item"),this.contentInstance=e.contentInstance,this.$el.append(e.contentInstance.$el)};return e.extends(s,t),s.prototype.hide=function(){e.css(this.$el,{display:"none"})},s.prototype.show=function(){e.css(this.$el,{display:"block"})},e.extends(i,t),i.prototype._createViewPagerItem=function(e,t,i,a){var n=new s({type:"viewpageritem",contentType:t,contentInstance:i,$$pageview:this.pageview,$$datasource:this.datasource,$$parent:this});this.items[e]=n,this.$el.append(n.$el),a(n)},i.prototype.showItem=function(e,t){var i=this;this.paramsDict[e]=t,this._getViewPagerItem(e,t,function(e){i.curPageViewItem&&(i.curPageViewItem.contentInstance.plugin.onHideItem&&i.curPageViewItem.contentInstance.plugin.onHideItem(i,t),i.curPageViewItem.hide()),i.curPageViewItem=e,i.curPageViewItem.contentInstance.plugin.onShowItem&&i.curPageViewItem.contentInstance.plugin.onShowItem(i,t),i.curPageViewItem.show()},function(){})},i.prototype._getViewPagerItem=function(e,t,i,s){var a=this,n=this.items[e];if(n){if(n.contentInstance.plugin){n.contentInstance.viewpagerParams=t;var o=n.contentInstance.plugin.onPageResume;o&&o.call(n.contentInstance.plugin,n.contentInstance,{})}return void i(n)}var r=e.split("_")[0];this.pageview.config.components[r];this.pageview.pageManager.getPageConfigByPageKey(r,function(s){s.viewpagerParams=t,s.viewpager=a,s.fullPageKey=e;var n=a.pageview.pageManager.createPageView(s);a._createViewPagerItem(e,"pageview",n,i)},function(){s&&s()})},i}),define("parts/language",[],function(){var e=navigator.language||"zh-CN";"tw"==e.toLowerCase()&&(e="zh-CN"),e=/^zh/.test(e)?"zh-CN":/^en/.test(e)?"en":/^es/.test(e)?"es":e;return"zh-CN"===e?{iconUrl:{refuse:"./imgs/refuse.png",agreee:"./imgs/agree.png"},formTips:{tasksToProcess:" 待审批 ",tasksProcessed:" 已审批 ",onLoading:" 加载中... ",formDetail:" 详情 ",processDetail:" 流程 ",attachment:" 附件 ",noAttachment:" 暂无附件 ",noContent:" 暂无内容 ",SubmitApplication:" 提交申请 ",delete:" 删除中... ",going:" 审批中 ",deleteSuccess:" 删除成功！ ",deleteFail:" 删除失败，稍后再试 ",makeSureDeleteFile:"确定要删除该附件吗? ",approvalSucess:"审批成功",rejectSucess:"驳回成功"},formAction:{agree:" 批准 ",attaContributor:" 贡献者：",reject:" 驳回 ",cancel:" 取消 ",confirm:" 确认 ",clear:" 清除 "}}:{iconUrl:{refuse:"./imgs/refuse_e.png",agreee:"./imgs/agree_e.png"},formTips:{tasksToProcess:" Pending ",tasksProcessed:" Approved ",onLoading:" Loading... ",formDetail:" Form ",processDetail:" Process ",attachment:" Attachment ",noAttachment:" No Attachment ",noContent:" No Content ",SubmitApplication:" Submitted an application ",delete:" Deleting... ",going:" In Approval Process ",deleteSuccess:" Delete Success ",deleteFail:" Delete Fail, Please try again later ",makeSureDeleteFile:"Are you sure you wish to delete this attachment? ",approvalSucess:"Approval Success",rejectSucess:" Reject Success"},formAction:{agree:" Consent ",attaContributor:" Contributor：",reject:" Reject ",cancel:" Cancel ",confirm:" Confirm ",clear:" Clear "}}}),define("logic/commonlist",["utils","../parts/language"],function(e,t){function i(e){this.pageview=e.pageview,this.fullPageKey=this.pageview.config.fullPageKey,this.listDataSource=[],this.searchValue=!1,this.searchKey=!0}return i.prototype={body_init:function(e){this.body=e},searchBtn_click:function(e,t){this.pageview.refs.leftview.$el.hide(),this.pageview.refs.searchInput.$el.show(),this.pageview.refs.searchInput._focus(),this.pageview.refs.approveSelector.hideDropDown()},searchview_init:function(e,t){e.config.style.display="none"},nodata_init:function(e,i){e.config.text=t.formTips.noContent},searchInput_cancel:function(e,t){(t.value||this.searchValue)&&(this.searchValue=!1,e.input.val(""),this.listviewSender.config.ajaxConfig.data.keyword="",this.pageview.refs.listview.loadFirstPageData({parentAnimate:!0})),this.pageview.refs.searchInput.$el.hide()},searchInput_search:function(e,t){t.value&&(this.searchValue=!0),this.pageview.refs.listview.ajaxConfig.data.start=0,this.pageview.refs.listview.ajaxConfig.data.pageNum=1,this.listviewSender.config.ajaxConfig.data.categoryIds=null,this.listviewSender.config.ajaxConfig.data.keyword=t.value,this.pageview.refs.listview.loadFirstPageData({parentAnimate:!0})},onPageResume:function(){this.pageview.refs.listview.ajaxConfig.data.start=0,this.pageview.refs.listview.ajaxConfig.data.pageNum=1,"commonlist_myapproverunning"===this.fullPageKey&&!0===window.needRefresMyApproveListData&&(window.needRefresMyApproveListData=!1,this.pageview.refs.listview.loadFirstPageData({parentAnimate:!0})),"commonlist_copyapprove"===this.fullPageKey&&!0===window.needRefresCopyApproveListData&&(window.needRefresCopyApproveListData=!1,this.pageview.refs.listview.loadFirstPageData({parentAnimate:!0}))},body_pulltorefresh:function(e,t){this.pageview.refs.listview.ajaxConfig.data.start=0,this.pageview.refs.listview.ajaxConfig.data.pageNum=1,this.pageview.refs.listview.setAjaxConfigParams(),this.pageview.refs.listview.loadFirstPageData()},body_reload:function(e){this.pageview.refs.listview.reload()},body_loadmore:function(e,t){var i=this.pageview.refs.listview.ajaxConfig.data.size,s=this.pageview.refs.listview.ajaxConfig.data.start,a=i+s;this.pageview.refs.listview.ajaxConfig.data.start=a,this.pageview.refs.listview.ajaxConfig.data.pageNum++,this.pageview.refs.listview.setAjaxConfigParams(),this.pageview.refs.listview.loadNextPageData()},listview_parsedata:function(e,t){var i=t.data;return 500===i.code&&(i.data||(i.data=[]),i.data)},listview_init:function(e){var t="";e.config.style.marginTop=5,t="/process/listTodo",this.listviewSender=e,e.config.ajaxConfig={url:t,type:"GET",pageSize:10,pageNumKey:"pageNum",data:{pageNum:1,start:0,size:10}},e.config.autoLoadData=!0},row_status_init:function(e,i){e.config.text=t.formTips.going,e.config.style.color="rgb(231, 167, 87)"},row_title_init:function(e,t){e.config.text=e.datasource.title},row_time_init:function(t,i){t.datasource.date&&(t.config.text=e.timestampToTimeStr(t.datasource.date,!0))},listview_rowclick:function(e,t){this.pageview.go("detail",{taskId:e.datasource.taskid,userid:e.datasource.cuserId,billId:e.datasource.billId,billtype:e.datasource.billType})}},i}),define("parts/common",["utils","md5"],function(e,t){var i=/(\.thumb\.jpg|\.middle\.jpg|\.big\.jpg)$/;return{thumbImg:function(e){return e&&e.replace(i,".thumb.jpg")||"#"},descColor:"#666666",backColor:"#f7f7f7",mainColor:"#29B6F6",seTitleColor:"#999999",labelColor:"#666666",titleColor:"#333333",HeadColor:"#37B7FD",ADDITIONAL_FORM_DATA:"ADDITIONAL_FORM_DATA",replaceUrl:function(e,t,i){var s,a=window.location.href.split("taskId="+e);s=1===a.length?window.location.href+"&taskId="+t:window.location.href.split("taskId="+e).join("taskId="+t),i.pageManager.preventHasChange(),window.location.replace(s)},gotoDetail:function(e,t){var i=t.params.token,s=t.pageManager.appConfig.taskhost+"/dist/index.html#TaskDetailView?token="+i+"&taskId="+(e.datasource.mirrorId||e.datasource.id);window.location.href=s},MoneyDX:function(e){var t="",i="仟佰拾万仟佰拾亿仟佰拾万仟佰拾元角分",s="";if(!e||0==e)return"";0===(e+"").indexOf("-")&&(e=e.slice(1)),(e+"").indexOf(",")>0&&(e=e.replace(",","")),e+="00";var a=e.indexOf(".");a>=0&&(e=e.substring(0,a)+e.substr(a+1,2)),i=i.substr(i.length-e.length);for(var n=0;n<e.length;n++)t+="零壹贰叁肆伍陆柒捌玖".substr(e.substr(n,1),1)+i.substr(n,1);return s=t.replace(/零角零分$/,"整").replace(/零[仟佰拾]/g,"零").replace(/零{2,}/g,"零").replace(/零([亿|万])/g,"$1").replace(/零+元/,"元").replace(/亿零{0,3}万/,"亿").replace(/^元/,"零元"),s=s.replace(/零分/,""),s.replace(/零角/,"零")},customTimestamp:function(t,i,s){var a="";try{t=parseFloat(t);var n=new Date(t),o=new Date,r=o.getTime(),l=e.getDateInfo(n),p=e.getDateInfo(o);r=parseInt((r-t)/1e3),a=p.year===l.year&&p.day===l.day&&p.month===l.month&&s?"今天 "+this.formatTime(n,"hh:mm"):i?this.formatTime(n,i):this.formatTime(n,"yyyy-MM-dd hh:mm")}catch(e){}return a},formatTime:function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in i)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return t},sumVal:function(e,t){for(var i=[],s=0,a=0,n=0,o=0,r=e.length;o<r;o++)if(void 0!==e[o]){var l=e[o].toString(),p=l.split(".");2===p.length&&(a=p[1].length)>n&&(n=a);try{l=parseFloat(l),isNaN(l)||i.push(l)}catch(e){}}if(n>0){for(var c=Math.pow(10,n),h=0,d=i.length;h<d;h++)s+=Math.round(i[h]*c*1e3)/1e3;s/=c}else for(var u=0,g=i.length;u<g;u++)s+=i[u];return t>=1?s.toFixed(t):parseInt(s)},avgVal:function(e,t){var i=this.sumVal(e),s=0;return e.length&&(s=i/e.length),t>=1?s.toFixed(t):parseInt(s)},maxVal:function(e){var t=[];return e.forEach(function(e){t.push(e)}),Math.max.apply(Math,t)},minVal:function(e){var t=[];return e.forEach(function(e){t.push(e)}),Math.min.apply(Math,t)},thousandthValue:function(e){var t=/(-?\d)(\d{3})/;if(e){for(e+="";t.test(e);)e=e.replace(t,"$1,$2");return e}}}}),define("pages/commonlist",["../logic/commonlist","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:t.backColor},root:["body"],components:{body:{type:"view",style:{flex:1,overflowY:"auto",overflowX:"hidden"},root:["listview"]},icons:{type:"icon",font:"ap_e903"},searchview:{type:"view",root:["leftview","searchInput"],style:{width:"100%"}},leftview:{type:"view",ref:!0,root:["selectItem","searchBtn"]},selectItem:{type:"view",ref:!0,root:["approveSelector"],style:{background:"#fff",width:331}},approveSelector:{type:"conditionselector",mode:1,ref:!0,menu1ClassName:"approveSelector",style:{backgroundColor:"#fff",borderBottom:"1px solid #e2e8ed"},items:["全部状态","全部时间","全部类型"],menu0LabelKey:"name",menu1LabelKey:"name",menu2LabelKey:"name",menu0selectedKey:0,menu1selectedKey:0,menu2selectedKey:0,menu2LeftStyle:{width:90},menu1Style:{minHeight:40},menu2Style:{minHeight:40},menu0Style:{minHeight:40},menu0Col:2},searchBtn:{type:"icon",ref:!0,font:"cap_e90c",style:{borderBottom:"solid 1px #e2e8ed",backgroundColor:"#fff",color:"#ccc",width:45,position:"absolute",right:0,top:0,bottom:0}},searchInput:{cancelBtnStyle:{color:"#37B7FD",fontSize:15},style:{backgroundColor:"#fff",display:"none"},iconStyle:{},placeholder:"搜索标题",font:"ap_e903",ref:!0,type:"simplesearchview"},searchInput1:{cancelBtnStyle:{color:"#37B7FD",fontSize:15},style:{backgroundColor:"#fff",display:"none"},iconStyle:{},placeholder:"搜索标题",font:"ap_e903",ref:!0,type:"simplesearchview"},nodata:{ref:"true",type:"icon",text:"暂无内容",textPos:"bottom",src:"./imgs/yunshen_nodata.png?v=1",textStyle:{fontSize:"15px",color:"#ADADAD",paddingLeft:11,paddingTop:10},style:{width:"100%",alineItems:"center",justifyContent:"center",backgroundColor:"#F7F7F7",paddingTop:180},iconStyle:{w:80,h:80}},listview:{ref:!0,type:"listview",nodata:"nodata",itemClassName:"bottom-half-line",rowStyle:{flexDirection:"row",paddingTop:12,paddingBottom:12},style:{flexDirection:"column"},root:["row_mide","row_right"]},row_mide:{type:"view",ref:!0,style:{flex:1,flexDirection:"column",justifyContent:"center",paddingLeft:15},root:["row_title","row_feature_repeat"]},row_right:{type:"view",style:{width:100,alignItems:"flex-end",paddingRight:15},root:["row_time","row_view"]},row_view:{type:"view",root:["row_state","row_status"],style:{marginTop:6,flexDirection:"row"}},row_state:{type:"text",text:"逾期",ref:!0,style:{display:"none",fontSize:10,borderRadius:4,backgroundColor:"#FDE6E7",color:"#FA4F52",justifyContent:"center",verticalAlign:"middle",textAlign:"center",width:36,marginTop:-2}},row_status:{type:"text",style:{fontSize:12,color:"#8C8D8E",width:"100%"},textStyle:{wordBreak:"break-word",width:"100%",textAlign:"right"}},row_title:{type:"text",numberofline:2,style:{color:"#292F33",fontSize:14,lineHeight:"18px",maxWidth:"100%"},text_bind:"processInstance.name"},row_feature_repeat:{type:"repeat",root:["rep_view"],ref:!0,style:{display:"inline",paddingTop:6},itemStyle:{}},rep_view:{type:"view",style:{width:"100%"},root:["row_feature_text"]},row_feature_text:{type:"text",numberofline:1,style:{color:"#ADADAD",fontSize:12,lineHeight:16},text_bind:"text"},row_time:{type:"text",style:{top:2,color:"#999999",fontSize:12},text_bind:"createTime"}}}}),define("logic/deal",["../parts/language"],function(e){function t(e){this.pageview=e.pageview,this.params=this.pageview.params||{},this.comment=""}return t.prototype={input_textarea_init:function(t,i){"agree"===this.params.action?(t.config.placeholder=e.formAction.agree||e.placeholder.agreeComments,t.config.text=e.formAction.agree||e.placeholder.agreeComments):"disagreee"===this.params.action?t.config.placeholder=e.formAction.reject||"不同意":t.config.placeholder=e.formAction.reject||e.placeholder.rejectComments},submitbtn_init:function(t,i){"agree"===this.params.action?t.config.title=e.formAction.agree:"disagree"===this.params.action?t.config.title=e.formAction.disagreee||"不同意":t.config.title=e.formAction.reject},submitbtn_click:function(t,i){var s={};try{s.approveMessage=t.parent.parent.components.input_textarea_container.$el.find("textarea").val()||""}catch(e){console.log(e)}s.taskId=this.params.taskId,s.action=this.params.action,s.userid=this.params.userid,s.billId=this.params.billId,s.billtype=this.params.billtype,s.groupid=this.params.groupid,"agree"===this.params.action?(s.approveMessage=encodeURIComponent(this.beforeSubmit(s.approveMessage)||e.formAction.agree),this.doAgree(s)):"disagree"===this.params.action?(s.approveMessage=encodeURIComponent(this.beforeSubmit(s.approveMessage)||e.formAction.disagreee||"不同意"),this.doAgree(s)):"reject"===this.params.action&&(s.approveMessage=encodeURIComponent(this.beforeSubmit(s.approveMessage)||e.formAction.reject),this.doAgree(s))},doAgree:function(t){var i=this,s=t,a="/process/audit";"reject"===s.action&&(a="/process/rejectTask"),this.pageview.showLoading({text:e.formTips.onLoading,timeout:8e3}),this.pageview.ajax({url:a,data:s,type:"GET",success:function(t){if(i.pageview.hideLoading(!0),"0"===t.flag){try{i.pageview.showTip({text:JSON.parse(t.data)[0].des,duration:3e3})}catch(t){i.pageview.showTip({text:"reject"===i.pageview.params.action?e.formTips.rejectSucess:e.formTips.approvalSucess,duration:3e3})}setTimeout(function(){i.pageview.goBack(-2)},2e3)}else i.pageview.showTip({text:t.desc,duration:2e3}),setTimeout(function(){i.pageview.goBack(-2)},2e3)},error:function(e){}})},beforeSubmit:function(e){return this.filterEmoji(e)},filterEmoji:function(e){return e?e.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]|[\uD800-\uDBFF]|[\uDC00-\uDFFF]/g,""):""}},t}),define("pages/deal",["../logic/deal","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:"#F2F3F4"},root:["main_view"],components:{main_view:{type:"view",root:["main_view_content"],style:{flexDirection:"column",height:"100%",overflowY:"auto",overflowX:"hidden"}},main_view_content:{type:"view",root:["input_textarea_container","bottomToolBar"],style:{flexDirection:"column",flex:"1 1 1px",marginTop:5}},input_textarea_container:{type:"view",root:["input_textarea"],style:{flexDirection:"column",paddingBottom:12,backgroundColor:"#fff",marginBottom:20}},input_textarea:{type:"textarea",ref:!0,max:2e3,limitStyle:{right:10,color:"#aaa",display:"none"},numStyle:{},maxStyle:{},placeholder:"",style:{height:150,paddingLeft:15,paddingRight:15,fontSize:15,paddingTop:15,width:"100%"}},bottomToolBar:{type:"view",ref:!0,style:{flexDirection:"row",alignItems:"center"},root:["submitbtn"]},submitbtn:{type:"button",title:"提交",mode:2,style:{height:42,fontSize:16,width:"90%",backgroundColor:"#29b6f6",margin:"auto"}}}}}),define("parts/analysis",["./common"],function(e){var t=[];return{getAnalysis_ifroms:function(e){return this.getComponentData(e),t},getComponentData:function(e){t=[];var i=e.inst.formDataList[0];this.getLayoutDatail(e.inst.bpmForms[0].fields).forEach(function(e){e.content=i[e.type],t.push(e)})},getLayoutDatail:function(e){var t=[];return e.forEach(function(e,i){var s=JSON.parse(e.variableContent);t.push({title:s.name,type:e.tableFieldName,content:"",id:s.id})}),t}}}),define("logic/detail",["utils","../parts/analysis","../parts/language"],function(e,t,i){function s(t){var i=this;this.item=[],this.pageview=t.pageview,this.taskId=this.pageview.params.taskId,e.deviceInfo().isAndroid?window.setTimeout(function(){i.loadData()},300):i.loadData()}return s.prototype={onPageResume:function(){this.item=[],this.loadData()},loadData:function(){var e=this;this.pageview.showLoading({text:i.formTips.onLoading,timeout:8e3,reLoadCallBack:function(){e._loadData()}}),e._loadData()},_loadData:function(){var e=this,i={url:"/process/getApply",type:"GET",data:{taskId:this.pageview.params.taskId||"",billId:this.pageview.params.billId||"",billtype:this.pageview.params.billtype||this.pageview.params.pk_billtype||"",userid:this.pageview.params.userid||"",groupid:this.pageview.params.groupid||"0001V610000000000EEN"},success:function(i){var s;try{s=JSON.parse(i.data)}catch(e){s=i.data}e.instName=s.inst.name,setTimeout(function(){e.pageview.refs.result_text.$el.show();var i=e.pageview.refs.top_view.components.viewpager;jsonList=t.getAnalysis_ifroms(s),i.curPageViewItem.contentInstance.refs.detail_repeat.bindData(jsonList);var a=s.inst.historicTasks;e.processInstances=[],e.startParticipant={},s.inst.historicActivityInstances.forEach(function(t){"startEvent"===t.activityType&&(e.startParticipant=t)}),e.processInstances.push({activityType:e.startParticipant.activityType,taskId:e.startParticipant.taskId,assignee:e.startParticipant.assignee,currentUserId:"",deleteReason:e.startParticipant.deleteReason,endTime:e.startParticipant.endTime,taskAuditDesc:e.startParticipant.deleteReason,taskComments:e.startParticipant.taskComments,userName:e.startParticipant.userName});for(var n=0;n<a.length;n++){var o=a[n],r="handling";o.endTime||s.inst.deleteReason?(r="solved",e.processInstances.unshift({activityType:r,taskId:o.taskComments&&o.taskComments[0]?o.taskComments[0].taskId:o.taskId,
assignee:o.assignee,currentUserId:"",deleteReason:o.deleteReason,endTime:o.endTime,taskAuditDesc:o.deleteReason,taskComments:o.taskComments&&o.taskComments[0]?decodeURIComponent(o.taskComments[0].message):"",userName:o.userName})):e.currentToDoTask={activityType:r,taskId:o.id,assignee:o.assignee,currentUserId:"",deleteReason:o.deleteReason,endTime:o.endTime,taskAuditDesc:o.deleteReason,taskComments:o.taskComments,userName:o.userName}}e.processInstances.unshift(e.currentToDoTask),e.pageview.delegate("userinfo_name",function(t){var i=e.startParticipant.userName+"的"+e.instName;t.setText(i)}),!e.currentToDoTask||e.taskId!==e.currentToDoTask.taskId||s.inst.endTime||s.inst.deleteReason||(e.item.push({label:"批准",id:"",type:"agree"}),e.item.push({label:"驳回",id:"",type:"reject"}),e.pageview.refs.bottomToolBar.$el.show(),e.initBtn()),s.inst.endTime||s.inst.deleteReason?(e.pageview.refs.result_text.innerText.html("已完成"),e.pageview.refs.result_text.innerText.css("color","blue")):(e.pageview.refs.result_text.innerText.css("color","#e7a757"),e.pageview.refs.result_text.innerText.html("审批中")),e.pageview.hideLoading(!0)},500)},error:function(t){e.pageview.showTip({text:t.msg,duration:2e3})}};this.pageview.ajax(i)},initBtn:function(){if(this.item.length>4){for(var e=[],t=[],i=0;i<this.item.length;i++)i>=3?t.push(this.item[i]):e.push(this.item[i]);0===e.length?(this.pageview.refs.buttonGroup.$el.hide(),this.pageview.refs.buttonGroup.$el.css({"background-color":"rgb(247, 247, 247)"}),this.pageview.refs.buttonGroup.$el.css({"border-top":"1px solid #eee"})):(this.pageview.refs.buttonGroup.$el.show(),this.pageview.refs.buttonGroup.$el.css({"border-top":"1px solid #eee"}),this.pageview.refs.bottomToolBar.$el.css({"background-color":"rgb(255, 255, 255)"}),this.pageview.refs.buttonGroup.$el.css({"background-color":"rgb(255, 255, 255)"})),this.pageview.refs.moreRepeat.bindData(t),this.pageview.refs.buttonGroup.bindData(e),this.pageview.refs.bottomToolBar.$el.show(),this.pageview.refs.splitline.$el.show(),this.pageview.refs.moreBtn.$el.show()}else 0===this.item.length?(this.pageview.refs.bottomToolBar.$el.hide(),this.pageview.refs.buttonGroup.$el.css({"background-color":"rgb(247, 247, 247)"}),this.pageview.refs.buttonGroup.$el.css({"border-top":"rgb(247, 247, 247)"})):(this.pageview.refs.bottomToolBar.$el.show(),this.pageview.refs.buttonGroup.$el.css({"background-color":"rgb(255, 255, 255)"}),this.pageview.refs.bottomToolBar.$el.css({"background-color":"rgb(255, 255, 255)"})),this.pageview.refs.buttonGroup.bindData(this.item),this.pageview.refs.splitline.$el.hide(),this.pageview.refs.moreBtn.$el.hide()},viewpager_init:function(e,t){this.viewpager=e},result_logo_init:function(e,t){e.config.defaultSrc=i.iconUrl.agreee},userinfo_name_init:function(e,t){e.config.text=i.formTips.onLoading},segment_init:function(e,t){e.config.items=[{title:i.formTips.formDetail},{title:i.formTips.processDetail},{title:i.formTips.attachment}]},segment_change:function(e,t){var i=this;if(!t.nochange){var s=t.item,a=s.datasource,n=$.trim(a.title);"详情"===n||"Form"===n?this.viewpager.showItem("detailContent_detail",{type:"content"}):"流程"===n||"Process"===n?(this.viewpager.showItem("detailProcess_detail",{type:"process",parentThis:this}),i.processInstances&&window.setTimeout(function(){i.viewpager.curPageViewItem.contentInstance.refs.middle_flow_repeat.bindData(i.processInstances)},200)):this.viewpager.showItem("detailAttachment_detail",{type:"attachment",parent:this})}},morePopover_init:function(e,t){this.morePopver=e},moreBtn_click:function(e,t){this.morePopver.show(e)},moreRepeat_itemclick:function(e,t){this.buttonGroupClick(e),this.morePopver.hide()},buttonGroup_itemclick:function(e,t){this.buttonGroupClick(e)},buttonGroupClick:function(e){var t={action:e.datasource.type,taskId:this.pageview.params.taskId||"",billId:this.pageview.params.billId||"",billtype:this.pageview.params.billtype||this.pageview.params.pk_billtype||"",userid:this.pageview.params.userid||"",groupid:this.pageview.params.groupid||"0001V610000000000EEN"};"reject"===e.datasource.type?this.pageview.go("deal",t):this.AgreeAndAssign(t)},AgreeAndAssign:function(e){var t=this,s=e;this.pageview.showLoading({text:i.formTips.onLoading,timeout:8e3}),this.pageview.ajax({url:"/process/assignCheck",data:s,type:"GET",success:function(e){t.pageview.hideLoading(!0),"0"===e.flag&&JSON.parse(e.data).psnstructlist&&0!=JSON.parse(e.data).psnstructlist.length?t.pageview.showTip({text:"下一步为指派环节",duration:2e3}):t.pageview.go("deal",s)},error:function(e){}})}},s}),define("pages/detail",["../logic/detail","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:"#F7F7F7"},root:["top_view","bottomToolBar","morePopover"],components:{top_view:{type:"view",ref:!0,style:{flex:1,background:"#f2f3f4"},root:["userinfo_warp","segment","viewpager"]},userinfo_warp:{type:"view",ref:!0,className:"bottom-half-line",style:{flexDirection:"row",alignItems:"flex-start",background:"#fff",padding:20,zIndex:11},root:["user_icon","userinfo_rightwarp","result_logo","result_text"]},user_icon:{type:"image",ref:!0,src:"./imgs/unknow_person.png",title:"",style:{width:55,height:55,fontSize:18,backgroundColor:"rgba(255, 255, 255,0)",marginLeft:13,marginRight:13,borderRadius:"100%"}},userinfo_rightwarp:{type:"view",style:{flex:1,justifyContent:"center",height:55},root:["userinfo_name"]},result_text:{type:"text",text:"",ref:!0,style:{display:"none",position:"absolute",fontSize:14,right:16,top:17,pointerEvents:"none",maxWidth:68,textAlign:"center"}},result_logo:{type:"image",defaultSrc:"./imgs/agree.png",ref:!0,style:{display:"none",position:"absolute",top:-25,width:160,right:-30,opacity:"1",background:"rgba(255,255,255,0)",transition:"all 150ms ease","-webkit-backface-visibility":"hidden","-webkit-transform-style":"preserve-3d","-webkit-transform":"translate3d(0,0,0)",pointerEvents:"none"}},userinfo_name:{type:"text",ref:!0,text:"加载中...",className:"title-line-clamp",style:{color:"#262626",fontSize:16,paddingRight:80}},segment:{type:"segment_android",ref:!0,items:[{title:"详情"},{title:"流程"},{title:"附件"}],root:["segment_item"],className:"bottom-half-line",style:{height:38,color:"#262626",backgroundColor:"#fff"},itemStyle:{paddingBottom:2}},segment_item:{type:"text",text:"加载中...",text_bind:"title",selectedClassName:"yy-sgm-item-selected-android",style:{color:"#262626",fontSize:15}},viewpager:{type:"viewpager",className:"detail_viewpager",defaultKey:"detailContent_detail",style:{flex:1}},bottomToolBar:{type:"view",ref:!0,style:{height:46,flexDirection:"row",backgroundColor:"#fff",alignItems:"center",display:"none"},root:["buttonGroup","splitline","moreBtn"]},splitline:{type:"view",ref:!0,style:{borderLeft:"1px solid rgb(220, 220, 220)",height:14}},buttonGroup:{type:"repeat",ref:!0,root:["toolbarIcon"],className:"top-half-line",style:{flex:1,alignItems:"center",backgroundColor:"rgb(247, 247, 247)",height:46},itemStyle:{flex:1,zIndex:11,justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},splitStyle:{borderLeft:"1px solid #ededed",height:16}},toolbarIcon:{type:"icon",text_bind:"label",style:{flex:1,width:"100%"},iconStyle:{color:"#262626",fontSize:14},textStyle:{color:"#262626",marginLeft:5,width:"100%",textAlign:"center",fontSize:16}},moreBtn:{type:"icon",font:"cap_e90d",ref:!0,className:"top-half-line",iconStyle:{color:"#262626",fontSize:16},style:{display:"none",height:46,width:30,padding:"0 42px",borderTop:"1px solid #eee"}},morePopover:{type:"popover",root:["moreRepeat"],animate:{mode:"2"},bkCoverStyle:{backgroundColor:"rgba(230, 230, 230, 0.2)"},arrowStyle:{backgroundColor:"#fff",zIndex:2,"-webkit-box-shadow":"9px 8px 13px #9C9C9C","box-shadow":"9px 8px 13px #9C9C9C"},style:{"-webkit-box-shadow":"0px 8px 13px #9C9C9C","box-shadow":"0px 8px 13px #9C9C9C",minWidth:88,backgroundColor:"#fff",minHeight:50,height:"auto",borderRadius:"7px"}},moreRepeat:{type:"repeat",ref:!0,root:["moreRepeat_icon"],style:{flexDirection:"column",flex:1},itemStyle:{justifyContent:"center",alignItems:"stretch",height:40,padding:"0 5px"}},moreRepeat_icon:{type:"icon",text:"按钮",text_bind:"label",textStyle:{fontSize:14,color:"#292f33"}}}}}),define("parts/format",[],function(){var e={"application/msword":{ext:"word.png"},"application/docx":{ext:"word.png"},"application/DOCX":{ext:"word.png"},"application/doc":{ext:"word.png"},"application/DOC":{ext:"word.png"},"application/pdf":{ext:"pdf.png"},"application/pgp-signature":{ext:"other.png"},"application/postscript":{ext:"other.png"},"application/rtf":{ext:"other.png"},"application/vnd.ms-excel":{ext:"exc.png"},"application/xlsx":{ext:"exc.png"},"application/XLSX":{ext:"exc.png"},"application/xls":{ext:"exc.png"},"application/XLS":{ext:"exc.png"},"application/vnd.ms-powerpoint":{ext:"ppt.png"},"application/ppt":{ext:"ppt.png"},"application/PPT":{ext:"ppt.png"},"application/pptx":{ext:"ppt.png"},"application/PPTX":{ext:"ppt.png"},"application/zip":{ext:"zipflie.png"},"application/x-shockwave-flash":{ext:"other.png"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{ext:"word.png"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{ext:"word.png"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{ext:"exc.png"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{ext:"ppt.png"},"application/vnd.openxmlformats-officedocument.presentationml.template":{ext:"other.png"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{ext:"other.png"},"application/x-javascript":{ext:"other.png"},"application/json":{ext:"other.png"},"audio/mpeg":{ext:"other.png"},"audio/x-wav":{ext:"music.png"},"audio/x-m4a":{ext:"music.png"},"audio/ogg":{ext:"music.png"},"audio/aiff":{ext:"other.png"},"audio/flac":{ext:"other.png"},"audio/aac":{ext:"other.png"},"audio/ac3":{ext:"other.png"},"audio/x-ms-wma":{ext:"other.png"},"image/bmp":{ext:"pic.png"},"image/gif":{ext:"pic.png"},"image/jpeg":{ext:"pic.png"},"image/JPEG":{ext:"pic.png"},"image/jpg":{ext:"pic.png"},"image/JPG":{ext:"pic.png"},"image/photoshop":{ext:"other.png"},"image/png":{ext:"pic.png"},"image/PNG":{ext:"pic.png"},"image/svg+xml":{ext:"other.png"},"image/tiff":{ext:"other.png"},"text/plain":{ext:"text.png"},"text/txt":{ext:"text.png"},"text/html":{ext:"other.png"},"text/css":{ext:"other.png"},"text/csv":{ext:"other.png"},"text/rtf":{ext:"other.png"},"video/mpeg":{ext:"video.png"},"video/quicktime":{ext:"video.png"},"video/mp4":{ext:"video.png"},"video/x-m4v":{ext:"video.png"},"video/x-flv":{ext:"video.png"},"video/x-ms-wmv":{ext:"video.png"},"video/avi":{ext:"video.png"},"video/webm":{ext:"video.png"},"video/3gpp":{ext:"video.png"},"video/3gpp2":{ext:"video.png"},"video/vnd.rn-realvideo":{ext:"video.png"},"video/ogg":{ext:"video.png"},"video/x-matroska":{ext:"video.png"},"application/vnd.oasis.opendocument.formula-template":{ext:"other.png"},"application/octet-stream":{ext:"other.png"},"application/rar":{ext:"zipflie.png"},unknow:{ext:"other.png"},doc:{ext:"word.png"},docx:{ext:"word.png"},xls:{ext:"exc.png"},xlsx:{ext:"exc.png"},xlsm:{ext:"exc.png"},mp4:{ext:"video.png"},video:{ext:"video.png"},mov:{ext:"video.png"},avi:{ext:"video.png"},wmv:{ext:"video.png"},rmvb:{ext:"video.png"},mpeg:{ext:"video.png"},mpg:{ext:"video.png"},mp3:{ext:"audio.png"},wav:{ext:"audio.png"},flac:{ext:"audio.png"},aif:{ext:"audio.png"},wma:{ext:"audio.png"},amr:{ext:"audio.png"},aac:{ext:"audio.png"},rar:{ext:"zipflie.png"},zip:{ext:"zipflie.png"},arj:{ext:"zipflie.png"},gz:{ext:"zipflie.png"},z:{ext:"zipflie.png"},png:{ext:"pic.png"},jpg:{ext:"pic.png"},jpeg:{ext:"pic.png"},bmp:{ext:"pic.png"},pic:{ext:"pic.png"},tif:{ext:"pic.png"},gif:{ext:"pic.png"},text:{ext:"text.png"},txt:{ext:"text.png"},pdf:{ext:"pdf.png"},pptx:{ext:"ppt.png"},ppt:{ext:"ppt.png"}};return{getFormat:function(t){var i=t,s=new RegExp("("+i+")$","gi");if(null!==t&&void 0!==t){var a="";return $.each(e,function(e,t){s.test(e)&&(a=e)}),e[t]||e[a]||e.unknow}return e.unknow}}}),define("logic/detailAttachment",["utils","../parts/language","../parts/format"],function(e,t,i){function s(e){this.pageview=e.pageview,this.parentThis=this.pageview.viewpagerParams.parent,this.loadData()}return s.prototype={onPageResume:function(){this._loadData()},loadData:function(){var e=this;this.pageview.showLoading({text:t.formTips.onLoading,timeout:8e3,reLoadCallBack:function(){e._loadData()}}),e._loadData()},_loadData:function(){var e=this,t={url:"/process/getTaskAttachments",type:"GET",data:{taskId:e.parentThis.pageview.params.taskId,billId:e.parentThis.pageview.params.billId,billtype:e.parentThis.pageview.params.billtype||this.pageview.params.pk_billtype||"",userid:e.parentThis.pageview.params.userid||"",groupid:e.parentThis.pageview.params.groupid||"0001V610000000000EEN"},success:function(t){if(e.pageview.hideLoading(!0),t.data&&t.data instanceof Array){var i=[];t.data.forEach(function(e){i.push({name:e.name,filesize:e.filesize,fileid:e.id,aliOSSUrl:"",type:e.type,author:e.author})}),e.pageview.delegate("flow_repeat",function(e){e.bindData(i)})}},error:function(t){e.pageview.hideLoading(!0)}};this.pageview.ajax(t)},list_nodata_text_init:function(e,i){e.config.text=t.formTips.noAttachment},format_image_init:function(e,t){var s=e.datasource.type?e.datasource.type.toLowerCase():"",a=e.datasource.aliOSSUrl?e.datasource.aliOSSUrl.split("."):[],n=a[a.length-1],o=["jpg","jpeg","gif","png","bmp"];s||-1!==$.inArray(n,o)?$.inArray(n,o)>-1&&(s="image/"+n):s="application/"+n,s.indexOf("image")>-1||i.getFormat(s)&&i.getFormat(s).ext,e.config.src="./imgs/"+(i.getFormat(s)?i.getFormat(s).ext:i.getFormat("unkonw").ext)},file_size_init:function(e,i){var s=t.formAction.attaContributor;e.config.text=s+e.datasource.author},title_view_init:function(e,t){e.config.text=e.datasource.name},flow_repeat_itemclick:function(e,t){var i=this;e.datasource.aliOSSUrl?window.open(e.datasource.aliOSSUrl):i.pageview.showTip({text:"暂不支持附件预览和下载",duration:1e3})},atta_time_init:function(t,i){t.datasource.time&&!isNaN(new Date(t.datasource.time).getTime())?t.config.text=e.timestampToTimeStr(t.datasource.time):t.config.text=""}},s}),define("pages/detailAttachment",["../logic/detailAttachment","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:"#F7F7F7"},root:["flow_repeat"],components:{flow_repeat:{type:"repeat",ref:!0,style:{marginTop:10,background:"#F7F7F7",flexDirection:"column",paddingBottom:20,height:"96%"},itemStyle:{flexDirection:"row",background:"#fff",height:65,borderBottom:"solid 1px #EDEDED"},nodata:"list_nodata",items:[],root:["flow_view"]},list_nodata:{type:"view",root:["list_nodata_img","list_nodata_text"],style:{justifyContent:"center",alignItems:"center",height:"100%"}},list_nodata_img:{type:"image",src:"./imgs/yunshen_nodata.png",style:{w:80,h:80,background:"#f7f7f7",marginBottom:14}},list_nodata_text:{type:"text",text:"暂无内容",style:{fontSize:14,color:"#adadad"}},flow_view:{type:"view",root:["flow_left","flow_middle","flow_right"],style:{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"center"}},flow_left:{type:"view",style:{width:40,justifyContent:"center",display:"flex",height:"100%",marginLeft:12,marginRight:14},root:["format_image"]},format_image:{type:"image",src:"./imgs/exc.png",ref:!0,style:{borderRadius:4}},flow_middle:{type:"view",style:{flex:1,justifyContent:"center"},root:["title_view","file_size"]},title_view:{type:"text",text_bind:"name",numberofline:1,style:{fontSize:16,color:"#262626",display:"block",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:2}},file_size:{type:"text",text:"贡献者：",style:{fontSize:13,color:"#9E9E9E"}},flow_right:{type:"view",style:{width:120,flexDirection:"column",alignItems:"flex-end",justifyContent:"center",paddingRight:12},root:["atta_time","atta_contributor"]},atta_time:{type:"text",text:"00:00",style:{fontSize:13,paddingBottom:3,textAlign:"right"}},atta_contributor:{type:"text",text:"删除",style:{display:"none",fontSize:13,color:"#0093ff"}}}}}),define("logic/detailContent",[],function(){function e(e){this.pageview=e.pageview}return e.prototype={detail_iamge_init:function(e,t){e.$el.hide()},detail_DividingLine_init:function(e,t){e.$el.hide()}},e}),define("pages/detailContent",["../logic/detailContent","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:"#F7F7F7"},root:["detail_repeat"],components:{datatable_repeat:{type:"repeat",ref:!0,root:["datatable_view"],style:{display:"none",width:"100%",backgroundColor:"#fff",flexDirection:"column"},itemStyle:{minHeight:40,flexDirection:"row"},itemClassName:"bottom-half-line"},datatable_view:{type:"view",root:["datatable_view_title","datatable_view_item"],style:{flexDirection:"column",width:"100%"}},datatable_view_title:{type:"text",text_bind:"title",preText:"1",preTextStyle:{backgroundColor:"#F39801",color:"rgb(255, 255, 255)",borderRadius:"50%",fontSize:12,w:15,lineHeight:14,marginRight:4,textAlign:"center"},style:{backgroundColor:"rgb(251,251,251)",color:"#9E9E9E",fontSize:13,paddingLeft:14,height:40}},datatable_view_item:{type:"repeat",root:["datatable_view_item_title","datatable_view_item_content"],style:{display:"inline",width:"100%",backgroundColor:"#fff"},itemStyle:{minHeight:30,flexDirection:"row"}},datatable_view_item_title:{type:"text",text_bind:"title",style:{color:"#9E9E9E",fontSize:13,paddingLeft:14}},datatable_view_item_content:{type:"text",text_bind:"content",style:{color:"#262626",fontSize:13,textAlign:"right",flex:1,paddingRight:12}},detail_repeat:{type:"repeat",ref:!0,root:["detail_view"],style:{display:"inline",width:"100%",backgroundColor:"#fff",marginTop:10},itemStyle:{minHeight:40,flexDirection:"row",widht:"100%"},itemClassName:"bottom-half-line"},detail_view:{type:"view",root:["detail_item_title","detail_item_content","detail_iamge","detail_DividingLine","datatable_repeat"],style:{flexDirection:"row",width:"100%"}},detail_DividingLine:{type:"text",style:{height:1,borderBottom:"1px solid rgb(237, 237, 237)",borderTopColor:"rgb(237, 237, 237)",borderRightColor:"rgb(237, 237, 237)",borderLeftColor:"rgb(237, 237, 237)",marginBottom:10,paddingBottom:10,width:"100%"}},detail_item_title:{type:"text",text:"title:",text_bind:"title",ref:!0,style:{color:"#9E9E9E",fontSize:13,paddingLeft:13,width:80}},detail_item_content:{type:"text",text:"content",text_bind:"content",numberofline:2e3,style:{flex:1,color:"#262626",fontSize:13,padding:12,textAlign:"right"}},detail_iamge:{type:"image",style:{width:"100%"}}}}}),define("logic/detailProcess",["utils","../parts/language"],function(e,t){function i(e){this.pageview=e.pageview,this.parentThis=this.pageview.viewpagerParams.parentThis}return i.prototype={flow_right_content_right_init:function(t,i){if("startEvent"===t.datasource.activityType){var s=null===t.datasource.endTime?t.datasource.startTime:t.datasource.endTime;if(!s)return;s&&!isNaN(new Date(s).getTime())?t.config.text=e.timestampToTimeStr(new Date(s).getTime(),!0):t.config.text=""}else t.datasource.activityType?this.setAnalysis(t,"time"):t.rowInstance.$el.hide()},flow_right_content_middle_bottom_title_init:function(e,i){"startEvent"===e.datasource.activityType?e.config.text=t.formTips.SubmitApplication:this.setAnalysis(e,"status")},left_round_init:function(e,t){this.setAnalysis(e,"icon")},flow_right_content_left_init:function(t,i){if(!t.datasource.pic){var s=e.getImgTitle(t.datasource.userName);t.setTitle(s),t.config.style.backgroundColor=e.getImgBg(s)}},setAnalysis:function(i,s){if("time"===s)"handling"===i.datasource.activityType?i.config.text="":i.datasource.endTime&&-1===i.datasource.endTime.indexOf("9999")&&!isNaN(new Date(i.datasource.endTime).getTime())?i.config.text=e.timestampToTimeStr(new Date(i.datasource.endTime).getTime(),!0):i.config.text="";else if("status"===s){var a=i.datasource.taskComments?i.datasource.taskComments:"";if("handling"===i.datasource.activityType)i.config.text=t.formTips.tasksToProcess;else{var n=i.datasource.taskAuditDesc||(i.datasource.endTime&&-1===i.datasource.endTime.indexOf("9999")?t.formAction.agree:t.formTips.tasksToProcess);i.config.text=n+" "+a}}else"icon"===s&&("handling"===i.datasource.activityType?(i.config.font="cap_e90b",i.config.iconStyle.color="#F39801"):i.datasource.endTime||i.datasource.taskAuditDesc?(i.config.iconStyle.color="#56CFAE",i.config.font="cap_e90a"):(i.config.font="cap_e90b",i.config.iconStyle.color="#F39801"))}},i}),define("pages/detailProcess",["../logic/detailProcess","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:"#F7F7F7"},root:["middle_flow_repeat"],components:{middle_flow_repeat:{type:"repeat",ref:!0,style:{background:"rgb(247, 247, 247)",flexDirection:"column"},itemStyle:{flexDirection:"row",background:"rgb(247, 247, 247);"},root:["flow_left","flow_right"]},flow_left:{type:"view",ref:!0,root:["left_line","left_round"],style:{width:24}},left_line:{type:"text",text:" ",ref:!0,style:{borderLeft:"solid 1px #e6e6e6",background:"#e6e6e6",height:"95%",position:"absolute",left:22,bottom:29}},left_round:{type:"icon",font:"cap_e90a",ref:!0,iconStyle:{color:"#56CFAE",borderRadius:"50%",fontSize:18,backgroundColor:"#fff"},style:{position:"absolute",right:"-8px",top:42,w:18,borderRadius:"50%",zIndex:11}},flow_right:{type:"view",ref:!0,root:["flow_right_arrow","flow_right_content"],style:{flex:1,left:25,top:20,marginBottom:20,marginRight:48,borderRadius:6,paddingLeft:10,backgroundColor:"#fff",boxShadow:"0px 0px 0px 1px #ededed"}},flow_right_arrow:{type:"text",text:" ",ref:!0,style:{display:"none",position:"absolute",top:20,left:-9,width:0,height:0,borderTop:"10px solid transparent",borderRight:"10px solid #fff",borderBottom:"10px solid transparent"}},flow_right_content:{type:"view",ref:!0,root:["flow_right_content_left","flow_right_content_middle","flow_right_content_right"],style:{flexDirection:"row",alignItems:"flex-start",paddingTop:12,paddingBottom:12,position:"relative"}},flow_right_content_left:{type:"image",src_bind:"pic",src:"pic",title_bind:"userName",style:{w:40,backgroundColor:"#eee",borderRadius:"50%",marginRight:14,top:1}},flow_right_content_middle:{type:"view",root:["flow_right_content_middle_top","flow_right_content_middle_bottom"],style:{flexDirection:"column",flex:1,marginRight:14,top:3}},flow_right_content_middle_top:{type:"text",text_bind:"userName",style:{fontSize:16,lineHeight:16,marginBottom:4,color:"#292F33"}},flow_right_content_middle_bottom:{type:"view",root:["flow_right_content_middle_bottom_title","flow_right_content_middle_bottom_image_repeat"],style:{flexDirection:"column",paddingRight:60}},flow_right_content_middle_bottom_title:{type:"text",text:"状态加载中...",style:{fontSize:14,lineHeight:21,color:"#9E9E9E"}},flow_right_content_middle_bottom_image_repeat:{type:"repeat",ref:!0,root:["flow_right_content_middle_bottom_image_repeat_item"],style:{flexWrap:"wrap"},itemStyle:{margin:"5px 10px 5px 0"}},flow_right_content_middle_bottom_image_repeat_item:{type:"image",src_bind:"pic",style:{w:40}},flow_right_content_right:{type:"text",text_bind:"startTime",style:{fontSize:12,lineHeight:12,height:"100%",marginRight:14,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end",right:0,top:0,color:"#ADADAD",zIndex:10}}}}}),define("logic/waitmeapprove",["../parts/language"],function(e){function t(e){this.pageview=e.pageview,this.countNum=this.pageview.params.countNum}return t.prototype={onPageResume:function(){window.changeFormStatus&&this.viewpager.curPageViewItem.contentInstance.refs.listview.loadFirstPageData({parentAnimate:!0})},searchview_init:function(e,t){this.searchview=e,this.searchview.show=!0,window.pageViewTitle?(e.config.style.display="none","commonlist_waitmyapprove"===window.pageViewTitle&&(e.config.style.display="block")):e.config.style.display="block"},segment_item_init:function(t){t.config.text=e.formTips.tasksProcessed;var i=t.datasource.title;"待我审批"!==i&&"Pending"!==i||(this.waitmeapproveLabel=t,void 0!==this.countNum&&null!==this.countNum&&(t.config.text=e.formTips.tasksToProcess))},viewpager_init:function(e,t){this.viewpager=e},segment_change:function(e,t){if(!t.nochange){var i=t.item,s=i.datasource,a=s.title;this.searchview.$el.show(),this.searchview.show=!0,"我已审批"===a||"Approved"===a?this.viewpager.showItem("commonlist_waitmyapprovedone",{type:"done"}):this.viewpager.showItem("commonlist_waitmyapprove",{type:"waiting"})}},searchInput_init:function(t,i){t.config.cancel=e.formAction.cancel},searchInput_cancel:function(e,t){(t.value||this.searchValue)&&(this.searchValue=!1,e.input.val(""),this.viewpager.curPageViewItem.contentInstance.refs.listview.ajaxConfig.data.start=0,this.viewpager.curPageViewItem.contentInstance.refs.listview.ajaxConfig.data.pageNum=1,this.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.keyword="",this.viewpager.curPageViewItem.contentInstance.refs.listview.loadFirstPageData({parentAnimate:!0}))},searchInput_search:function(e,t){t.value&&(this.searchValue=!0),this.viewpager.curPageViewItem.contentInstance.refs.listview.ajaxConfig.data.start=0,this.viewpager.curPageViewItem.contentInstance.refs.listview.ajaxConfig.data.pageNum=1,this.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.categoryIds=null,this.viewpager.curPageViewItem.contentInstance.refs.listview.config.ajaxConfig.data.keyword=t.value,this.viewpager.curPageViewItem.contentInstance.refs.listview.loadFirstPageData({parentAnimate:!0})}},t}),define("pages/waitmeapprove",["../logic/waitmeapprove","../parts/common","utils"],function(e,t,i){return{pluginClass:e,style:{backgroundColor:t.backColor},root:["segment","searchview","viewpager"],components:{segment:{type:"segment_android",ref:!0,items:[{title:"待我审批"},{title:"我已审批"}],root:["segment_item"],className:"bottom-half-line",indicatorStyle:{backgroundColor:"#29B6F6"},style:{height:40,backgroundColor:"#fff"}},segment_item:{type:"text",text:"加载中...",ref:!0,text_bind:"title",selectedClassName:"ar-sgm-item-selected-android",className:"right-half-line",style:{color:"#262626",fontSize:13,textAlign:"center",justifyContent:"center",width:"100%"}},viewpager:{type:"viewpager",defaultKey:"commonlist_waitmyapprove",style:{flex:1}},searchview:{type:"view",root:["searchInput"],style:{width:"100%"}},searchInput:{cancelBtnStyle:{color:"#37B7FD",fontSize:15},style:{backgroundColor:"#fff"},iconStyle:{},placeholder:"搜索标题",font:"ap_e903",ref:!0,type:"simplesearchview"}}}});